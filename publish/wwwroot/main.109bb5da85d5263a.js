(self.webpackChunkng=self.webpackChunkng||[]).push([[179],{25914:(ee,z,a)=>{"use strict";a.d(z,{o:()=>Pe});var S=a(69808),e=a(93075),x=a(57276),F=a(11066),O=a(58432),D=a(86952),P=a(59730),N=a(70908),c=a(45470),u=a(39571),l=a(59773),m=a(46361),M=a(61480),g=a(7374),$=a(12601),r=a(80289),v=a(82892),f=a(7552),h=a(58576),C=a(38670),b=a(44565),B=a(65275),_=a(42773),U=a(78390),A=a(14452),E=a(4561),L=a(21343),T=a(75262),k=a(24545),Z=a(62432),V=a(31794),Y=a(96831),X=a(90129),te=a(11157),G=a(67229),ie=a(1289),q=a(71213),ae=a(46276),J=a(73829),H=a(55590),ne=a(24443),j=a(76183),se=a(6815),me=a(56558),fe=a(546),Se=a(15559),Oe=a(20479),he=a(5e3);let Ie=(()=>{class re{}return re.\u0275fac=function(_e){return new(_e||re)},re.\u0275mod=he.oAB({type:re}),re.\u0275inj=he.cJS({imports:[F.rt,O.XD,D.Iq,u.U5,l.HT,m.nZ,P._t,M.Bb,g.g,$._r,r.ot,v.vV,f.QW,h.p9,C.Hi,b.T5,B.FA,_.Is,U.t,A.To,E.N6,L.Ps,T.c,k.ie,Z.Tx,V.XK,Y.TU,X.Cv,te.Cq,G.Fk,V.si,ie.LD,q.SJ,ae.KP,J.rP,H.ZX,ne.JX,j.p0,se.Nh,me.g0,fe.AV,Se.dp,Oe.U8,N.eL,c.Cl]}),re})();var be=a(86405);let Pe=(()=>{class re{}return re.\u0275fac=function(_e){return new(_e||re)},re.\u0275mod=he.oAB({type:re}),re.\u0275inj=he.cJS({imports:[[S.ez,e.u5,e.UX,x.bd,Ie,be.ef,ne.JX]]}),re})()},70900:(ee,z,a)=>{"use strict";a.d(z,{z:()=>F});var S=a(22977),e=a(5e3),x=a(40520);let F=(()=>{class O{constructor(P){this.http=P,this.buildName=S.Z.Etisalat,this.navData=[{name:"Dashboard",url:"/dashboard",icon:"bi bi-clipboard-data"},{name:"Manage VMN",url:"/ManageVMN",icon:"bi bi-chat-right-fill"},{name:"Configuration",url:"/Configuration",icon:"fa fa-cogs"},{name:"Report",url:"/Report",icon:"bi bi-file-earmark-text",children:[{name:"VMN List",url:"/Report/VMNList",icon:"bi bi-person-circle ml-3"},{name:"Summary",url:"/Report/Summary",icon:"bi bi-list-columns-reverse ml-3"},{name:"Detailed",url:"/Report/Detailed",icon:"bi bi-arrow-right-circle-fill ml-3"}]}],this.navData_enduser=[{name:"Reports",url:"/EndUser",icon:"bi bi-clipboard-data",children:[{name:"VMN List",url:"/EndUser/vmnlist",icon:"fa fa-cogs"},{name:"Summary",url:"/EndUser/SummaryReport",icon:"bi bi-chat-right-fill"},{name:"Detailed",url:"/EndUser/DetailedReport",icon:"bi bi-clipboard-data"}]}];var N=document.querySelector(":root");this.buildName===S.Z.Prutech?(N.style.setProperty("--mainHeader-icon","url(assets/img/brandImg/angle-left-solid.svg)"),N.style.setProperty("--mainHeader-iconHover","url(assets/img/brandImg/angle-left-solid.svg)")):this.buildName===S.Z.Vil?(N.style.setProperty("--mainHeader-icon","url(assets/img/brandImg/angle-left-solid.svg)"),N.style.setProperty("--mainHeader-iconHover","url(assets/img/brandImg/angle-left-solid.svg)"),N.style.setProperty("--main-label","#ffffff"),N.style.setProperty("--main-flowName","#ffffff")):this.buildName===S.Z.Etisalat?(N.style.setProperty("--main-color","#719E19"),N.style.setProperty("--main-label","#ffffff"),N.style.setProperty("--main-flowName","#ffffff"),N.style.setProperty("--main-color-dash","#64833a")):this.buildName===S.Z.Banglalink?(N.style.setProperty("--main-color","#F7791E"),N.style.setProperty("--main-label","#ffffff"),N.style.setProperty("--main-flowName","#ffffff"),N.style.setProperty("--mainHeader-icon","url(assets/img/brandImg/angle-left-solid.svg)"),N.style.setProperty("--mainHeader-iconHover","url(assets/img/brandImg/angle-left-solid.svg)"),N.style.setProperty("--main-color-hover","#F7791E"),N.style.setProperty("--mainSidebar-active","#F7791E"),N.style.setProperty("--mainSidebar-backgroundHover","#F7791E"),N.style.setProperty("--main-color-dash","#92cb1f"),N.style.setProperty("--main-sidebar","linear-gradient(rgb(245, 130, 32), rgb(95, 30, 0))")):this.buildName===S.Z.Airtel&&(N.style.setProperty("--mainHeader-icon","url(assets/img/brandImg/angle-left-solid.svg)"),N.style.setProperty("--mainHeader-iconHover","url(assets/img/brandImg/angle-left-solid.svg)"),N.style.setProperty("--main-label","#ffffff"),N.style.setProperty("--main-flowName","#ffffff"))}}return O.\u0275fac=function(P){return new(P||O)(e.LFG(x.eN))},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},54512:(ee,z,a)=>{"use strict";a.d(z,{X:()=>F});var S=a(92340),e=a(5e3),x=a(40520);let F=(()=>{class O{constructor(P){this.http=P}load(){const N=`config/config.${S.N.production?"prod":"dev"}.json`;return new Promise((c,u)=>{this.http.get(N).toPromise().then(l=>{O.Config=l,c()}).catch(l=>{u(`Could not load file '${N}': ${JSON.stringify(l)}`)})})}}return O.\u0275fac=function(P){return new(P||O)(e.LFG(x.eN))},O.\u0275prov=e.Yz7({token:O,factory:O.\u0275fac}),O})()},18042:(ee,z,a)=>{"use strict";a.d(z,{i:()=>O});var S=a(5e3),e=a(7751),x=a(68555),F=a(13802);let O=(()=>{class D{constructor(N,c,u){this.authService=N,this.router=c,this.signInService=u}canActivate(N,c){let u=c.url,l=this.signInService.decryptData(sessionStorage.getItem("IsLoggedIn"));return null!=l&&"true"==l&&null!=this.signInService.decryptData(sessionStorage.getItem("UserName"))?"/login"!=u||this.router.parseUrl("/login"):(window.alert("You don't have permission to view this page"),this.router.parseUrl("/login"))}}return D.\u0275fac=function(N){return new(N||D)(S.LFG(e.e),S.LFG(x.F0),S.LFG(F.l))},D.\u0275prov=S.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},45517:(ee,z,a)=>{"use strict";a.d(z,{M:()=>D});var S=a(8929),e=a(24850),x=a(5e3),F=a(40520),O=a(13802);let D=(()=>{class P{constructor(c,u){this.http=c,this.siginInService=u,this.refresh=new S.xQ,this.rootURL="api/",this._selectedService=void 0,this._selectedAccount=void 0,this.accountChanged=new S.xQ,this.serviceChanged=new S.xQ}getacconts(){return this.http.get(`${this.rootURL}common/account`,{params:{userid:this.siginInService.decryptData(sessionStorage.getItem("UserID")),userRole:this.siginInService.decryptData(sessionStorage.getItem("RoleID"))}}).pipe((0,e.U)(c=>null===c?void 0:JSON.parse(c.accounts)))}getAllServicesbyAccount(c){return this.http.get(`${this.rootURL}common/service`,{params:{accid:c}}).pipe((0,e.U)(u=>null===u?void 0:JSON.parse(u.services)))}get SelectedAccount(){return this._selectedAccount}set SelectedAccount(c){(this._selectedAccount?this._selectedAccount.Value:void 0)!==(c?c.Value:void 0)&&(this._selectedAccount=c,this.accountChanged.next(c))}get SelectedService(){return this._selectedService}set SelectedService(c){(this._selectedService?this._selectedService.Value:void 0)!==(c?c.Value:void 0)&&(this._selectedService=c,this.serviceChanged.next(c))}}return P.\u0275fac=function(c){return new(c||P)(x.LFG(F.eN),x.LFG(O.l))},P.\u0275prov=x.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},7751:(ee,z,a)=>{"use strict";a.d(z,{e:()=>c});var S=a(40520),e=a(15439),x=a(591),F=(()=>{return(u=F||(F={})).SuperSuperAdmin="100",u.SuperAdmin="101",u.PrutechSupport="102",u.AccountManager="200",u.Supervisor="201",u.Agent="300",F;var u})(),O=a(24850),D=a(5e3),P=a(21468),N=a(69567);let c=(()=>{class u{constructor(m,M,g){this.http=m,this.cookieService=M,this.jwtTokenService=g,this.httpOptions={headers:new S.WM({"Content-Type":"application/json"})},this.rootURL="api/",this.currentUserSubject=new x.X(this.jwtTokenService.getJsonData(localStorage.getItem("id_token"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}authenticate(){const m=this.cookieService.get("authToken"),M=this.jwtTokenService.getJsonData(m);let g,$;if(g=M.Webapp.filter(function(r){return"Cpaas"===r.AppName}),$={userid:M.User.UserId,role:F[g[0].RoleName]},$&&$.userid&&$.role)return this.http.post(`${this.rootURL}login/Auth`,$).pipe((0,O.U)(r=>{localStorage.setItem("id_token",r.idToken);const v=e().add(r.expiresIn,"second");return localStorage.setItem("expires_at",JSON.stringify(v.valueOf())),this._tempuserdata=this.jwtTokenService.getJsonData(r.idToken),this.tempuser={userid:M.User.UserId,loginid:this._tempuserdata.LoginId,username:M.User.Name,email:M.User.Email,phone:M.User.Phone,role:F[g[0].RoleName],accountId:M.Account.AccountId,account:M.Account.AccountName,location:this._tempuserdata.Location},this.currentUserSubject.next(this.tempuser),r}))}IsLoggedIn(){const m=this.cookieService.get("authToken");let M;const g=this.jwtTokenService.getJsonData(m);return m&&g.User.Name?(M=g.Webapp.filter(function($){return"UserManagement"===$.AppName&&"100"==$.RoleId}),0!==M.length||(window.alert("Access Denied !!! Please Login... "),!1)):(window.alert("Access Denied !!! Please Login"),!1)}get IsAdmin(){return this.currentUserValue.role==F.SuperSuperAdmin||this.currentUserValue.role===F.AccountManager||this.currentUserValue.role===F.PrutechSupport||this.currentUserValue.role===F.SuperAdmin}logout(){localStorage.removeItem("id_token"),localStorage.removeItem("expires_at")}isLoggedIn(){return e().isBefore(this.getExpiration())}isLoggedOut(){return!this.isLoggedIn()}getExpiration(){const m=localStorage.getItem("expires_at"),M=JSON.parse(m);return e(M)}}return u.\u0275fac=function(m){return new(m||u)(D.LFG(S.eN),D.LFG(P.N),D.LFG(N.V))},u.\u0275prov=D.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},69567:(ee,z,a)=>{"use strict";a.d(z,{V:()=>x});var S=a(54244),e=a(5e3);let x=(()=>{class F{constructor(){this.jwtHelper=new S.N0}decodeToken(D){return JSON.stringify(this.jwtHelper.decodeToken(D))}getJsonData(D){return JSON.parse(this.decodeToken(D))}getTokenExpirationDate(D){return this.jwtHelper.getTokenExpirationDate(D)}isTokenExpired(D){return this.jwtHelper.isTokenExpired(D)}}return F.\u0275fac=function(D){return new(D||F)},F.\u0275prov=e.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},91315:(ee,z,a)=>{"use strict";a.d(z,{r:()=>D});var S=a(40520),e=a(54512),x=a(5e3),F=a(21468),O=a(69567);let D=(()=>{class P{constructor(c,u,l){this.http=c,this.cookieService=u,this.jwtTokenService=l,this.httpOptions={headers:new S.WM({"Content-Type":"application/json"})},this.acpURL=e.X.Config.api.sms,this.AppName=e.X.Config.appName,this.rootURL="api/",this.isLoggedin=!1}IsLoggedIn(){const c=this.cookieService.get("authToken");let u;const l=this.jwtTokenService.getJsonData(c);return c&&l.User.Name?(u=l.Webapp.filter(function(m){return"UserManagement"===m.AppName&&"100"==m.RoleId}),0===u.length?(window.alert("Access Denied !!! Please Login... "),!1):(u=l.Webapp.filter(function(m){return"Cpaas"===m.AppName}),!!l.User.UserId)):(window.alert("Access Denied !!! Please Login"),!1)}}return P.\u0275fac=function(c){return new(c||P)(x.LFG(S.eN),x.LFG(F.N),x.LFG(O.V))},P.\u0275prov=x.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},63806:(ee,z,a)=>{"use strict";a.d(z,{q:()=>j});var S=a(59730),e=a(45470),x=a(59773),F=a(46361),O=a(11066),D=a(61480),P=a(7374),N=a(12601),c=a(80289),u=a(82892),l=a(7552),m=a(58576),M=a(38670),g=a(44565),$=a(65275),r=a(42773),v=a(78390),f=a(14452),h=a(4561),C=a(21343),b=a(75262),B=a(24545),_=a(62432),U=a(31794),A=a(96831),E=a(90129),L=a(11157),T=a(67229),k=a(1289),Z=a(71213),V=a(46276),Y=a(73829),X=a(55590),te=a(24443),G=a(76183),ie=a(6815),q=a(56558),ae=a(546),J=a(15559),H=a(34587),ne=a(5e3);let j=(()=>{class se{}return se.\u0275fac=function(fe){return new(fe||se)},se.\u0275mod=ne.oAB({type:se}),se.\u0275inj=ne.cJS({imports:[H.c8,O.rt,x.HT,F.nZ,S._t,D.Bb,P.g,N._r,c.ot,u.vV,l.QW,m.p9,M.Hi,g.T5,$.FA,r.Is,v.t,f.To,h.N6,C.Ps,b.c,B.ie,_.Tx,U.XK,A.TU,E.Cv,L.Cq,T.Fk,U.si,k.LD,Z.SJ,V.KP,Y.rP,X.ZX,te.JX,G.p0,ie.Nh,q.g0,ae.AV,J.dp,e.Cl]}),se})()},22977:(ee,z,a)=>{"use strict";a.d(z,{Z:()=>S});var S=(()=>{return(x=S||(S={}))[x.Airtel=0]="Airtel",x[x.Banglalink=1]="Banglalink",x[x.BSNL=2]="BSNL",x[x.Etisalat=3]="Etisalat",x[x.Prutech=4]="Prutech",x[x.Vil=5]="Vil",S;var x})()},16200:(ee,z,a)=>{"use strict";a.d(z,{n:()=>F});var S=a(7206),x=a(5e3);let F=(()=>{class O{constructor(){this.encrypted=""}encrypt(P){let N=S.AES.encrypt(P,"aes").toString();return S.enc.Base64.stringify(S.enc.Utf8.parse(N))}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275prov=x.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},34500:(ee,z,a)=>{"use strict";a.d(z,{i:()=>M});var S=a(40520);const e=[{Name:"Arjun",Channel:"Whatsapp",Type:"Other",Activate:"true"},{Name:"Sajad",Channel:"Facebook",Type:"System Generated",Activate:"false"}];var x=a(8929),F=a(54512),O=a(59973),D=a(94327),P=a(5e3),N=a(45517),c=a(19796),u=a(16200),l=a(52457),m=a(13802);let M=(()=>{class g{constructor(r,v,f,h,C,b){this.manageaccservice=r,this.http=v,this.property=f,this.enc=h,this.toastr=C,this.signInService=b,this.baseURL=F.X.Config.api.sms,this.httpOptions={headers:new S.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"json"},this.httpmulOptions={headers:new S.WM({"Access-Control-Allow-Origin":"*"}),responseType:"json"},this.userInfo={account_id:"",service_id:"",user_id:"",flow_id:"",ip_address:"",browser_info:{browser:"",version:""},os_hostName:""},this.selectedVariables=[],this.userVariables=[],this.showHelpWindow=new x.xQ,this.newReport=new x.xQ,this.storedNodeId=[],this.refreshFlow=new x.xQ,this.changeFlag=new x.xQ,this.newNextObj=new x.xQ,this.flowName=new x.xQ,this.openKeyboard=new x.xQ,this.flowItems=e,this.JSONData=new x.xQ,this.addNodeToComponent=new x.xQ,this.nodeContent=new x.xQ,this.newReq=new x.xQ,this.addConnection=new x.xQ,this.deleteConnection=new x.xQ,this.removeNode=new x.xQ,this.copyNode=new x.xQ,this.eventListner=new x.xQ,this.addDatatoJSON=new x.xQ,this.passUniqueName=new x.xQ,this.dataFromDB=new x.xQ,this.callFlowBuilderPage=new x.xQ,this.fileSaved=new x.xQ,this.alwaysCloseKeyboard=new x.xQ,this.updateVariable=new x.xQ,this.passObjectFlags=new x.xQ,this.baseJSON={drawflow:{Home:{data:{}}}},this.ObjectMaster={3:"conditions",4:"webhook",6:"liveAgent"},this.uniqueNameJSON={},this.keywordJSON={},this.JSON={design:{drawflow:{Home:{data:{}}}},data:{1:{answerOptions:{section_1:{options:{output_1:{optionName:"",description:"",next_node:""}}}}}}},this.linkJOSN={link:{}},this.datatoimport={drawflow:{Home:{data:{}}}},this.agentList=[],this.groupList=[],this.newReport.subscribe(_=>{this.flowId=_.id}),this.refreshFlow.subscribe(_=>{this.reload=1}),this.changeFlag.subscribe(_=>{if("destroy"==_){for(let U=0;U<this.selectedVariables.length;U++)try{this.userVariables[this.selectedVariables[U]].flag-=1}catch(A){}this.selectedVariables=[]}else if("add"==_)for(let U=0;U<this.selectedVariables.length;U++)try{this.userVariables[this.selectedVariables[U]].flag+=1}catch(A){}});var B=this.checkBrowserDetials();this.userInfo.browser_info.browser=B.name,this.userInfo.browser_info.version=B.version,this.userInfo.os_hostName=B.osType,this.dataFromDB.subscribe(_=>{this.JSON.design=_,this.storeNodeId(_),this.generateData(),this.generateUniqueNameFromData(),this.generateKeywordFromData(),this.property.nodeJSON=this.JSON.data,this.property.uniqueJSON=this.uniqueNameJSON,this.property.keywordJSON=this.keywordJSON,this.callFlowBuilderPage.next(!0)}),this.JSONData.subscribe(_=>{this.exportedJSON=_.tempJSON,this.jsonCompare(_.flag)})}importAndTemplate(r){this.exportedJSON=r.tempJSON,this.jsonCompare(r.flag)}getDataForFlow(r){this.callgetuserVariable(r),this.accountService.fetchAllAgents({acc_id:r.acc_id}).subscribe(v=>{v.length>0&&(this.agentList=[],v.map(f=>{this.agentList.push({id:f.user_id,name:f.name})}))}),this.accountService.fetchGroups(r.acc_id).subscribe(v=>{v.length>0&&(this.groupList=[],v.map(f=>{this.groupList.push({id:f.data_out.id,name:f.data_out.name})}))})}storeNodeId(r){var v=r.drawflow.Home.data,f=v[Object.keys(v)[Object.keys(v).length-1]].id;for(let C=1;C<=f;C++)null!=v[C]&&this.storedNodeId.push(v[C].id)}getDate(r){return this.http.get(this.baseURL+"api/flow/getDate?data="+JSON.stringify(r),this.httpOptions).pipe((0,O.X)(2))}getTemplates(r){return this.http.get(this.baseURL+"api/flow/getTemplates?data="+JSON.stringify(r),this.httpOptions).pipe((0,O.X)(2))}getSystemVariables(){return this.http.get(this.baseURL+"api/flow/getSystemVariables",this.httpOptions).pipe((0,O.X)(2))}getUserDefinedVariables(r){return this.http.get(this.baseURL+"api/flow/getUserDefinedVariables?data="+JSON.stringify(r),this.httpOptions).pipe((0,O.X)(2))}dataCompare(r){return this.http.get(this.baseURL+"api/flow/dataCompare?mode="+this.enc.encrypt(JSON.stringify(r)),this.httpOptions).pipe((0,O.X)(2))}removeVariable(r){0==this.userVariables[r].flag?this.userVariables.splice(r,1):this.toastr.warning("Variable Already In Use")}changeValue(r){this.selectedVariables.push(r);try{this.userVariables[r].flag+=1}catch(v){}}addVariable(r,v){this.addUserVariableToDB(""!=v?{acc_id:this.userInfo.account_id,flow_id:v,variable:r,flag:0,new_flow_id:this.userInfo.flow_id}:{acc_id:this.userInfo.account_id,flow_id:this.userInfo.flow_id,variable:r,flag:0,new_flow_id:v}).subscribe(h=>{this.callgetuserVariable({acc_id:this.userInfo.account_id,flow_id:this.userInfo.flow_id})})}addUserVariableToDB(r){return this.http.post(this.baseURL+"api/flow/addUserVariable",r,this.httpOptions).pipe((0,O.X)(2))}addFlow(r){return this.http.post(this.baseURL+"api/flow/addFlowDetails",r,this.httpOptions).pipe((0,O.X)(2))}deleteReport(r){return this.http.post(this.baseURL+"api/report/deleteReport",r,this.httpOptions).pipe((0,O.X)(2))}callgetuserVariable(r){this.getUserDefinedVariables(r).subscribe(v=>{null!=v?(this.userVariables=v,this.updateVariable.next(v)):(this.userVariables=[],this.updateVariable.next(v))})}getFlowDetail(r){return r.account_id=`${this.manageaccservice.SelectedAccount.Value}`,r.user_id=this.signInService.decryptData(sessionStorage.getItem("UserID")),this.http.get(this.baseURL+"api/flow/getFlowDetails?mode="+this.enc.encrypt(JSON.stringify(r)),this.httpOptions).pipe((0,O.X)(2))}jsonCompare(r){this.linkJOSN={link:{}};var v=this.exportedJSON.drawflow.Home.data,f=1;for(const L in v){v[L].html="";for(const T in this.property.nodeJSON)if(T==L){var C=v[L].outputs,b=this.property.nodeJSON[T].answerOptions;for(const k in C)for(const Z in b)for(const V in b[Z].options)if(k==V)try{var B;if(B=C[V].connections.length>0?C[k].connections[0].node:"","conditions"==v[L].name){var _=this.property.nodeJSON[T].variables,U=parseInt(V.split("_")[1])-1;this.linkJOSN.link[f]=U==_.length?{fromNode:L,answerOption:"Invalid/Other",toNode:B}:{fromNode:L,vOne:_[U].vOne,answerOption:_[U].vTwo,vCondition:_[U].vCondition,toNode:B}}else this.linkJOSN.link[f]={fromNode:L,answerOption:b[Z].options[V].optionName,toNode:B};f++}catch(Y){}v[L].properties=this.property.nodeJSON[T]}}if(this.baseJSON.drawflow.Home.data=v,""==this.userInfo.browser_info.browser){var A=this.checkBrowserDetials();this.userInfo.browser_info.browser=A.name,this.userInfo.browser_info.version=A.version,this.userInfo.os_hostName=A.osType}""==this.userInfo.ip_address&&this.checkIPaddress().subscribe(L=>{this.userInfo.ip_address=L.ip});var E={account_id:this.userInfo.account_id,user_id:this.userInfo.user_id,flow_id:this.userInfo.flow_id,data:this.baseJSON,flag:r.toString(),user_info:{ip_address:this.userInfo.ip_address,browser_name:this.userInfo.browser_info.browser,browser_version:this.userInfo.browser_info.version,os_hostName:this.userInfo.os_hostName,os_userName:""}};console.log(this.linkJOSN,"dataToDB"),console.log(E,"data to DB"),this.insertFlowToDB(E).subscribe(L=>{1==L.flag&&(1==L.status?this.toastr.success("Flow Saved Successfully"):this.toastr.error("Flow Not Saved"))})}insertFlowToDB(r){return this.http.post(`${this.baseURL}api/flow/addnewFlow`,{link:this.linkJOSN,data:r},this.httpOptions)}assignUserInfo(r){this.userInfo.account_id=r.account_id,this.userInfo.flow_id=r.flow_id,this.userInfo.user_id=r.user_id}fetchFlowFromDB(r){return this.userInfo.account_id=r.account_id,this.userInfo.flow_id=r.flow_id,this.userInfo.user_id=r.user_id,this.http.get(`${this.baseURL}api/flow/getExistingFlow?data=${JSON.stringify(r)}`,this.httpOptions).pipe((0,O.X)(2))}uploadMedia(r){var v=new FormData;return v.append("file",r),this.http.post(this.baseURL+`api/mediaServer/upload-media?account=${JSON.stringify({accountId:this.userInfo.account_id,flowId:this.userInfo.flow_id})}`,v,this.httpmulOptions)}uploadChatMedia(r){var v=new FormData;return v.append("file",r.file),this.http.post(this.baseURL+`api/mediaServer/upload-media?account=${JSON.stringify({accountId:r.acc_id,flowId:r.flow_id})}`,v,this.httpmulOptions)}checkIPaddress(){return this.http.get("https://api.ipify.org/?format=json")}checkBrowserDetials(){var r=navigator.userAgent;const v=window.navigator.userAgent.toLowerCase();var f={name:"",version:"",osType:""};switch(!0){case v.indexOf("edge")>-1:f.name="MS Edge";break;case v.indexOf("edg/")>-1:f.name="Edge ( chromium based)";break;case v.indexOf("opr")>-1&&!!window.opr:f.name="Opera";break;case v.indexOf("chrome")>-1&&!!window.chrome:f.name="Chrome";break;case v.indexOf("trident")>-1:f.name="MS IE";break;case v.indexOf("firefox")>-1:f.name="Mozilla Firefox";break;case v.indexOf("safari")>-1:f.name="Safari";break;default:f.name="other"}var h,C=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];/trident/i.test(C[1])&&(h=/\brv[ :]+(\d+)/g.exec(r)||[],f.version="IE "+(h[1]||"")),"Chrome"===C[1]&&null!=(h=r.match(/\b(OPR|Edge)\/(\d+)/))&&(f.version=h.slice(1).join(" ").replace("OPR","Opera")),C=C[2]?[C[1],C[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(h=r.match(/version\/(\d+)/i))&&C.splice(1,1,h[1]),f.version=C.join(" ");var b="Unknown";return-1!=navigator.appVersion.indexOf("Win")&&(b="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(b="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(b="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(b="Linux"),f.osType=b,f}dataToImport(){return this.datatoimport=this.JSON.design,this.datatoimport}activateFlow(r){return r.userInfo=this.userInfo,this.http.get(`${this.baseURL}api/flow/activateflow?data=${JSON.stringify(r)}`,this.httpOptions).pipe((0,O.X)(2))}startFLow(r,v){return this.http.get(`${this.baseURL}api/flow/startflow?data=${JSON.stringify(r)}&activityFlag=${v}`,this.httpOptions).pipe((0,O.X)(2))}deleteFlow(r){return this.http.post(`${this.baseURL}api/flow/deleteflow?data=${JSON.stringify(r)}`,this.httpOptions).pipe((0,O.X)(2))}deActivateFlow(r){return r.userInfo=this.userInfo,this.http.get(`${this.baseURL}api/flow/deActivateflow?data=${JSON.stringify(r)}`,this.httpOptions).pipe((0,O.X)(2))}exportFlowWriteFile(r,v,f){var h=Object.assign(Object.assign({},f),{flowJSON:JSON.stringify(r)});return this.http.post(`${this.baseURL}api/flow/exportflowwritefile?name=${v}`,h,this.httpOptions).pipe((0,O.X)(2))}exportFlowGetFile(r,v){let f=new S.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});this.http.get(`${this.baseURL}api/flow/exportflowgetfile?name=${r}\n      &account=${v.account_id}`,{headers:f,responseType:"blob"}).toPromise().then(h=>{(0,D.saveAs)(h,`${r}.json`),this.toastr.success("Flow Exported Successfully","Success")}).catch(h=>({status:0}))}checkInitialConnection(r){return r.drawflow.Home.data[1].outputs.output_1.connections.length>0}generateUniqueName(r){let v=r;try{v+=1;var h=this.property.uniqueJSON;if(null==h||"{}"==JSON.stringify(h))return v;var C=[0];for(const _ in h)if(-1!==h[_].name.indexOf(r)){var b=h[_].name.substring(r.length,h[_].name.length);""!=b&&!isNaN(b)&&C.push(Number(b))}v=r+(Math.max(...C)+1)}catch(_){}return v}generateUniqueNameFromData(){this.uniqueNameJSON={};var r=this.JSON.design.drawflow.Home.data;for(const f in r)null!=r[f].properties.uniqueName&&""!=r[f].properties.uniqueName&&null!=r[f].properties.uniqueName&&(this.uniqueNameJSON[f]={id:f,name:r[f].properties.uniqueName})}generateKeywordFromData(){this.keywordJSON={};var r=this.JSON.design.drawflow.Home.data;for(const f in r)null!=r[f].properties.keyword&&""!=r[f].properties.keyword&&null!=r[f].properties.keyword&&(this.keywordJSON[f]={id:f,keyword:r[f].properties.keyword})}generateData(){var r=this.JSON.design.drawflow.Home.data;for(const f in r)this.JSON.data[f]=r[f].properties;this.generateHTML()}generateHTML(){var r,f,v=this.JSON.design.drawflow.Home.data;for(const C in v){var h=v[r=C].name;"welcome"==h?(f=this.createWelcomeHTML(),this.JSON.design.drawflow.Home.data[r].html=f):"wpBotSays"==h||"wpBotAsk"==h?(f=this.createBotComponentHTML(r,h),this.JSON.design.drawflow.Home.data[r].html=f):("conditions"==h||"webhook"==h||"liveAgent"==h)&&(f=this.createLogisticComponentHTML(r,h),this.JSON.design.drawflow.Home.data[r].html=f)}}createWelcomeHTML(){return'\n    <div class="d-flex">\n      <div class="welcome-icon">\n        <i class="fab fa-whatsapp text-success"></i>\n        <div class="NodeHeader" style="display:none">welcome</div>\n      </div>\n    </div>'}createBotComponentHTML(r,v){var f,h,b,B,C=this.JSON.data[r],_=C.contact,U=C.location;if(B=null==C.keyword||""==C.keyword?"":C.keyword,""!=_&&null!=_&&((null==_.firstName||""==_.firstName)&&(_.firstName=""),(null==_.formatedName||""==_.formatedName)&&(_.formatedName=""),(null==_.email||""==_.email)&&(_.email=""),(null==_.phone||""==_.phone)&&(_.phone=""),(null==_.address||""==_.address)&&(_.address=""),(null==_.city||""==_.city)&&(_.city="")),""!=U&&null!=U&&((null==U.latitude||""==U.latitude)&&(U.latitude=""),(null==U.longitude||""==U.longitude)&&(U.longitude=""),(null==U.address||""==U.address)&&(U.address=""),(null==U.name||""==U.name)&&(U.name="")),"wpBotSays"==v){f="Bot Says",h="bi-chat-dots",A=null==(A=C.message)||""==A?"Welcome to my store":A.replace(/ /g,"&nbsp;").replace(/\\"/g,'"');var E=C.valMultimediaSelect,L=C.fileValue;null!=(T=C.caption)&&""!=T&&(T=T.replace(/ /g,"&nbsp;").replace(/\\"/g,'"'));var k=C.extensionType;1==E?b=`\n        <div class="wp-box wp-box-media">\n        <div class="msgComponent">\n          <div class="d-flex">\n             <img\n                src=${L}\n                class="ml-auto mr-auto"\n                draggable="false"\n                style="height: 100px; width: 200px;">\n          </div>\n          <div>${T}</div>\n        </div>\n    </div>\n           `:2==E?b=`\n          <div class="wp-box wp-box-media">\n            <div class="msgComponent">\n              <div class="d-flex">\n                 <audio\n                    class="mb-4 mt-4 ml-2 mr-2"\n                    controls=""\n                    style="width: 200px;">\n                    <source src=${L}>\n                 </audio>\n              </div>\n              <div>${T}</div>\n              </div>\n              </div>\n           `:3==E?b=`\n        <div class="wp-box wp-box-media">\n        <div class="msgComponent">\n              <div class="d-flex">\n                 <video\n                    class="ml-auto mr-auto"\n                    controls=""\n                    style="width: 200px; height: 100px;">\n                    <source src=${L}>\n                 </video>\n              </div>\n              <div>${T}</div>\n              </div>\n              </div>\n           `:4==E?("pdf"==k?Z="assets/images/pdf.png":"docx"==k||"doc"==k?Z="assets/images/word.png":("xlsx"==k||"xls"==k)&&(Z="assets/images/sheets.png"),b=`\n        <div class="wp-box wp-box-media">\n        <div class="msgComponent">\n              <div class="d-flex">\n                 <img\n                    src=${Z}\n                    class="ml-auto mr-auto"\n                    draggable="false"\n                    style="height: 80px; width: 80px;">\n              </div>\n              <div>${T}</div>\n              </div>\n              </div>\n           `):5==E?b=`\n             <div class="wp-box">\n                <div class="msgComponent">${A}</div>\n             </div>`:6==E?b=`\n        <div class="wp-box wp-box-media">\n        <div class="msgComponent">\n        <div class="d-flex">\n          <div>\n            <img\n            src=assets/images/contact.png\n            draggable="false"\n            style="height: 40px; width: 40px;">\n          </div>\n          <div class="ml-3">\n            <div class="font-weight-bold">:${_.firstName}</div>\n            <div class="font-weight-bold">:${_.formatedName}</div>\n          </div>\n        </div>\n        <div>\n          <div class="row">\n            <div class="col-sm font-weight-bold">Address</div>\n            <div class="col-sm">:${_.city}</div>\n          </div>\n          <div class="row">\n            <div class="col-sm"></div>\n            <div class="col-sm">:${_.country}</div>\n          </div>\n          <div class="row mt-1">\n            <div class="col-sm font-weight-bold">Tel</div>\n            <div class="col-sm">:${_.phone}</div>\n          </div>\n          <div class="row">\n            <div class="col-sm font-weight-bold">E-mail</div>\n            <div class="col-sm">:${_.email}</div>\n          </div>\n      </div>\n      </div>\n              </div>`:7==E?b=`\n        <div class="wp-box wp-box-media">\n        <div class="msgComponent">\n          <div class="d-flex">\n          <img\n              src=${L}\n              class="ml-auto mr-auto"\n              draggable="false"\n              style="height: 100px; width: 200px;">\n          </div>\n          </div>\n              </div>\n      `:8==E&&(b=`\n        <div class="wp-box wp-box-media">\n        <div class="msgComponent">\n        <div>\n          <div class="row">\n            <div class="col-sm font-weight-bold">Latitude</div>\n            <div class="col-sm">:${U.latitude}</div>\n          </div>\n          <div class="row mt-1">\n            <div class="col-sm font-weight-bold">Longitude</div>\n            <div class="col-sm">:${U.longitude}</div>\n          </div>\n          <div class="row mt-1">\n            <div class="col-sm font-weight-bold">Name</div>\n            <div class="col-sm">:${U.name}</div>\n          </div>\n          <div class="row mt-1">\n            <div class="col-sm font-weight-bold">Address</div>\n            <div class="col-sm">:${U.address}</div>\n          </div>\n        </div>\n        </div>\n              </div>`)}else if("wpBotAsk"==v){var A;f="Bot Asks",h="bi-question-circle",A=""==(A=C.message)||null==A?"Bot Ask":A.replace(/ /g,"&nbsp;").replace(/\\"/g,'"');var T,Y=C.valSelectField;if(E=C.valMultimediaSelect,L=C.fileValue,null!=(T=C.caption)&&""!=T&&(T=T.replace(/ /g,"&nbsp;").replace(/\\"/g,'"')),k=C.extensionType,1==Y||2==Y||3==Y||4==Y)if(1==E)b=`\n          <div class="wp-box wp-box-media">\n            <div class="msgComponent">\n              <div class="d-flex">\n                 <img\n                    src=${L}\n                    class="ml-auto mr-auto"\n                    draggable="false"\n                    style="height: 100px; width: 200px;">\n              </div>\n              <div>${T}</div>\n            </div>\n        </div>\n           `;else if(2==E)b=`\n          <div class="wp-box wp-box-media">\n          <div class="msgComponent">\n        <div class="d-flex">\n           <audio\n              class="mb-4 mt-4 ml-2 mr-2"\n              controls=""\n              style="width: 200px;">\n              <source src=${L}>\n           </audio>\n        </div>\n        <div>${T}</div>\n        </div>\n        </div>\n     `;else if(3==E)b=`\n          <div class="wp-box wp-box-media">\n          <div class="msgComponent">\n        <div class="d-flex">\n           <video\n              class="ml-auto mr-auto"\n              controls=""\n              style="width: 200px; height: 100px;">\n              <source src=${L}>\n           </video>\n        </div>\n        <div>${T}</div>\n        </div>\n        </div>\n     `;else if(4==E){var Z;"pdf"==k?Z="assets/images/pdf.png":"docx"==k||"doc"==k?Z="assets/images/word.png":("xlsx"==k||"xls"==k)&&(Z="assets/images/sheets.png"),b=`\n          <div class="wp-box wp-box-media">\n          <div class="msgComponent">\n        <div class="d-flex">\n           <img\n              src=${Z}\n              class="ml-auto mr-auto"\n              draggable="false"\n              style="height: 80px; width: 80px;">\n        </div>\n        <div>${T}</div>\n        </div>\n        </div>\n     `}else b=`\n             <div class="wp-box">\n                <div class="msgComponent">${A}</div>\n             </div>`}var X=`\n       <div>\n          <div class="title-box bot-header d-flex">\n            <i class="nodeIcon bi ${h}"></i>\n            <div class="NodeHeader">${f}</div>\n              <div class="ml-auto">\n                 <img class="arrange-header-icon" draggable="false" id="node-${r}_copyBtn" src="./assets/img/brandImg/icons8-copy-25.png">\n                 <img class="arrange-header-icon" draggable="false" id="node-${r}_deleteBtn" src="./assets/img/brandImg/icons8-delete-25.png">\n              </div>\n          </div>\n       </div>`,te=`\n       <div class="box pb-0" id="node-${r}_msgDiv">\n          <div class="h-40 d-flex" style="font-size : 10px">\n             <div class="mt-auto mb-auto" id="node-${r}_uniqueName">${C.uniqueName}</div>\n             <div class="mt-auto mb-auto ml-auto" id="node-${r}_keyword"><b><i>${B}</i></b></div>\n          </div>\n          ${b}\n       </div>\n    `;if("wpBotSays"!=v){var ie=`<div id="node-${r}_outputsDiv">`,q=C.answerOptions,ae=[];if(Object.keys(q).length>1&&""!=q.errorSection.options[Object.keys(q.errorSection.options)[0]].optionName&&""!=q.section_1.options[Object.keys(q.section_1.options)[0]].optionName){for(const ne in q){var J=q[ne].options;for(const j in J)ae.push(J[j].optionName)}for(let ne=0;ne<ae.length;ne++)ie+=` <div class="wp-queryBox pl-2 d-flex">${ae[ne]}</div>`}return"<div>"+X+te+ie+"</div></div>"}return"<div>"+X+te+"</div>"}createLogisticComponentHTML(r,v){var f,h,b,B,C=this.JSON.data[r];if("conditions"==v){f="Conditions",h="bi-file-earmark-check";var U="";if(0==(_=C.variables).length)U="Conditions";else for(let H=0;H<_.length;H++)null!=_[H]&&("1"==_[H].vCondition?B="Equal to":"2"==_[H].vCondition?B="Does not equal to":"3"==_[H].vCondition?B="Greater than":"5"==_[H].vCondition?B="Less than":"4"==_[H].vCondition?B="Greater than or equal to":"6"==_[H].vCondition?B="Less than or equal to":"7"==_[H].vCondition?B="Begins with":"8"==_[H].vCondition&&(B="! Begins with"),U+=`<li>${_[H].vOne} ${B} ${_[H].vTwo}</li>`);null!=_[0]&&(b=1==_.length&&""==_[0].vOne?'\n          <div class="wp-box">\n          <div class="msgComponent">Conditions</div>\n        </div>\n       ':`\n              <div class="wp-box">\n                 <div class="varComponent">\n                    ${U}\n                 </div>\n              </div>`)}else if("webhook"==v){f="Webhook",h="bi-link-45deg";var _=C.message,A=C.url;b=""==A?' <div class="wp-box ">\n        <div class="msgComponent">\n          Webhook URL\n        </div>\n      </div>':`\n        <div class="wp-box">\n        <div>\n            <div class="msgComponent_1">\n                <b> ${1==C.method?"GET":"POST"}</b> : <a><i class="text-primary">${A}</i></a>\n                <table style="width:100%;">\n                    <tbody>\n                        <tr>\n                            <td style="width:50%">Timeout : <b> ${C.timeOut} </b></td>\n                            <td style="width:50%; text-align:right">Retry :<b> ${C.retryCount}</b></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        </div>\n        `}else if("liveAgent"==v){var k,Z;f="Connect Agent",h="bi-people-fill",1==C.transferLogic?Z="Sequential":2==C.transferLogic&&(Z="Round Robin");var V="";null!=(k=null!=C.agentGroup?C.agentGroup:[])&&k.length>0&&k.map(H=>{V+=`<div class="liveComponent1">${H}</div>`}),b=null==Z?' <div class="wp-box ">\n        <div class="msgComponent">\n        Transfer the chat to Agent\n        </div>\n      </div>':`<div class="live-wp-box">\n      <div class="liveComponent">Transfer Logic: ${Z}</div>\n      </div>\n      <div class="live-wp-box1">\n        ${V}\n      </div>`}var Y=`\n       <div>\n          <div class="title-box bot-header d-flex">\n          <i class="nodeIcon bi ${h}"></i>\n             <div class="NodeHeader">${f}</div>\n             <div class="ml-auto">\n                 <img class="arrange-header-icon" draggable="false" id="node-${r}_copyBtn" src="./assets/img/brandImg/icons8-copy-25.png">\n                 <img class="arrange-header-icon" draggable="false" id="node-${r}_deleteBtn" src="./assets/img/brandImg/icons8-delete-25.png">\n             </div>\n          </div>\n       </div>`,X=`\n       <div class="box pb-0" id="node-${r}_msgDiv">\n          <div class="h-40 d-flex" style="font-size : 10px">\n          <div class="mt-auto mb-auto" id="node-${r}_uniqueName">${C.uniqueName}</div>\n       </div>\n       ${b}\n       </div>\n    `,G=`<div id="node-${r}_outputsDiv">`,ie=C.answerOptions,q=[];for(const H in ie){var ae=ie[H].options;for(const ne in ae)q.push(ae[ne].optionName)}for(let H=0;H<q.length;H++)G+=` <div class="wp-queryBox pl-2 d-flex">${q[H]}</div>`;return"<div>"+Y+X+G+"</div></div>"}}return g.\u0275fac=function(r){return new(r||g)(P.LFG(N.M),P.LFG(S.eN),P.LFG(c.o),P.LFG(u.n),P.LFG(l._W),P.LFG(m.l))},g.\u0275prov=P.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},19796:(ee,z,a)=>{"use strict";a.d(z,{o:()=>D});var S=a(5e3),e=a(8929),x=a(40520),F=a(54512),O=a(59973);let D=(()=>{class P{constructor(c){this.http=c,this.changeCurPos=new e.xQ,this.changeTempVar=new e.xQ,this.lengthChange=new e.xQ,this.changeClassOveride=new e.xQ,this.getPos=new e.xQ,this.getLanguage=new S.vpe,this.changeLangSubject=new e.xQ,this.propertyShow=new e.xQ,this.dynamicVariable=new e.xQ,this.dynamicSubject=new e.xQ,this.dynamicIdWpBotSays=new e.xQ,this.dynamicIdConditions=new e.xQ,this.dynamicIdWpBotAsk=new e.xQ,this.dynamicIdWebhook=new e.xQ,this.fetchDataSubscription=new e.xQ,this.nodevalue=new e.xQ,this.fetchUnique=new e.xQ,this.clearTextbox=new e.xQ,this.dynamicValidation=new e.xQ,this.newVariable=new e.xQ,this.disableSubmit=new e.xQ,this.clearUniqueJSON=new e.xQ,this.testAPI=new e.xQ,this.resetBtn=new e.xQ,this.currentPos=0,this.variableJSON={},this.keywordJSON={},this.nodeJSON={1:{answerOptions:{section_1:{options:{output_1:{optionName:"",description:"",next_node:""}}}}}},this.conditionObjectMaster={1:"=",2:"\u2260",3:">",4:">=",5:"<",6:"<=",7:"Begins with",8:"Does not begins with"},this.uniqueJSON={},this.baseURL=F.X.Config.api.sms,this.httpOptions={headers:new x.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"json"}}getUniqueName(c){var u={};if(this.uniqueJSON[c]){var l=Object.assign({},this.uniqueJSON);delete l[c],u=l}else u=this.uniqueJSON;var m=[];if(Object.keys(u).length>0){for(const M in u)m.push(u[M].name.toLowerCase().trim());return m}return m}getKeyword(c){var u={};if(this.keywordJSON[c]){var l=Object.assign({},this.keywordJSON);delete l[c],u=l}else u=this.keywordJSON;var m=[];if(Object.keys(u).length>0){for(const M in u)m.push(u[M].keyword.toLowerCase().trim());return m}return m}addDataToJson(c,u){this.nodeJSON[c]=u}fetchdataFromJson(c){return this.nodeJSON[c]}deleteDataFromJson(c){delete this.nodeJSON[c]}addVariableToJSON(c,u){this.variableJSON[c]=u,this.newVariable.next(u)}addKeywordToJSON(c,u){""!=u.keyword&&null!=u.keyword&&null!=u.keyword&&(this.keywordJSON[c]={id:c,keyword:u.keyword})}deleteKeyword(c){delete this.keywordJSON[c]}addUniqueJSON(c,u){this.uniqueJSON[c]={id:c,name:u.uniqueName}}deletefromUniqueJSON(c){delete this.uniqueJSON[c]}fetchUniqueJSON(c){if(this.uniqueJSON[c]){var u=Object.assign({},this.uniqueJSON);return delete u[c],u}return this.uniqueJSON}addDivToNode(c,u){var l,m,M,g,$,r,v,f,h,C=document.getElementById(`node-${u}_msgDiv`);C.innerHTML=" ";for(const j in c)if("message"==j)null!=(l=c[j])&&(l=l.replace(/ /g,"&nbsp;").replace(/\\"/g,'"'));else if("fileValue"==j)m=c[j];else if("valMultimediaSelect"==j)M=c[j];else if("caption"==j)null!=(g=c[j])&&(g=g.replace(/ /g,"&nbsp;").replace(/\\"/g,'"'));else if("uniqueName"==j)$=c[j];else if("keyword"==j)null==(v=c[j])&&(v="");else if("extensionType"==j){if(null!=(r=c[j])&&null!=r&&""==r){var b=c.fileValue.split(".");r=b[b.length-1]}}else"location"==j?f=c[j]:"contact"==j?null!=(h=c[j])&&""!=h&&(h.firstName=null==h.name.firstName||null==h.name.firstName||""==h.name.firstName?"":h.name.firstName,h.formatedName=null==h.name.formatedName||""==h.name.formatedName?"":h.name.formatedName,h.email=null==h.email[0].email||""==h.email[0].email?"":h.email[0].email,null==h.phones[0].phone||""==h.phones[0].phone?h.phones="":h.phone=h.phones[0].phone,h.city=null==h.address[0].city||""==h.address[0].city?"":h.address[0].city,h.country=null==h.address[0].country||""==h.address[0].country?"":h.address[0].country):"address"==j?null!=c[j]&&Object.keys(c[j]).length>0&&(h.city=null==c[j][0].city?"":c[j][0].city,h.country=null==c[j][0].country?"":c[j][0].country):"phones"==j&&null!=c[j]&&c[j].length>0&&(h.phone=null==c[j][0].phone?"":c[j][0].phone);var B=document.createElement("div");B.classList.add("h-40"),B.innerHTML=`\n      <div class="d-flex" style="font-size : 10px">\n        <div class="mt-auto mb-auto" id="node-${u}_uniqueName">${$}</div>\n        <div class="mt-auto mb-auto ml-auto" id="node-${u}_keyword"><b><i>${v}</i></b></div>\n      </div>\n    `,C.appendChild(B);var _=document.createElement("div");_.classList.add("msgComponent");var U=document.createElement("div");if(U.classList.add("wp-box","wp-box-media"),U.appendChild(_),C.appendChild(U),1==M)(A=document.createElement("img")).style.height="100px",A.style.width="200px",A.src=m,A.classList.add("ml-auto","mr-auto"),A.setAttribute("draggable","false"),(E=document.createElement("div")).innerHTML=g,(L=document.createElement("div")).appendChild(A),L.classList.add("d-flex"),_.appendChild(L),_.appendChild(E);else if(2==M){(T=document.createElement("source")).src=m;var k=document.createElement("audio");k.style.width="200px",k.classList.add("mb-4","mt-4","ml-2","mr-2"),k.controls=!0,k.appendChild(T),(L=document.createElement("div")).classList.add("d-flex"),L.appendChild(k),(E=document.createElement("div")).innerHTML=g,_.appendChild(L),_.appendChild(E)}else if(3==M){var T;(T=document.createElement("source")).src=m;var Z=document.createElement("video");Z.style.width="200px",Z.style.height="100px",Z.classList.add("ml-auto","mr-auto"),Z.controls=!0,Z.appendChild(T),(L=document.createElement("div")).classList.add("d-flex"),L.appendChild(Z),(E=document.createElement("div")).innerHTML=g,_.appendChild(L),_.appendChild(E)}else if(4==M){"pdf"==r?V="assets/images/pdf.png":"docx"==r||"doc"==r?V="assets/images/word.png":("xlsx"==r||"xls"==r)&&(V="assets/images/sheets.png");var E,Y=document.createElement("img");Y.style.height="80px",Y.style.width="80px",Y.classList.add("ml-auto","mr-auto"),Y.src=V,Y.setAttribute("draggable","false"),(X=document.createElement("div")).classList.add("d-flex"),X.appendChild(Y),(E=document.createElement("div")).innerHTML=g,_.appendChild(X),_.appendChild(E)}else if(6==M){var V;V="assets/images/contact.png";var te=document.createElement("img");te.setAttribute("draggable","false"),te.style.height="40px",te.style.width="40px",te.src=V;var G=document.createElement("div");G.classList.add("d-flex");var ie=document.createElement("div");ie.appendChild(te);var q=document.createElement("div");q.classList.add("ml-3"),q.innerHTML=`\n      <div class="font-weight-bold">${h.firstName}</div>\n      <div class="font-weight-bold">${h.formatedName}</div>\n      `,G.appendChild(ie),G.appendChild(q);var J=document.createElement("div");J.innerHTML=`\n      <div class="row">\n      <div class="col-sm font-weight-bold">Address</div>\n      <div class="col-sm">:${h.city}</div>\n      </div>\n      <div class="row">\n      <div class="col-sm"></div>\n      <div class="col-sm">${h.country}</div>\n      </div>\n      <div class="row mt-1">\n      <div class="col-sm font-weight-bold">Tel</div>\n      <div class="col-sm">:${h.phone}</div>\n      </div>\n      <div class="row">\n      <div class="col-sm font-weight-bold">E-mail</div>\n      <div class="col-sm">:${h.email}</div>\n      </div>`,_.appendChild(G),_.appendChild(J)}else if(7==M){var A,L;(A=document.createElement("img")).style.height="100px",A.style.width="200px",A.src=m,A.classList.add("ml-auto","mr-auto"),A.setAttribute("draggable","false"),(L=document.createElement("div")).appendChild(A),L.classList.add("d-flex"),_.appendChild(L)}else if(8==M){var X=document.createElement("div");for(const se in f){if("latitude"==se)var ne=`<div class="row">\n            <div class="col-sm font-weight-bold">Latitude</div>\n            <div class="col-sm">:${f[se]}</div>\n          </div>`;else"longitude"==se?ne=`<div class="row mt-1">\n            <div class="col-sm font-weight-bold" >Longitude</div>\n            <div class="col-sm">:${f[se]}</div>\n          </div>`:"name"==se?ne=`<div class="row mt-1">\n            <div class="col-sm font-weight-bold">Name</div>\n            <div class="col-sm">:${f[se]}</div>\n          </div>`:"address"==se&&(ne=`<div class="row mt-1">\n            <div class="col-sm font-weight-bold">Address</div>\n            <div class="col-sm">:${f[se]}</div>\n          </div>`);X.innerHTML+=ne}_.appendChild(X)}else _.innerHTML=l;document.querySelector(`#minimap #node-${u}`).innerHTML=document.querySelector(`#drawflow #node-${u}`).innerHTML}addAskComponentDiv(c){var r,v,f,h,C,b,B,u=c.id,l=c.num,m=c.answerOptions,M=c,g=[];for(const J in m){var _=m[J].options;for(const H in _)g.push(_[H].optionName)}console.log(g);var U=document.getElementById(`node-${u}_msgDiv`);U.innerHTML="",document.getElementById(`node-${u}_outputsDiv`).innerHTML="";for(const J in M)"message"==J?null!=(r=0==M[J].length?M.header:M[J])&&(r=r.replace(/ /g,"&nbsp;").replace(/\\"/g,'"')):"uniqueName"==J?v=M[J]:"keyword"==J?null==(f=M[J])&&(f=""):"valMultimediaSelect"==J?h=M[J]:"fileValue"==J?C=M[J]:"extensionType"==J?b=M[J]:"caption"==J&&null!=(B=M[J])&&(B=B.replace(/ /g,"&nbsp;").replace(/\\"/g,'"'));var A=document.createElement("div");A.innerHTML=`\n      <div class="h-40 d-flex" style="font-size : 10px">\n        <div class="mt-auto mb-auto" id="node-${u}_uniqueName">${v}</div>\n        <div class="mt-auto mb-auto ml-auto" id="node-${u}_keyword"><b><i>${f}</i></b></div>\n      </div>\n    `;var E=document.createElement("div");E.classList.add("msgComponent");var L=document.createElement("div");U.appendChild(A),L.classList.add("wp-box","wp-box-media"),L.appendChild(E),U.appendChild(L);for(const J in c)if("valSelectField"==J&&(1==c[J]||2==c[J]||3==c[J]||4==c[J]))if(1==h){var T=document.createElement("img");T.style.height="100px",T.style.width="200px",T.src=C,T.classList.add("ml-auto","mr-auto"),T.setAttribute("draggable","false"),(k=document.createElement("div")).innerHTML=B,(Z=document.createElement("div")).appendChild(T),Z.classList.add("d-flex"),E.appendChild(Z),E.appendChild(k)}else if(2==h){(V=document.createElement("source")).src=C;var Y=document.createElement("audio");Y.style.width="200px",Y.classList.add("mb-4","mt-4","ml-2","mr-2"),Y.controls=!0,Y.appendChild(V),(Z=document.createElement("div")).classList.add("d-flex"),Z.appendChild(Y),(k=document.createElement("div")).innerHTML=B,E.appendChild(Z),E.appendChild(k)}else if(3==h){var V;(V=document.createElement("source")).src=C;var Z,X=document.createElement("video");X.style.width="200px",X.style.height="100px",X.classList.add("ml-auto","mr-auto"),X.controls=!0,X.appendChild(V),(Z=document.createElement("div")).classList.add("d-flex"),Z.appendChild(X),(k=document.createElement("div")).innerHTML=B,E.appendChild(Z),E.appendChild(k)}else if(4==h){var te;"pdf"==b?te="assets/images/pdf.png":"docx"==b||"doc"==b?te="assets/images/word.png":("xlsx"==b||"xls"==b)&&(te="assets/images/sheets.png");var G=document.createElement("img");G.style.height="80px",G.style.width="80px",G.classList.add("ml-auto","mr-auto"),G.src=te,G.setAttribute("draggable","false");var k,ie=document.createElement("div");ie.classList.add("d-flex"),ie.appendChild(G),(k=document.createElement("div")).innerHTML=B,E.appendChild(ie),E.appendChild(k)}else E.innerHTML=r;for(let J=0;J<l;J++){console.log(g[J],"array");var q;const H=document.createElement("div");H.classList.add("wp-queryBox","pl-2","d-flex"),q=g[J].length>25?g[J].slice(0,25)+"...":g[J],H.innerHTML=q,H.addEventListener("mousedown",function(ne){ne.stopPropagation()},!0),document.getElementById(`node-${u}_outputsDiv`).appendChild(H),document.querySelector(`#node-${u} .outputs .output_${J+1}`).classList.add("arrangeOutNode")}g=[],this.arrangeOutputNode(u,l)}addWebhookComponentDiv(c){var v,u=c.id,m=c.answerOptions,M=c,g=[];for(const T in m){var f=m[T].options;for(const k in f)g.push(f[k].optionName)}var h=document.getElementById(`node-${u}_msgDiv`);h.innerHTML="",document.getElementById(`node-${u}_outputsDiv`).innerHTML="";for(const T in M)"message"==T||"uniqueName"==T&&(v=M[T]);const C=M.url,b=1==M.method?"GET":"POST",_=M.retryCount,U=M.timeOut,A=document.createElement("div");A.innerHTML=`\n      <div class="h-40 d-flex" style="font-size : 10px">\n        <div class="mt-auto mb-auto" id="node-${u}_uniqueName">${v}</div>\n      </div>\n    `,h.appendChild(A);var E=document.createElement("div");E.innerHTML=` <div class="msgComponent_1">\n  <b>${b}</b> : <a><i class="text-primary">${C}</i></a>\n   <table style="width:100%;">\n        <tr>\n          <td style='width:50%' >Timeout : <b> ${U} </b></td>\n          <td style='width:50%; text-align:right' >Retry :<b> ${_}</b></td>\n        </tr>\n      </table>\n </div>`;var L=document.createElement("div");L.classList.add("wp-box"),L.appendChild(E),h.appendChild(L);for(let T=0;T<2;T++){const k=document.createElement("div");k.classList.add("wp-queryBox","pl-2","d-flex"),k.innerHTML=g[T],k.addEventListener("mousedown",function(Z){Z.stopPropagation()},!0),document.getElementById(`node-${u}_outputsDiv`).appendChild(k)}this.arrangeOutputNode(u,2),g=[]}addLiveAgentDiv(c){var u=c.id,l=document.getElementById(`node-${c.id}_msgDiv`);l.innerHTML="",document.getElementById(`node-${u}_outputsDiv`).innerHTML="";var g,m=["Agent Unavailable","Communication End"],M=document.createElement("div");1==c.transferLogic?g="Sequential":2==c.transferLogic&&(g="Round Robin"),M.classList.add("h-40"),M.innerHTML=`\n    <div class="d-flex" style="font-size : 10px">\n    <div class="mt-auto mb-auto" id="node-${c.id}_uniqueName">${c.uniqueName}</div>\n    <div class="mt-auto mb-auto ml-auto" id="node-${c.id}_keyword"><b><i>${c.keyword}</i></b></div>\n    </div>\n    `,l.appendChild(M),document.querySelector(`#minimap #node-${c.id}`).innerHTML=document.querySelector(`#drawflow #node-${c.id}`).innerHTML;var $=document.createElement("div");$.classList.add("live-wp-box");var r=document.createElement("div");r.classList.add("liveComponent"),r.innerHTML=`Transfer Logic: ${g}`,$.appendChild(r),l.appendChild($);var v=document.createElement("div");v.classList.add("live-wp-box1");var f=c.agentGroup;for(let h=0;h<f.length;h++)(r=document.createElement("div")).classList.add("liveComponent1"),r.innerHTML=f[h],v.appendChild(r);l.appendChild(v);for(let h=0;h<2;h++){const C=document.createElement("div");C.classList.add("wp-queryBox","pl-2","d-flex"),C.innerHTML=m[h],C.addEventListener("mousedown",function(b){b.stopPropagation()},!0),document.getElementById(`node-${u}_outputsDiv`).appendChild(C)}this.arrangeOutputNode(c.id,2),m=[]}arrangeOutputNode(c,u){var l,m=u;console.log(u,"numOutput"),1==m?l=103:2==m?l=93:3==m?l=86:4==m?l=80:5==m?l=72:6==m?l=63:7==m?l=58:8==m?l=51:9==m?l=43:10==m?l=36:11==m?l=29:12==m?l=20:13==m?l=12:14==m?l=4:15==m?l=0:16==m?l=-10:17==m?l=-18:18==m?l=-25:19==m?l=-35:20==m?l=-43:21==m&&(l=-44);for(let g=0;g<=m;g++)g<m&&(g>=3&&4==m?l=77:g>=3&&5==m?l=67:g>=4&&6==m?l=58:g>=4&&7==m?l=53:g>=4&&8==m?l=46:g>=4&&9==m?(l=38,g>=6&&(l=35)):g>=4&&10==m?(l=31,g>=6&&(l=28)):g>=4&&11==m?(l=24,g>=6&&(l=20),g>=9&&(l=16)):g>=4&&12==m?(l=15,g>=6&&(l=10),g>=10&&(l=8)):g>=4&&13==m?(l=7,g>=6&&(l=2),g>=10&&(l=-10)):g>=4&&14==m?(l=-5,g>=6&&(l=-8),g>=10&&(l=-16)):g>=3&&15==m?(l=-5,g>=6&&(l=-8),g>=9&&(l=-16),g>=12&&(l=-21)):g>=3&&16==m?(l=-5,g>=3&&(l=-15),g>=6&&(l=-21),g>=9&&(l=-25),g>=11&&(l=-30)):g>=3&&17==m?(l=-5,g>=3&&(l=-22),g>=6&&(l=-27),g>=9&&(l=-32),g>=12&&(l=-39)):g>=3&&18==m?(l=-5,g>=3&&(l=-30),g>=6&&(l=-33),g>=9&&(l=-41),g>=12&&(l=-46)):g>=3&&19==m?(l=-5,g>=3&&(l=-36),g>=6&&(l=-43),g>=9&&(l=-50),g>=12&&(l=-55)):g>=3&&20==m?(l=-5,g>=3&&(l=-43),g>=6&&(l=-49),g>=9&&(l=-55),g>=12&&(l=-60),g>=15&&(l=-65)):g>=3&&21==m&&(l=-6,g>=3&&(l=-53),g>=6&&(l=-58),g>=9&&(l=-65),g>=12&&(l=-70),g>=15&&(l=-75)),document.querySelector(`#node-${c} .outputs .output_${g+1}`).style.top=`${17*g+l}px`);document.querySelector(`#minimap #node-${c}`).innerHTML=document.querySelector(`#drawflow #node-${c}`).innerHTML}addConditionsDiv(c){var u=c.variables.length+1,l=c.id,m=c.variables,M=c.uniqueName,g=[];for(let b=0;b<=m.length;b++)g.push(b!=m.length?`${m[b].vOne} ${this.conditionObjectMaster[m[b].vCondition]} ${m[b].vTwo}`:"Invalid/Failed");var $=document.getElementById(`node-${l}_msgDiv`);$.innerHTML=" ",document.getElementById(`node-${l}_outputsDiv`).innerHTML="";var r=document.createElement("div");r.classList.add("h-40"),r.innerHTML=`\n      <div class="h-40 d-flex" style="font-size : 10px">\n        <div class="mt-auto mb-auto" id="node-${l}_uniqueName">${M}</div>\n      </div>`,$.appendChild(r);var f,v=document.createElement("div");v.classList.add("varComponent");for(let b=0;b<m.length;b++)"1"==m[b].vCondition?f="Equal to":"2"==m[b].vCondition?f="Does not equal to":"3"==m[b].vCondition?f="Greater than":"5"==m[b].vCondition?f="Less than":"4"==m[b].vCondition?f="Greater than or equal to":"6"==m[b].vCondition?f="Less than or equal to":"7"==m[b].vCondition?f="Begins with":"8"==m[b].vCondition&&(f="! Begins with"),v.innerHTML+=`<li>${m[b].vOne} ${f} ${m[b].vTwo}</li>`;var h=document.createElement("div");h.classList.add("wp-box"),h.appendChild(v),$.appendChild(h);for(let b=0;b<=u;b++)if(b<u){const B=document.createElement("div");B.classList.add("wp-queryBox","pl-2","d-flex"),B.innerHTML=g[b],B.addEventListener("mousedown",function(_){_.stopPropagation()},!0),document.getElementById(`node-${l}_outputsDiv`).appendChild(B),document.querySelector(`#node-${l} .outputs .output_${b+1}`).classList.add("arrangeOutNode")}this.arrangeOutputNode(l,u)}testApi(c){return this.http.post(this.baseURL+"api/testApi/callApi",c,this.httpOptions).pipe((0,O.X)(2))}}return P.\u0275fac=function(c){return new(c||P)(S.LFG(x.eN))},P.\u0275prov=S.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},13802:(ee,z,a)=>{"use strict";a.d(z,{l:()=>N});var S=a(40520),e=a(59973),x=a(54512),F=a(7206),D=a(5e3),P=a(16200);let N=(()=>{class c{constructor(l,m){this.http=l,this.enc=m,this.baseURL=x.X.Config.api.sms,this.httpOptions={headers:new S.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"json"},this.currentUser=null}encryptData(l){if(null!=l&&null!=l&&"undefined"!=l&&"null"!=l&&""!=l)return F.AES.encrypt(JSON.stringify({data:l}),"U2FsdGVkX1/UBATuvgtFgZe+GvYotI9mVthtqWjI+Kw=").toString()}decryptData(l){if(null!=l&&null!=l&&""!=l&&"undefined"!=l&&"null"!=l){let m=F.AES.decrypt(l,"U2FsdGVkX1/UBATuvgtFgZe+GvYotI9mVthtqWjI+Kw=").toString(F.enc.Utf8);return JSON.parse(m).data}}Logout(l){return this.http.post(this.baseURL+"api/sign-in/logout",l,this.httpOptions)}Login(l){return this.http.post(this.baseURL+"api/Login/signin",JSON.stringify(l),this.httpOptions)}getSecQuestionList(l){return this.http.get(this.baseURL+`api/Login/securityQuestions/${l}`,this.httpOptions).pipe((0,e.X)(2))}FirstTimeLogin(l){return this.http.post(this.baseURL+"api/Login/firstTimeLogin",JSON.stringify(l),this.httpOptions)}VerifySecurityQs(l){return this.http.post(this.baseURL+"api/Login/verifySecurityAnswer",JSON.stringify(l),this.httpOptions)}AuthenticateUser(l){return this.http.post(this.baseURL+"api/Login/authenticateUser",JSON.stringify(l),this.httpOptions)}ChangePassword(l){return this.http.post(this.baseURL+"api/Login/ChangePassword",JSON.stringify(l),this.httpOptions)}ResendOTP(l){return this.http.post(this.baseURL+"api/Login/resendOTP",JSON.stringify(l),this.httpOptions)}logout(l,m){return this.http.get(this.baseURL+"api/Login/logout?mode="+m+"&loginId="+l,this.httpOptions)}}return c.\u0275fac=function(l){return new(l||c)(D.LFG(S.eN),D.LFG(P.n))},c.\u0275prov=D.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},92340:(ee,z,a)=>{"use strict";a.d(z,{N:()=>S});const S={production:!0}},97715:(ee,z,a)=>{"use strict";var S=a(22313),e=a(5e3),x=a(69808),F=a(76360),O=a(22347),D=a(40520),P=a(56331),N=a(21343),c=a(93075),u=a(68555),l=a(68089),m=a(35226),M=a.n(m),g=a(98790),$=a(52457),r=a(13802),v=a(70900);let f=(()=>{class n{constructor(t,i,s,o,d,w,y){this.http=t,this.bnIdle=i,this.router=s,this.iconSet=o,this.toastr=d,this.signInService=w,this.appService=y,o.icons=Object.assign({},l.z)}ngOnInit(){this.router.events.subscribe(t=>{t instanceof u.m2&&window.scrollTo(0,0)}),this.bnIdle.startWatching(1800).subscribe(t=>{"true"==this.signInService.decryptData(sessionStorage.getItem("IsLoggedIn"))&&t&&M()({title:"Session Expires!!",text:"You will be Logged out in 20 seconds",type:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Stay",cancelButtonText:"Logout",allowOutsideClick:!1,timer:2e4}).then(i=>{if(i.value)this.bnIdle.resetTimer();else{var s=this.signInService.decryptData(sessionStorage.getItem("LoginID"));this.signInService.logout(s,0).subscribe(o=>{window.sessionStorage.clear(),sessionStorage.setItem("IsLoggedIn","false")},o=>{window.sessionStorage.clear(),sessionStorage.setItem("IsLoggedIn","false")}),this.router.navigate(["/","login"])}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.eN),e.Y36(g.d),e.Y36(u.F0),e.Y36(P.uk),e.Y36($._W),e.Y36(r.l),e.Y36(v.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["body"]],features:[e._Bn([P.uk])],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})();var h=a(54512),C=a(59973),b=a(22977),B=a(7751);let _=(()=>{class n{constructor(t,i){this.http=t,this.authService=i,this.baseURL=h.X.Config.api.sms,this.httpOptions={headers:new D.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"json"}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(D.eN),e.LFG(B.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var U=a(91315),A=a(34500),E=a(45517),L=a(85122),T=a(98954),k=a(32916),Z=a(88117),V=a(67013),Y=a(1289),X=a(31794);function te(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"mat-option",6),e.NdJ("onSelectionChange",function(s){const d=e.CHM(t).$implicit;return e.oxw().onAccountChange(d,s)}),e._uU(1),e.qZA()}if(2&n){const t=p.$implicit;e.Q6J("value",t.Value),e.xp6(1),e.hij(" ",t.Text," ")}}let G=(()=>{class n{constructor(t,i,s,o){this.service=t,this.router=i,this.flowservice=s,this.signInService=o,this.show=!1,this.myControl=new c.NI,this.selectedAccount={Value:"-1",Text:""},this.selectedService={Value:"-1",Text:""},this.IsAccSelectDisabled=!1,this.IsServiceSelectDisabled=!1,this.mySubscription=this.router.events.subscribe(d=>{"/flow/flow"==this.router.url||"/flow/flowpreview"==this.router.url?(this.show=!0,this.IsAccSelectDisabled=!0,this.IsServiceSelectDisabled=!0,sessionStorage.setItem("sidebar","close"),this.service.refresh.next("close")):(this.show=!1,this.signInService.decryptData(sessionStorage.getItem("RoleID"))<"3"?(this.IsAccSelectDisabled=!1,this.IsServiceSelectDisabled=!1):(this.IsAccSelectDisabled=!0,this.IsServiceSelectDisabled=!0),sessionStorage.setItem("sidebar","open"),this.service.refresh.next("open"))})}ngOnInit(){this.show?(this.IsAccSelectDisabled=!0,this.IsServiceSelectDisabled=!0):(this.IsAccSelectDisabled=!1,this.IsServiceSelectDisabled=!1),this.serviceInfo=new k.y,this.getAccounts().subscribe(t=>{console.log(t,"acc"),t[0]?(this.selectedAccount=t[0],this.IsAccSelectDisabled=!(this.signInService.decryptData(sessionStorage.getItem("RoleID"))<"3")):this.IsAccSelectDisabled=!1,this.service.SelectedAccount=this.selectedAccount})}getAccounts(){return this.accInfo=this.service.getacconts().pipe((0,Z.B)()),this.accInfo}getServices(t){return this.serviceInfo=this.service.getAllServicesbyAccount(t.Value).pipe((0,Z.B)()),this.serviceInfo}onAccountChange(t,i){i.isUserInput&&this.accountchange(t)}accountchange(t){this.selectedAccount=t,this.selectedService={Value:"-1",Text:""},this.serviceInfo=new k.y,t&&(this.getServices(t),this.service.SelectedService=null),this.service.SelectedAccount=this.selectedAccount}onServiceChange(t,i){i.isUserInput&&(this.selectedService=t,this.service.SelectedService=this.selectedService)}ngOnDestroy(){this.mySubscription&&this.mySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.M),e.Y36(u.F0),e.Y36(A.i),e.Y36(r.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manage-acc-service"]],decls:10,vars:5,consts:[[1,"nav","navbar-nav","ml-auto"],[1,"nav-item","d-md-down-none"],["appearance","none","required","",1,"w-50"],["id","account","name","account",3,"ngModel","disabled","ngModelChange"],["account","ngModel"],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],[3,"value","onSelectionChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"li",1)(2,"mat-form-field",2)(3,"mat-select",3,4),e.NdJ("ngModelChange",function(o){return i.selectedAccount.Value=o}),e.YNc(5,te,2,2,"mat-option",5),e.ALo(6,"async"),e.qZA(),e.TgZ(7,"mat-label")(8,"mat-label"),e._uU(9,"Account"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngModel",i.selectedAccount.Value)("disabled",i.IsAccSelectDisabled),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,3,i.accInfo)))},directives:[V.KE,Y.gD,c.JJ,c.On,x.sg,X.ey,V.hX],pipes:[x.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:35%}.example-full-width[_ngcontent-%COMP%]{width:35%;font-size:4mm}.mat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%]{line-height:normal;line-height:initial}.toolbar-button[_ngcontent-%COMP%]{height:40px;width:inherit;padding:0}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:300px}.nav-item[_ngcontent-%COMP%]{margin-top:5px;width:130px}@media (min-width: 768px){.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:300px}}@media (max-width: 668px){.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:200px;display:flex;flex-wrap:initial}}.mat-form-field-flex[_ngcontent-%COMP%], .mat-form-field-infix[_ngcontent-%COMP%]{width:60%!important}  .mat-select-arrow{color:var(--main-select)}  .mat-select-value{color:var(--main-select)}mat-label[_ngcontent-%COMP%]{color:var(--main-label)}"]}),n})();var ie=a(1108);const q=function(n){return{display:n}};let ae=(()=>{class n{constructor(t,i){this.router=t,this.signInService=i}ngOnInit(){this.RoleID=this.signInService.decryptData(sessionStorage.getItem("RoleID")),this.Registered=this.signInService.decryptData(sessionStorage.getItem("Registered")),"3"==this.RoleID&&"1"==this.Registered&&(this.displayStyle="block")}ok(){return this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(r.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verification"]],decls:13,vars:3,consts:[["tabindex","-1",1,"modal","modelfade",3,"ngStyle"],[1,"modal-dialog"],[1,"modal-content","model","mx-auto"],[1,"modal-body"],[1,"container","mt-2"],[1,"text-center","color"],[1,"text-center","color1"],[1,"modal-footer"],[1,"mx-auto","color"],[1,"btn","color","mt-1",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6,"Verification Pending "),e.qZA(),e.TgZ(7,"p",6),e._uU(8,"Please try again once we've completed our review of your information."),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"h4",9),e.NdJ("click",function(){return i.ok()}),e._uU(12,"Ok"),e.qZA()()()()()()),2&t&&e.Q6J("ngStyle",e.VKq(1,q,i.displayStyle))},directives:[x.PC],styles:[".model[_ngcontent-%COMP%]{width:300px;margin-top:35%;background-color:#575454;border-radius:10px}.modelfade[_ngcontent-%COMP%]{background-color:#80808080}.color[_ngcontent-%COMP%]{color:#fff}.color1[_ngcontent-%COMP%]{color:#bdbaba}.modal-footer[_ngcontent-%COMP%]{border-color:#bdbaba;padding:0}"]}),n})();var J=a(97582),H=a(8929),ne=a(16200);let j=(()=>{class n{constructor(t,i){this.http=t,this.enc=i,this.baseURL=h.X.Config.api.sms,this.httpOptions={headers:new D.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"json"},this.fileHandler=new H.xQ,this.emojiPosition=new H.xQ,this.getQuickReplyWhenCreate=new H.xQ}getUserData(t){return this.http.get(`${this.baseURL}api/agent/getUserData/?agentData=${JSON.stringify(t)}`,this.httpOptions)}getSessionMessages(t){return this.http.get(`${this.baseURL}api/agent/getSessionMessages/?id=${t}`,this.httpOptions)}sentReply(t){return this.http.post(`${this.baseURL}api/agent/sentReply`,t,this.httpOptions)}endSession(t){return this.http.post(`${this.baseURL}api/agent/endSession`,t,this.httpOptions)}chatOpen(t){return this.http.get(`${this.baseURL}api/agent/chatOpen/?id=${t}`,this.httpOptions)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(D.eN),e.LFG(ne.n))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var se=a(19796),me=a(59634),fe=a.n(me);const Se={layout:{default:["\u0630 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} \u0636 \u0635 \u062b \u0642 \u0641 \u063a \u0639 \u0647 \u062e \u062d \u062c \u062f \\","{lock} \u0634 \u0633 \u064a \u0628 \u0644 \u0627 \u062a \u0646 \u0645 \u0643 \u0637 {enter}","{shift} \u0626 \u0621 \u0624 \u0631 \u0644\u0627 \u0649 \u0629 \u0648 \u0632 \u0638 {cLan}","@ {space} {close}"],shift:["\u0651 ! @ # $ % ^ & * ) ( _ + {bksp}","{tab} \u064e \u064b \u064f \u064c \u0644\u0625 \u0625 \u2018 \xf7 \xd7 \u061b < > |",'{lock} \u0650 \u064d ] [ \u0644\u0623 \u0623 \u0640 \u060c / : " {enter}',"{shift} ~ \u0652 } { \u0644\u0622 \u0622 \u2019 , . \u061f {cLan}","@ {space} {close}"]}},Oe={layout:{default:["` \u090d \u0945 \u094d\u0930 \u0930\u094d \u091c\u094d\u091e \u0924\u094d\u0930 \u0915\u094d\u0937 \u0936\u094d\u0930 \u096f \u0966 - \u0943 {bksp}","{tab} \u094c \u0948 \u093e \u0940 \u0942 \u092c \u0939 \u0917 \u0926 \u091c \u0921 \u093c \u0949 \\","{lock} \u094b \u0947 \u094d \u093f \u0941 \u092a \u0930 \u0915 \u0924 \u091a \u091f {enter}","{shift} \u0902 \u092e \u0928 \u0935 \u0932 \u0938 , . \u092f {cLan}","@ {space} {close}"],shift:["~ \u0967 \u0968 \u0969 \u096a \u096b \u096c \u096d \u096e \u096f \u0966 \u0903 \u090b {bksp}","{tab} \u0914 \u0910 \u0906 \u0908 \u090a \u092d \u0919 \u0918 \u0927 \u091d \u0922 \u091e \u0911","{lock} \u0913 \u090f \u0905 \u0907 \u0909 \u092b \u0931 \u0916 \u0925 \u091b \u0920 {enter}",'{shift} "" \u0901 \u0923 \u0928 \u0935 \u0933 \u0936 \u0937 \u0964 \u095f {cLan}',"@ {space} {close}"]}},he={layout:{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {cLan}","@ {space} {close}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {cLan}","@ {space} {close}"]}},Ie={layout:{default:["\u0d12 \u0d67 \u0d68 \u0d69 \u0d6a \u0d6b \u0d6c \u0d6d \u0d6e \u0d6f \u0d66 - \u0d0b {bksp}","{tab} \u0d14 \u0d10 \u0d06 \u0d08 \u0d0a \u0d2d \u0d19 \u0d18 \u0d27 \u0d1d \u0d22 \u0d1e |","{lock} \u0d13 \u0d0f \u0d05 \u0d07 \u0d09 \u0d2b \u0d31 \u0d16 \u0d25 \u0d1b \u0d20 {enter}","{shift} \u0d0e \u0d03 \u0d23 \u0d34 \u0d33 \u0d36 \u0d37 . \u0d2f {cLan}","@ {space} {close}"],shift:["\u0d4a ! @ # $ % ^ & * ) ( _ \u0d43 {bksp}","{tab} \u0d4c \u0d48 \u0d3e \u0d40 \u0d42 \u0d2c \u0d39 \u0d17 \u0d26 \u0d1c \u0d21 \u0d4e \\","{lock} \u0d4b \u0d47 \u0d4d \u0d3f \u0d41 \u0d2a \u0d30 \u0d15 \u0d24 \u0d1a \u0d1f {enter}","{shift} \u0d46 \u0d02 \u0d2e \u0d28 \u0d35 \u0d32 \u0d38 . \u0d2f {cLan}","@ {space} {close}"]}};var be=a(59730);function Pe(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"button",8),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw(2).getLanguage(o)}),e.TgZ(2,"span",9),e._uU(3),e.qZA()()()}if(2&n){const t=p.$implicit,i=e.oxw(2);e.xp6(1),e.ekj("selected",t===i.selectedLanguage),e.xp6(2),e.Oqu(t)}}function re(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div")(2,"input",5),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().search=s})("ngModelChange",function(){return e.CHM(t),e.oxw().onSearch()}),e.qZA()(),e.TgZ(3,"ul",6),e.YNc(4,Pe,4,3,"li",7),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.search),e.xp6(2),e.Q6J("ngForOf",t.languages)}}const ve=function(){return{width:"500px",position:"fixed",top:"370px",right:"250px","z-index":"1000",cursor:"move",padding:"5px"}};let _e=(()=>{class n{constructor(t,i){this.propertyService=t,this.flowservice=i,this.showWindow=!1,this.value="",this.languages=["English","Hindi","Malayalam","Arabic"],this.keyboardStatus="closed",this.curPos=0,this.onChange=s=>{this.value=s},this.onKeyPress=s=>{var o=document.getElementById(`${this.nodeName}`);if("{shift}"===s||"{lock}"===s)this.handleShift();else if("{cLan}"==s)this.showWindow=!this.showWindow;else if("{bksp}"==s){var d=o.innerHTML.slice(0,this.curPos),w=o.innerHTML.slice(this.curPos);d=d.substring(0,d.length-1),o.innerHTML=d+w,this.propertyService.changeCurPos.next(this.curPos-1),this.propertyService.changeTempVar.next(o.textContent),this.propertyService.lengthChange.next("changed")}else if("{enter}"==s)d=o.innerHTML.slice(0,this.curPos),w=o.innerHTML.slice(this.curPos),d=d.trim()+"<br>",o.innerHTML=d+w,this.propertyService.changeCurPos.next(this.curPos+4),this.propertyService.changeTempVar.next(o.textContent),this.propertyService.lengthChange.next("changed");else if("{space}"==s)0==o.textContent.trim().length?(o.innerHTML=o.innerHTML+"&nbsp;",this.propertyService.changeCurPos.next(this.curPos+6),this.propertyService.changeTempVar.next(o.textContent),this.propertyService.lengthChange.next("changed")):(d=o.innerHTML.slice(0,this.curPos),w=o.innerHTML.slice(this.curPos+1),d=d.trim()+"&nbsp;",o.innerHTML=d+w,this.propertyService.changeCurPos.next(this.curPos+6),this.propertyService.changeTempVar.next(o.textContent),this.propertyService.lengthChange.next("changed"));else if("{tab}"!=s)if("{close}"==s)(o=document.getElementById("simpleKey")).style.display="none",this.keyboardStatus="closed";else if(0==o.textContent.trim().length)o.innerHTML=o.innerHTML+s.slice(0,1),this.propertyService.changeCurPos.next(this.curPos+6),this.propertyService.changeTempVar.next(o.textContent),this.propertyService.lengthChange.next("changed");else if(o.textContent.trim().length<this.maxLength){var R=s.slice(0,1);d=o.innerHTML.slice(0,this.curPos),w=o.innerHTML.slice(this.curPos),d=d.trim()+R,o.innerHTML=d+w,this.propertyService.changeCurPos.next(this.curPos+1),this.propertyService.changeTempVar.next(o.textContent),this.propertyService.lengthChange.next("changed")}},this.onInputChange=s=>{this.keyboard.setInput(s.target.value)},this.handleShift=()=>{this.keyboard.setOptions({layoutName:"default"===this.keyboard.options.layoutName?"shift":"default"})}}ngOnInit(){this.propertyService.changeClassOveride.subscribe(i=>{this.nodeName=i}),this.propertyService.changeCurPos.subscribe(i=>{this.curPos=i}),document.getElementById("simpleKey").style.display="none",this.keyboardStatus="closed",this.flowservice.openKeyboard.subscribe(i=>{this.maxLength=i.maxLen,"closed"==this.keyboardStatus?(this.keyboardStatus="open",document.getElementById("simpleKey").style.display="block"):this.nodeName==i.data||null==this.nodeName?(this.keyboardStatus="closed",document.getElementById("simpleKey").style.display="none",this.showWindow=!1):this.nodeName!=i.data&&(this.showWindow=!1),this.nodeName=i.data}),this.flowservice.alwaysCloseKeyboard.subscribe(i=>{"open"==this.keyboardStatus&&(this.keyboardStatus="closed",document.getElementById("simpleKey").style.display="none")})}ngAfterViewInit(){this.keyboard=new(fe())(Object.assign(Object.assign({onChange:t=>this.onChange(t),onKeyPress:t=>this.onKeyPress(t)},he),{display:{"{cLan}":"&#127760;Change lang","{shift}":"&#8679; Shift","{lock}":"CapsLock","{tab}":"Tab \u21b9","{space}":"\u2800","{bksp}":"&#10229; Backspace","{enter}":"\u21b5 Enter","{close}":"close"}}))}getLanguage(t,i){"English"==t?this.keyboard.setOptions(he):"Malayalam"==t?this.keyboard.setOptions(Ie):"Hindi"==t?this.keyboard.setOptions(Oe):"Arabic"==t&&this.keyboard.setOptions(Se),this.showWindow=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se.o),e.Y36(A.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["select-language"]],decls:4,vars:4,consts:[["id","simpleKey",2,"text-align","center"],["cdkDrag","",1,"simple-keyboard"],[1,"input"],["class","languageWindow",4,"ngIf"],[1,"languageWindow"],["placeholder","Search",1,"formcontrol",3,"ngModel","ngModelChange"],[1,"list"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[1,"name"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,re,5,2,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Akn(e.DdM(3,ve)),e.xp6(2),e.Q6J("ngIf",i.showWindow))},directives:[be.Zt,x.O5,c.Fj,c.JJ,c.On,x.sg],styles:[".icon[_ngcontent-%COMP%]{position:absolute;margin-left:-22px;background-color:#e7e7e7;color:#000;border:none;text-align:center;text-decoration:none;display:inline-block;font-size:8px;padding:.5px 0 0;min-width:19px;max-height:19px;cursor:pointer;border-radius:8px;z-index:49;font-weight:700}.displayNone[_ngcontent-%COMP%]{display:none!important}.textarea[_ngcontent-%COMP%]{background-color:#ececec36;position:relative;border:1px solid #719ECE;border-radius:10px;overflow:auto;padding:2px 4px 26px;resize:vertical;width:100%;color:#000;font-size:12px}.textarea[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:0 0 10px #719ece}.placeHolder[_ngcontent-%COMP%]{position:absolute;font-size:10px;left:15px;padding:5px}.emoji-button[_ngcontent-%COMP%]{position:relative;top:-19px;left:87px;font-size:16px;width:19px;cursor:pointer;z-index:50}.button[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#000;border:none;text-align:center;text-decoration:none;display:inline-block;font-size:10px;padding:0;margin:0;min-width:19px;max-height:19px;cursor:pointer;border-radius:8px;z-index:99}.text-limit[_ngcontent-%COMP%]{position:relative;right:-111px;top:-42px;font-size:8px}.button-active[_ngcontent-%COMP%]{background-color:#f8f80365}.button-div[_ngcontent-%COMP%]{position:absolute;margin-top:-27px;margin-left:40px;height:26px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgb(196,196,196)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgb(158,158,158)}.list[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:100%}.list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{align-self:center}.formcontrol[_ngcontent-%COMP%]{display:block;width:100%;height:23px;padding:.375rem .75rem;font-size:12px;font-weight:400;line-height:1.5;color:#5c6873;background-color:#fff;background-clip:padding-box;border:1px solid #e4e7ea;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.languageWindow[_ngcontent-%COMP%]{padding:6px;border-radius:5px;width:145px;height:140px;background-color:#fff;overflow-y:auto;scrollbar-width:1px;position:absolute;margin-left:347px;border:1px #00a3ad solid}.list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#4b4a4a;background-color:#fff;padding:0;border-bottom:solid 1px rgba(196,192,192,.212);border-width:0px 0em 1px 0;flex:1;cursor:pointer;position:relative;left:0;margin:1px;height:1.6em;display:flex;align-items:stretch;height:1.8em}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#2c3a41;background-color:#e4e0e02c;left:.1em}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#9797971a;color:#050505}.list[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#9797971a;color:#0e0d0d}"]}),n})();var De=a(546);let Be=(()=>{class n{constructor(t,i,s){this.templateRef=t,this.viewContainer=i,this.differs=s,this.items=[],this.viewRefsMap=new Map,this.itemsAtOnce=10,this.intervalLength=50}set ngxtForOf(t){this.items=t,t&&(this._diffrence=this.differs.find(t).create()),this.viewContainer.clear()}ngDoCheck(){if(this._diffrence){const t=this._diffrence.diff(this.items);if(t){const i=[];t.forEachAddedItem(s=>{i.push(s)}),this.progressiveRender(i),t.forEachRemovedItem(s=>{const o=this.viewRefsMap.get(s.item),d=this.viewContainer.indexOf(o);this.viewContainer.remove(d),this.viewRefsMap.delete(s.item)})}}}progressiveRender(t){let i,s=0,o=s+this.itemsAtOnce;o>t.length&&(o=t.length),this.renderItems(t,s,o),i=setInterval(()=>{s=o,o=s+this.itemsAtOnce,o>t.length&&(o=t.length),this.renderItems(t,s,o),s>=t.length&&clearInterval(i)},this.intervalLength)}renderItems(t,i,s){t.slice(i,s).forEach(o=>{const d=this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:o.item},o.currentIndex||0);this.viewRefsMap.set(o.item,d)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(e.ZZ4))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngxtFor",""]],inputs:{ngxtForOf:"ngxtForOf",itemsAtOnce:["ngxtForItemsAtOnce","itemsAtOnce"],intervalLength:["ngxtForIntervalLength","intervalLength"]}}),n})();var ke=a(57276);const Fe=["menu"];function Ze(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"i",16),e.TgZ(2,"input",17),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().search=s})("ngModelChange",function(s){return e.CHM(t),e.oxw().onSearch(s)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.search)}}function Je(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"input",19),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().newVariable=s})("paste",function(s){return e.CHM(t),e.oxw().preventPaste(s)}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().addVariable()}),e._uU(3,"Add"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.newVariable),e.xp6(1),e.Q6J("disabled",!t.newVariable)}}function He(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"button",21),e.NdJ("click",function(){const s=e.CHM(t),o=s.$implicit,d=s.index;return e.oxw().onSelect(o,d)}),e.TgZ(2,"span",22),e._uU(3),e.qZA()()()}if(2&n){const t=p.$implicit,i=e.oxw();e.xp6(1),e.ekj("selected",t===i.selectedVariable),e.xp6(2),e.Oqu(t)}}let je=(()=>{class n{constructor(t,i,s,o){this.toastr=t,this.service=i,this.renderer=s,this.flowService=o,this.childToParent=new e.vpe,this.variables=[],this.systemVariables=[{name:"cus_number"}],this.allVariables=[],this.display="none",this.variableList=[],this.filterValue=[],this.myVar1=!1,this.myVar2=!0,this.type1=1,this.flowService.updateVariable.subscribe(d=>{this.change("user")})}ngOnInit(){this.type1=1,this.selected="userVariables",this.variables=this.flowService.userVariables,this.systemVariables=this.flowService.systemVariables,this.service.dynamicVariable.subscribe(t=>{this.data=t;const i=document.getElementsByClassName("modal");"botask.retryMessage"==t?i[5].classList.add("display"):"botask.timeoutMessage"==t?i[4].classList.add("display"):"botask.invalidMessage"==t?i[2].classList.add("display"):"botask.message"==t||"botask.caption.image"==t||"botask.caption.audio"==t||"botask.caption.video"==t||"botask.caption.document"==t?i[1].classList.add("display"):(i[0].classList.add("display"),this.display="block"),this.variables="userVariables"==this.selected?this.flowService.userVariables:this.systemVariables,this.variableList=[],this.changeFormat(this.variables)})}addVariable(){if(0!=this.newVariable.trim().length){this.newVariable=this.newVariable.trim().replace(/\s/g,"_");var t=!1;this.flowService.userVariables.map(i=>{if(i.name==this.newVariable)return t=!0,void this.toastr.warning("Variable already exists")}),0==t&&(this.flowService.addVariable(this.newVariable,""),this.variables=this.flowService.userVariables,this.variableList=[],this.changeFormat(this.variables),this.newVariable="")}else this.toastr.warning("Variable name cannot be empty")}preventPaste(t){t.preventDefault()}delete(t){this.flowService.removeVariable(t),this.variables=this.flowService.userVariables,this.variableList=[],this.changeFormat(this.variables)}ngAfterViewInit(){this.type1=1,this.renderer.listen("window","click",t=>{if(t.target==this.menu.nativeElement){const i=document.getElementsByClassName("modal");for(let s=0;s<i.length;s++)i[s].classList.remove("display");this.display="none",this.variables=[""],this.search=""}})}openModal(){"systemVariables"==this.flowService.variableType&&(this.variables=this.systemVariables,this.selected="systemVariables",this.flowService.variableType="systemVariables"),this.display="block"}onCloseHandled(){this.display="none"}onSelect(t,i){this.selectedVariable=t,this.onClick()}change(t){"user"==t?(this.myVar2=!0,this.myVar1=!1):(this.myVar1=!0,this.myVar2=!1),"system"==t?(this.variables=this.systemVariables,this.selected=this.systemVariables,this.flowService.variableType="systemVariables",this.variableList=[],this.changeFormat(this.variables)):"user"==t?(this.variables=this.flowService.userVariables,this.selected="userVariables",this.flowService.variableType="userVariables",this.variableList=[],this.changeFormat(this.variables)):(this.variables=this.allVariables,this.selected=this.allVariables)}changeFormat(t){for(let i=0;i<t.length;i++)this.variableList.push(t[i].name);this.filterValue=this.variableList}onClick(){this.childToParent.emit(`[${this.selectedVariable}]`)}onSearch(t){const i=this.search;i.length>=0&&(this.variableList=this.filterValue.filter(s=>s.toLowerCase().includes(i)))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($._W),e.Y36(se.o),e.Y36(e.Qsj),e.Y36(A.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-variable-pop"]],viewQuery:function(t,i){if(1&t&&e.Gf(Fe,5),2&t){let s;e.iGM(s=e.CRH())&&(i.menu=s.first)}},inputs:{style:"style"},outputs:{childToParent:"childToParent"},decls:21,vars:5,consts:[["tabindex","-1","role","dialog",1,"modal"],["menu",""],["cdkDrag","",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[1,"form-check"],["type","checkbox","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"checked","change"],[1,"form-check-label"],["type","checkbox","name","flexRadioDefault","id","flexRadioDefault0",1,"form-check-input",3,"checked","change"],[4,"ngIf"],["class","d-flex",4,"ngIf"],[1,"field"],[1,"heroes"],[4,"ngFor","ngForOf"],[1,"bi","bi-search","icon"],["placeholder","Search",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex"],["placeholder","Add Variable",1,"form-control","w-75","addInput",3,"ngModel","ngModelChange","paste"],["type","button",1,"add","btn-primary",3,"disabled","click"],["type","button",1,"buttontype",3,"click"],[1,"name"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e._uU(6,"Select Variables"),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"input",8),e.NdJ("change",function(){return i.change("system")}),e.qZA(),e.TgZ(10,"label",9),e._uU(11," System Variables "),e.qZA()(),e.TgZ(12,"div",7)(13,"input",10),e.NdJ("change",function(){return i.change("user")}),e.qZA(),e.TgZ(14,"label",9),e._uU(15," User defined Variables "),e.qZA()(),e.YNc(16,Ze,3,1,"div",11),e.YNc(17,Je,4,2,"div",12),e.TgZ(18,"div",13)(19,"ul",14),e.YNc(20,He,4,3,"li",15),e.qZA()()()()()()),2&t&&(e.xp6(9),e.Q6J("checked",i.myVar1),e.xp6(4),e.Q6J("checked",i.myVar2),e.xp6(3),e.Q6J("ngIf",i.selected==i.systemVariables),e.xp6(1),e.Q6J("ngIf","userVariables"==i.selected),e.xp6(3),e.Q6J("ngForOf",i.variableList))},directives:[be.Zt,x.O5,c.Fj,c.JJ,c.On,x.sg],styles:[".modal-header[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700;padding:10px;height:30px;color:#000;border-bottom:0px}.w-75[_ngcontent-%COMP%]{width:75%}.add[_ngcontent-%COMP%]{background-color:#2ba8e0!important;border-radius:25px;margin-top:5px;height:25px;font-size:12px}.addInput[_ngcontent-%COMP%]{padding:0 5px!important}.display[_ngcontent-%COMP%]{display:block!important}.modalNone[_ngcontent-%COMP%]{display:none!important}.modal-title[_ngcontent-%COMP%]{font-size:12px;font-weight:520}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#80808070}[_ngcontent-%COMP%]::placeholder{color:#80808070}.form-control[_ngcontent-%COMP%]{border-radius:25px;margin-top:5px;height:25px;font-size:12px;padding-left:18px}.modal-dialog[_ngcontent-%COMP%]{cursor:move}input[type=radio][_ngcontent-%COMP%]{transform:scale(1.1);cursor:pointer}.pointer[_ngcontent-%COMP%]{cursor:pointer}#menu[_ngcontent-%COMP%]{position:absolute;z-index:9;background-color:#f1f1f1;border:1px solid #d3d3d3;text-align:center}.modal-content[_ngcontent-%COMP%]{border-radius:8px;padding:0;width:190px;margin-left:100%;margin-top:38%;box-shadow:-5px 0 20px #80808056}.form-check-label[_ngcontent-%COMP%]{margin-top:2px}.modal[_ngcontent-%COMP%]{background-color:#a5a5a500}.btn-sm[_ngcontent-%COMP%]{width:70px}.footer[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-around}.modal-body[_ngcontent-%COMP%]{padding-top:5px;height:236px;padding-left:10px;padding-right:10px}label[_ngcontent-%COMP%]{margin-left:8px}.field[_ngcontent-%COMP%]{cursor:pointer;border-radius:5px;margin-top:10px;width:100%;height:140px;background-color:#fff;overflow-y:auto;scrollbar-width:1px}.heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:100%}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}.heroes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#4b4a4a;background-color:#fff;padding:0;right:11px!important;border-bottom:solid 1px rgba(196,192,192,.212);border-width:0px 0em 1px 0;flex:1;cursor:pointer;position:relative;left:0;margin:1px;height:1.6em;display:flex;align-items:stretch;height:1.8em}.heroes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#2c3a41;background-color:#e4e0e02c;left:.1em}.heroes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#9797971a;color:#050505}.heroes[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#9797971a;color:#0e0d0d}button[_ngcontent-%COMP%]:disabled, button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}.trash[_ngcontent-%COMP%]{color:#2ba8e0;right:10px}.icon[_ngcontent-%COMP%]{position:absolute;margin-left:5px!important;margin-top:3px!important;color:#80808070}.heroes[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]:hover{background-color:#9797971a;color:#242222}.heroes[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]:active{background-color:#9797971a;color:#1a1818}.heroes[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{align-self:center}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c4c4c4}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9e9e9e}"]}),n})();const Re=["contentEditobleDiv"],$e=["placeholder"],ze=["buttonDiv"];function Ve(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"span",17,18),e.NdJ("click",function(){return e.CHM(t),e.oxw().focusToInital()}),e._uU(2),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.placeHolder)}}function We(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",19),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.input(s.classOverride)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.icon)}}function Qe(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"emoji-mart",20),e.NdJ("emojiSelect",function(s){return e.CHM(t),e.oxw().addEmoji(s)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",1==t.emojiFlag?"emoji-mart chatEmoji":"emoji-mart textAreaEmjoi")("enableSearch",!0)("emojiTooltip",!1)("showPreview",!1)("sheetSize",16)("emojiSize",20)("darkMode",!0)("perLine",6)("totalFrequentLines",1)}}const Ye=function(n){return{"min-height.px":n}},Le=function(n){return{"button-active":n}};let Ke=(()=>{class n{constructor(t,i,s,o,d,w){this.propertyService=t,this.flowService=i,this.renderListener=s,this.signInService=o,this.router=d,this.chatBotService=w,this.emojiFlag=!1,this.maxHeightFlag=!1,this.arrangeButtonDiv=!1,this.messageData=new e.vpe,this.textLength=new e.vpe,this.padding="0px",this.show=!1,this.tempVar=" ",this.boldFlag=!1,this.italicFlag=!1,this.strikeFlag=!1,this.underlineFlag=!1,this.currentPosition=0,this.icon="{X}",this.showEmojiPicker=!1,this.set="twitter",this.style="",this.lengthShow="",this.nextText="",this.editableFlag=!0,this.showKeybordcom=!1,this.value="",this.type="",this.agentWindow=!1,this.showVariable=!0,this.agentChat=!1,this.checkLength(),this.propertyService.clearTextbox.subscribe(()=>{this.clearTextarea()}),this.propertyService.resetBtn.subscribe(()=>{this.resetFunction()}),this.propertyService.changeCurPos.subscribe(y=>{this.currentPosition=y})}ngOnInit(){this.showVariable="/accounts/chatReplies"!=this.router.url,this.agentWindow="1"==this.signInService.decryptData(sessionStorage.getItem("agentFlag")),this.propertyService.lengthChange.subscribe(t=>{this.keyUp()}),this.propertyService.changeTempVar.subscribe(t=>{this.tempVar=t}),this.propertyService.getPos.subscribe(t=>{this.propertyService.currentPos=this.currentPosition}),this.model=this.model.replace(/ /g,"&nbsp;").replace(/\\"/g,'"'),this.tempVar=this.model,this.checkLength(),1==this.emojiFlag&&(this.showVariable=!1)}checkLength(){var t=document.getElementById(`${this.classOverride}`);if(t){var i=t.textContent,s=t.innerHTML,o=(s.match(new RegExp("<br>","g"))||[]).length,d=(s.match(new RegExp("<b>","g"))||[]).length,w=(s.match(new RegExp("<i>","g"))||[]).length,y=(s.match(new RegExp("<strike>","g"))||[]).length,I=Math.min(i.split("[").length-1,i.split("]").length-1);this.nextText=i;var R="",W="";for(let ue=1;ue<=I;ue++){var Q=this.nextText.indexOf("["),K=this.nextText.indexOf("]"),oe=this.nextText.indexOf("[",Q+1),ge=this.nextText.indexOf("]",K+1);if(oe>K||-1==oe){var de=this.nextText.substring(0,Q),ce=this.nextText.substring(K+1,this.nextText.length);this.nextText=de+=ce}else oe<K&&oe>Q&&-1!=oe?ge<0?(de=this.nextText.substring(0,oe),ce=this.nextText.substring(K),R=oe-this.nextText.length):(R=oe-Q,W=50,de=this.nextText.substring(0,Q),ce=this.nextText.substring(oe),this.nextText=de+=ce):(de=this.nextText.substring(0,oe),ce=this.nextText.substring(K+1,this.nextText.length),this.nextText=de+=ce)}this.lengthShow="/flow/flow"==this.router.url?this.nextText.length+50*I+6*o+4*d+4*w+4*y+R-W:i.length+6*o+4*d+4*w+4*y+R-W}}returnLength(t){this.nextText=t;var i=document.createElement("div");i.innerHTML=t;var o=(i.innerHTML.match(new RegExp("<br>","g"))||[]).length,d=Math.min(t.split("[").length-1,t.split("]").length-1);for(let ge=1;ge<=d;ge++){var I=this.nextText.indexOf("["),R=this.nextText.indexOf("]"),W=this.nextText.indexOf("[",I+1),Q=this.nextText.indexOf("]",R+1);if(W>R||-1==W){var K=this.nextText.substring(0,I),oe=this.nextText.substring(R+1,this.nextText.length);this.nextText=K+=oe}else W<R&&W>I&&-1!=W?Q<0?(K=this.nextText.substring(0,W),oe=this.nextText.substring(R)):(K=this.nextText.substring(0,I),oe=this.nextText.substring(W),this.nextText=K+=oe):(K=this.nextText.substring(0,W),oe=this.nextText.substring(R+1,this.nextText.length),this.nextText=K+=oe)}return this.nextText.length+50*d+6*o}checkPasteData(t,i){if(!(this.returnLength(t)>i))return t;for(let d=1;d<t.length;d++){var s=t.slice(0,-d);if(this.returnLength(s)<=i)return t.slice(0,-d)}}keyUp(){this.checkLength();var t=document.getElementById(`${this.classOverride}`),i=this.getcaretPositionWIthInnerHtml(t);this.currentPosition<i&&(this.currentPosition=i);var s=t.innerHTML.replace(/<b>[<br>]*<\/b>/g,"<br>").replace(/[a-z0-9]<div><br><\/div><div>/,"<br><br>").replace(/<div><br><\/div><div>/g,"<br>").replace(/<div><br><div>/g,"<br><br>").replace(/<div><br><\/div>/g,"<br>").replace(/<\/?span[^>]*>/g,"").replace(/<div>/g,"<br>").replace(/<\/div>/g,"").replace(/\s+/g,"&nbsp;").replace(/\n/g,"<br>");this.propertyService.currentPos=this.currentPosition,this.messageData.emit(s),this.textLength.emit(this.lengthShow),this.propertyService.changeCurPos.next(this.currentPosition),this.propertyService.changeClassOveride.next(this.classOverride)}moveFocusToEnd(){const t=document.getElementById(`${this.classOverride}`),i=window.getSelection(),s=document.createRange();i.removeAllRanges(),s.selectNodeContents(t),s.collapse(!1),i.addRange(s),t.focus()}ngAfterViewInit(){this.checkLength(),this.currentPosition=this.lengthShow,this.renderListener.listen("window","click",t=>{t.target==this.editableDiv.nativeElement&&(this.ngOnInit(),this.checkLength())})}ngOnChanges(){this.ngOnInit()}focusToInital(){0==this.tempVar.length&&this.editableDiv.nativeElement.focus()}resetFunction(){this.boldFlag=!1,this.italicFlag=!1,this.strikeFlag=!1,this.underlineFlag=!1}selectFunction(t,i,s){document.execCommand(t,i,s),this.keyUp()}addText(t){if(this.lengthShow<this.maxLen){this.tempVar=document.getElementById(`${this.classOverride}`).textContent;var i=document.getElementById(`${this.classOverride}`),s=this.getcaretPositionWIthInnerHtml(i);this.currentPosition=s;var o=this.checkRegExp(i,s,s);this.boldFlag=o.bold.status,this.italicFlag=o.italic.status,this.strikeFlag=o.strike.status,this.underlineFlag=o.underline.status,document.getElementById(`${this.classOverride}`),this.checkLength(),this.textLength.emit(this.lengthShow),this.propertyService.changeCurPos.next(this.currentPosition)}else"Backspace"!=t.code&&(t.preventDefault(),this.checkLength())}clearTextarea(){try{document.getElementById(`${this.classOverride}`).innerHTML="",this.tempVar="",this.lengthShow=0}catch(t){}}checkRegExp(t,i,s){var o=i,d=s,w={bold:{expression:/<b>[^]*<\/b>/g,status:!1},italic:{expression:/<i>[^]*<\/i>/g,status:!1},strike:{expression:/<strike>[^]*<\/strike>/g,status:!1},underline:{expression:/<u>[^]*<\/u>/g,status:!1}},y=t.innerHTML;for(var I in w)for(let R;null!==(R=w[I].expression.exec(y));)w[I].status=R.index<o&&w[I].expression.lastIndex>d;return w}contentCheckOnPaste(t){var i=this.maxLen,s=t.clipboardData.getData("text/plain");s=s.replace(/(<([^>]+)>)/gi,"");var w,o=document.getElementById(`${this.classOverride}`).textContent,d=document.getElementById(`${this.classOverride}`).innerHTML,y=o.length,I=s.length;y==i?t.preventDefault():y+I>=i?(w=s.slice(0,i-y),"/flow/flow"==this.router.url&&(w=this.checkPasteData(w,i-this.returnLength(o))),this.pasteData(d,w)):y+I<i&&(w="flow/flow"==this.router.url?this.checkPasteData(s,i-this.returnLength(o)):s,this.pasteData(d,w)),t.preventDefault()}pasteData(t,i){var s=t.slice(0,this.currentPosition),o=t.slice(this.currentPosition);s+=i,document.getElementById(`${this.classOverride}`).innerHTML=s+o,this.moveFocusToEnd(),this.messageData.emit(document.getElementById(`${this.classOverride}`).innerHTML.replace(/<b>[<br>]*<\/b>/g,"\n").replace(/<div><br><\/div><div>/g,"<br>").replace(/<div><br><\/div>/g,"<br>").replace(/<\/?span[^>]*>/g,"").replace(/<div>/g,"<br>").replace(/<\/div>/g,"").replace(/\s+/g,"&nbsp;").replace(/\n/g,"<br>")),this.textLength.emit(this.lengthShow)}getCaretPosition(t){var o,i=window.getSelection().getRangeAt(0),s=i.cloneRange();s.selectNodeContents(t),s.setEnd(i.endContainer,i.endOffset);var d=i.startContainer.textContent.replace(/\s/g,"&nbsp;"),w=i.startContainer.nextSibling,y=0;y+=i.startContainer.textContent.slice(0,i.startOffset).replace(/\s/g,"&nbsp;").length,w&&"[object HTMLBRElement]"==w.toString()&&(d=`${d}<br>`),i.startContainer.previousSibling&&!w&&"[object HTMLBRElement]"==i.startContainer.previousSibling.toString()&&(d=`<br>${d}`,y+=4);var R=document.getElementById(this.classOverride).innerHTML.replace(/\s/g,"&nbsp;");return this.lastInd=R.indexOf(d)+y,o=s.toString().length,this.caretCurrentpos=o,o}getcaretPositionWIthInnerHtml(t){var i=this.getCaretPosition(t),s=t.innerHTML,o=0,d=0,w=!1,y=["&","<"],I=[";",">"];if(0==i)return 0;for(;o<i;){for(;y.indexOf(s.charAt(d))>-1;)for(w=!0;w;)I.indexOf(s.charAt(d))>-1&&(";"==s.charAt(d)&&d++,w=!1),d++;d++,o++}return d}toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker}addEmoji(t){if(this.lengthShow<this.maxLen&&this.lengthShow+2<=this.maxLen){var i=t.emoji.native,s=document.getElementById(`${this.classOverride}`),o=this.currentPosition,d=s.innerHTML.slice(0,o),w=s.innerHTML.slice(o);s.innerHTML=(d+=i)+w,this.currentPosition=this.currentPosition+i.length,this.tempVar=s.textContent,this.checkLength(),this.propertyService.changeCurPos.next(this.currentPosition),this.messageData.emit(s.innerHTML.replace(/<b>[<br>]*<\/b>/g,"\n").replace(/<div><br><\/div><div>/g,"<br>").replace(/<div><br><\/div>/g,"<br>").replace(/<\/?span[^>]*>/g,"").replace(/<div>/g,"<br>").replace(/<\/div>/g,"").replace(/\s+/g,"&nbsp;").replace(/\n/g,"<br>")),this.textLength.emit(this.lengthShow)}}input(t){this.show=!0,this.propertyService.dynamicVariable.next(t)}childToParent(t){if(this.lastInd&&this.lengthShow<this.maxLen&&this.lengthShow+50<=this.maxLen){var i=t,s=document.getElementById(`${this.classOverride}`),o=this.lastInd,d=s.innerHTML.slice(0,o),w=s.innerHTML.slice(o);s.innerHTML=(d+=i)+w,this.currentPosition=this.currentPosition+i.length,this.tempVar=s.textContent,this.checkLength(),this.propertyService.changeCurPos.next(this.currentPosition),this.messageData.emit(s.innerHTML.replace(/<b>[<br>]*<\/b>/g,"\n").replace(/<div><br><\/div><div>/g,"<br>").replace(/<div><br><\/div>/g,"<br>").replace(/<\/?span[^>]*>/g,"").replace(/<div>/g,"<br>").replace(/<\/div>/g,"").replace(/" "/g,"&nbsp;").replace(/\n/g,"<br>")),this.textLength.emit(this.lengthShow)}}ngOnDestroy(){this.model="",this.tempVar=" ",this.boldFlag=!1,this.italicFlag=!1,this.strikeFlag=!1,this.underlineFlag=!1,this.currentPosition=0}clicked(){var t=document.getElementById(`${this.classOverride}`),i=this.getcaretPositionWIthInnerHtml(t);this.currentPosition=i,this.propertyService.changeCurPos.next(i)}toggleKeyboard(t){this.flowService.openKeyboard.next({data:t,maxLen:this.maxLen})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se.o),e.Y36(A.i),e.Y36(e.Qsj),e.Y36(r.l),e.Y36(u.F0),e.Y36(j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["custom-textarea"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Re,5),e.Gf($e,5),e.Gf(ze,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.editableDiv=s.first),e.iGM(s=e.CRH())&&(i.placeholder=s.first),e.iGM(s=e.CRH())&&(i.buttonDiv=s.first)}},inputs:{classOverride:"classOverride",model:"model",placeHolder:"placeHolder",minHeight:"minHeight",maxLen:"maxLen",emojiFlag:"emojiFlag",maxHeightFlag:"maxHeightFlag",arrangeButtonDiv:"arrangeButtonDiv"},outputs:{messageData:"messageData",textLength:"textLength"},features:[e.TTD],decls:25,vars:21,consts:[["id","mainDiv",1,"d-flex"],["contenteditable","true",1,"",3,"id","ngClass","ngStyle","innerHTML","keydown","keyup","click","paste"],["contentEditobleDiv",""],["class","placeHolder",3,"click",4,"ngIf"],[3,"ngClass"],["buttonDiv",""],["class","icon","matTooltip","Variable Pop-Up.Used to select  userdefined and system variable",3,"click",4,"ngIf"],["matTooltip","On-screen Keyboard",1,"button",3,"click"],[1,"far","fa-keyboard"],["id","boldBtn","matTooltip","Bold",1,"button",3,"ngClass","click"],["id","italicBtn","matTooltip","Italics",1,"button",3,"ngClass","click"],["id","strikeBtn","matTooltip","StrikeThrough",1,"button",3,"ngClass","click"],["matTooltip","Open Emoji",1,"emoji-button",3,"click"],["emojiBlock",""],[1,"text-limit"],["id","emoji-component","set","twitter",3,"ngClass","enableSearch","emojiTooltip","showPreview","sheetSize","emojiSize","darkMode","perLine","totalFrequentLines","emojiSelect",4,"ngIf"],[3,"childToParent"],[1,"placeHolder",3,"click"],["placeholder",""],["matTooltip","Variable Pop-Up.Used to select  userdefined and system variable",1,"icon",3,"click"],["id","emoji-component","set","twitter",3,"ngClass","enableSearch","emojiTooltip","showPreview","sheetSize","emojiSize","darkMode","perLine","totalFrequentLines","emojiSelect"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1,2),e.NdJ("keydown",function(o){return i.addText(o)})("keyup",function(){return i.keyUp()})("click",function(){return i.clicked()})("paste",function(o){return i.contentCheckOnPaste(o)}),e.qZA(),e.YNc(3,Ve,3,1,"span",3),e.qZA(),e.TgZ(4,"div",4,5),e.YNc(6,We,2,1,"div",6),e.TgZ(7,"button",7),e.NdJ("click",function(o){return i.toggleKeyboard(i.classOverride),o.preventDefault()}),e._UZ(8,"i",8),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(o){return i.selectFunction("bold",!1,null),i.boldFlag=!i.boldFlag,o.preventDefault()}),e.TgZ(10,"b"),e._uU(11,"B"),e.qZA()(),e.TgZ(12,"button",10),e.NdJ("click",function(o){return i.selectFunction("italic",!1,null),i.italicFlag=!i.italicFlag,o.preventDefault()}),e.TgZ(13,"i"),e._uU(14,"I"),e.qZA()(),e.TgZ(15,"button",11),e.NdJ("click",function(o){return i.selectFunction("strikeThrough",!1,null),i.strikeFlag=!i.strikeFlag,o.preventDefault()}),e.TgZ(16,"s"),e._uU(17,"S"),e.qZA()(),e.TgZ(18,"div",12,13),e.NdJ("click",function(){return i.toggleEmojiPicker()}),e._uU(20," \u{1f600}"),e.qZA(),e.TgZ(21,"span",14),e._uU(22),e.qZA(),e.YNc(23,Qe,1,9,"emoji-mart",15),e.TgZ(24,"app-variable-pop",16),e.NdJ("childToParent",function(o){return i.childToParent(o)}),e.qZA()()),2&t&&(e.xp6(1),e.s9C("id",i.classOverride),e.Q6J("ngClass",1==i.maxHeightFlag?"chatTextArea Maxheight":"textarea")("ngStyle",e.VKq(13,Ye,i.minHeight))("innerHTML",i.model,e.oJD),e.xp6(2),e.Q6J("ngIf",0==i.lengthShow&&0==i.tempVar.length),e.xp6(1),e.Q6J("ngClass",1==i.arrangeButtonDiv?"buttonChatDiv":"button-div"),e.xp6(2),e.Q6J("ngIf",i.showVariable),e.xp6(3),e.Q6J("ngClass",e.VKq(15,Le,!0===i.boldFlag)),e.xp6(3),e.Q6J("ngClass",e.VKq(17,Le,!0===i.italicFlag)),e.xp6(3),e.Q6J("ngClass",e.VKq(19,Le,!0===i.strikeFlag)),e.xp6(7),e.AsE("",i.lengthShow,"/",i.maxLen,""),e.xp6(1),e.Q6J("ngIf",i.showEmojiPicker))},directives:[x.mk,x.PC,x.O5,De.gM,ke.qP,je],styles:[".icon[_ngcontent-%COMP%]{position:absolute;margin-left:-22px;background-color:#e7e7e7;color:#000;border:none;text-align:center;text-decoration:none;display:inline-block;font-size:8px;padding:.5px 0 0;min-width:19px;max-height:19px;cursor:pointer;border-radius:8px;z-index:49;font-weight:700}.displayNone[_ngcontent-%COMP%]{display:none!important}.textarea[_ngcontent-%COMP%]{background-color:#ececec36;position:relative;border:1px solid #719ECE;border-radius:10px;overflow:auto;padding:2px 4px 26px;resize:vertical;width:100%;color:#000;font-size:12px}.textarea[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:0 0 10px #719ece}.placeHolder[_ngcontent-%COMP%]{position:absolute;font-size:10px;left:15px;padding:5px}.emoji-button[_ngcontent-%COMP%]{position:relative;top:-19px;left:87px;font-size:16px;width:19px;cursor:pointer;z-index:50}.button[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#000;border:none;text-align:center;text-decoration:none;display:inline-block;font-size:10px;padding:0;margin:0;min-width:19px;max-height:19px;cursor:pointer;border-radius:8px;z-index:99}.text-limit[_ngcontent-%COMP%]{position:relative;right:-111px;top:-42px;font-size:8px}.button-active[_ngcontent-%COMP%]{background-color:#f8f80365}.button-div[_ngcontent-%COMP%]{position:absolute;margin-top:-27px;margin-left:40px;height:26px}.buttonChatDiv[_ngcontent-%COMP%]{position:absolute;margin-top:-5px;margin-left:25px;height:26px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgb(196,196,196)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgb(158,158,158)}.list[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:100%}.list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{align-self:center}.formcontrol[_ngcontent-%COMP%]{display:block;width:100%;height:23px;padding:.375rem .75rem;font-size:12px;font-weight:400;line-height:1.5;color:#5c6873;background-color:#fff;background-clip:padding-box;border:1px solid #e4e7ea;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.languageWindow[_ngcontent-%COMP%]{padding:6px;border-radius:5px;width:145px;height:140px;background-color:#fff;overflow-y:auto;scrollbar-width:1px;position:absolute;margin-left:347px;border:1px #00a3ad solid}.list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#4b4a4a;background-color:#fff;padding:0;border-bottom:solid 1px rgba(196,192,192,.212);border-width:0px 0em 1px 0;flex:1;cursor:pointer;position:relative;left:0;margin:1px;height:1.6em;display:flex;align-items:stretch;height:1.8em}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#2c3a41;background-color:#e4e0e02c;left:.1em}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#9797971a;color:#050505}.list[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#9797971a;color:#0e0d0d}.chatEmoji[_ngcontent-%COMP%]{width:220px;position:relative;top:-10;right:40px;z-index:100}.textAreaEmjoi[_ngcontent-%COMP%]{width:220px;position:relative;top:-37px;right:50px;z-index:100}.Maxheight[_ngcontent-%COMP%]{resize:none;max-height:74px}.chatTextArea[_ngcontent-%COMP%]{background-color:#ececec36;position:relative;border:1px solid #719ECE;overflow:auto;padding:2px 45px 26px 4px;resize:vertical;width:100%;color:#000;font-size:12px;border-bottom:none!important;border-radius:10px 10px 0 0/10px 10px 0px 0px}.chatTextArea[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:0 0 #719ece}"]}),n})();const qe=["menu"];function Xe(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div",21),e._uU(2," File Name "),e.qZA(),e.TgZ(3,"input",22),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().upload.fileName=s}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.upload.fileName)}}function Ge(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"input",23),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().upload.caption=s}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.upload.caption)}}let et=(()=>{class n{constructor(t,i,s,o){this.toastr=t,this.renderer=i,this.service=s,this.flowService=o,this.dataTransfer=new e.vpe,this.data={customer_num:""},this.upload={file:"",caption:"",fileName:""},this.fileName="",this.url="",this.desableFlag=!1,this.sizeFailed=!0}ngOnInit(){this.service.fileHandler.subscribe(t=>{this.data=t,document.getElementById("file").style.display="block"}),this.mulSelectFieldToggle=1,this.contentType="image",this.upload.caption="",this.upload.file="",this.upload.fileName="",this.fileName=""}getFileMedia(t){var i=t.target.files;if(i&&i[0]){if(1==this.mulSelectFieldToggle)this.contentType="image",t.target.files[0].size>5e6?(this.sizeFailed=!0,this.popUpToasterAndClearField("Maximum allowed Size 5MB")):"png"==(o=(s=t.target.files[0].name.split("."))[s.length-1]).toLowerCase()||"jpg"==o.toLowerCase()||"jpeg"==o.toLowerCase()?this.sizeFailed=!1:this.popUpToasterAndClearField("Only Support .png .jpg .jpeg extensions");else if(2==this.mulSelectFieldToggle)this.contentType="audio",t.target.files[0].size>16e6?(this.sizeFailed=!0,this.popUpToasterAndClearField("Maximum allowed Size 16MB")):"aac"==(o=(s=t.target.files[0].name.split("."))[s.length-1]).toLowerCase()||"mp3"==o.toLowerCase()||"mp4"==o.toLowerCase()||"opus"==o.toLowerCase()||"amr"==o.toLowerCase()?this.sizeFailed=!1:this.popUpToasterAndClearField("Only Support .aac .mp3 .mp4 .opus extensions");else if(3==this.mulSelectFieldToggle)this.contentType="video",t.target.files[0].size>16e6?(this.sizeFailed=!0,this.popUpToasterAndClearField("Maximum allowed Size 16MB")):"3gp"==(o=(s=t.target.files[0].name.split("."))[s.length-1]).toLowerCase()||"mp4"==o.toLowerCase()?this.sizeFailed=!1:this.popUpToasterAndClearField("Only Support .3gp .mp4 extensions");else if(4==this.mulSelectFieldToggle)this.contentType="doc",t.target.files[0].size>1e8?(this.sizeFailed=!0,this.popUpToasterAndClearField("Maximum allowed Size 100MB")):(this.fileName=t.target.files[0].name,this.sizeFailed=!1);else if(7==this.mulSelectFieldToggle)if(this.contentType="image",t.target.files[0].size>1e5)this.sizeFailed=!0,this.popUpToasterAndClearField("Maximum allowed Size 100KB");else{var s,o;if("webp"==(o=(s=t.target.files[0].name.split("."))[s.length-1]).toLowerCase()){const y=new FileReader;y.readAsDataURL(t.target.files[0]),y.onload=I=>{const R=new Image;R.src=I.target.result,R.onload=W=>{512==W.target.height&&512==W.target.width?this.sizeFailed=!1:this.popUpToasterAndClearField("Dimension must be 512 X 512")}}}else this.popUpToasterAndClearField("Only Support .webp extensions")}setTimeout(()=>{if(0==this.sizeFailed){var d=new FileReader;d.readAsArrayBuffer(i[0]),d.onload=w=>new Promise((y,I)=>{this.flowService.uploadChatMedia({file:i[0],acc_id:this.data.acc_id,flow_id:this.data.flow_id}).subscribe(R=>{y(JSON.parse(JSON.stringify(R)).url)},R=>{this.toastr.warning("Some Error Occured","Warning")})}).then(y=>{this.url=y,this.desableFlag=!0})}})}}multimediaSelect(t){this.mulSelectFieldToggle=t.target.value,this.upload.caption="",this.upload.file="",this.upload.fileName="",this.fileName=""}popUpToasterAndClearField(t){this.toastr.warning(t,"Warning"),this.upload.file="",this.upload.caption="",this.desableFlag=!1,this.url="",this.contentType="",this.fileName=""}preventPaste(t){t.preventDefault()}sendFile(){4==this.mulSelectFieldToggle&&""==this.upload.fileName&&(this.upload.fileName=this.fileName);let t={msg_type:"msg_out",msg_for:this.contentType,msg_data:this.url,node_type:"message",msg_caption:this.upload.caption,optionArray:[],header:"",footer:""};var i={service_id:this.data.service_id,acc_id:this.data.acc_id,flow_id:this.data.flow_id,comm_id:this.data.communication_id,trans_in_id:this.data.transation_id,data:{mediaurl:this.url,caption:this.upload.caption,Fileame:this.upload.fileName},business_num:this.data.business_num,content_type:this.mulSelectFieldToggle,cus_num:this.data.customer_num};console.log(i,"Data"),this.dataToTransmit={messageData:t,dbData:i,data:this.data},this.dataTransfer.emit(this.dataToTransmit),this.close()}close(){const t=document.getElementById("file");this.upload.file="",this.upload.caption="",this.upload.fileName="",t.style.display="none",this.url="",this.contentType="",this.desableFlag=!1,this.fileName="",this.mulSelectFieldToggle=1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($._W),e.Y36(e.Qsj),e.Y36(j),e.Y36(A.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["file-handler-chat"]],viewQuery:function(t,i){if(1&t&&e.Gf(qe,5),2&t){let s;e.iGM(s=e.CRH())&&(i.menu=s.first)}},inputs:{style:"style",fileHandlerId:"fileHandlerId"},outputs:{dataTransfer:"dataTransfer"},decls:30,vars:8,consts:[["id","file","tabindex","-1","role","dialog",1,"modal-new"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","font-weight-bold"],[1,"cursorPointer",3,"click"],[1,"modal-body"],["uploadForm","ngForm"],[1,"d-flex"],["name","multimediaFieldValue",1,"form-control","w-50","inputFull",3,"ngModel","required","change","ngModelChange"],["multimediaFieldValue","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["value","7"],["type","file","name","fileHandler",1,"ml-4","form-control","inputFull","file",3,"required","ngModel","ngModelChange","change"],["class","d-flex mt-2",4,"ngIf"],["type","text","class","mt-2 form-control inputFull","placeholder","caption","name","caption","maxlength","1024",3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn","btnSend","ml-auto","mr-auto","cursorPointer",3,"disabled","click"],[1,"d-flex","mt-2"],[1,"mt-1"],["type","text","placeholder","File Name","name","caption",1,"ml-auto","form-control","inputFull","w-75",3,"ngModel","ngModelChange"],["type","text","placeholder","caption","name","caption","maxlength","1024",1,"mt-2","form-control","inputFull",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5),e.NdJ("click",function(){return i.close()}),e._uU(7,"close"),e.qZA()(),e.TgZ(8,"div",6)(9,"form",null,7)(11,"div",8)(12,"select",9,10),e.NdJ("change",function(o){return i.multimediaSelect(o)})("ngModelChange",function(o){return i.mulSelectFieldToggle=o}),e.TgZ(14,"option",11),e._uU(15,"Image"),e.qZA(),e.TgZ(16,"option",12),e._uU(17,"Audio"),e.qZA(),e.TgZ(18,"option",13),e._uU(19,"Video"),e.qZA(),e.TgZ(20,"option",14),e._uU(21,"Document"),e.qZA(),e.TgZ(22,"option",15),e._uU(23,"Sticker"),e.qZA()(),e.TgZ(24,"input",16),e.NdJ("ngModelChange",function(o){return i.upload.file=o})("change",function(o){return i.getFileMedia(o)}),e.qZA()(),e.YNc(25,Xe,4,1,"div",17),e.YNc(26,Ge,1,1,"input",18),e.TgZ(27,"div",8)(28,"button",19),e.NdJ("click",function(){return i.sendFile()}),e._uU(29,"Send File"),e.qZA()()()()()()()),2&t&&(e.xp6(5),e.hij("Add FIle - for ",i.data.customer_num,""),e.xp6(7),e.Q6J("ngModel",i.mulSelectFieldToggle)("required",!1),e.xp6(12),e.Q6J("required",!0)("ngModel",i.upload.file),e.xp6(1),e.Q6J("ngIf",4==i.mulSelectFieldToggle),e.xp6(1),e.Q6J("ngIf",2!=i.mulSelectFieldToggle&&7!=i.mulSelectFieldToggle),e.xp6(2),e.Q6J("disabled",0==i.desableFlag))},directives:[c._Y,c.JL,c.F,c.EJ,c.JJ,c.On,c.Q7,c.YN,c.Kr,c.Fj,x.O5,c.nD],styles:["div[_ngcontent-%COMP%]{font-family:Poppins!important}.modal-open[_ngcontent-%COMP%]{overflow:hidden}.cursor-pointer[_ngcontent-%COMP%]:hover{cursor:pointer}.cursor-default[_ngcontent-%COMP%]:hover{cursor:context-menu}.modal-open[_ngcontent-%COMP%]   .modal-new[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.mod-hed[_ngcontent-%COMP%]{display:flex;margin:0 15px}.modal-new[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;overflow:hidden;outline:0;background-color:#000000ad}.modal-new-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000000ad}.modal-dialog[_ngcontent-%COMP%]{max-width:600px}.modal-header[_ngcontent-%COMP%]{height:45px!important}.file[_ngcontent-%COMP%]{padding:2px 5px!important}.btnSend[_ngcontent-%COMP%]{border-radius:8px!important;width:95px!important;margin-top:12px;margin-bottom:-25px;background:#20a8d8;color:#fff;height:35px}.cursorPointer[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();function tt(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"i",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().minWindow()}),e.qZA()}}function it(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"i",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().minWindow()}),e.qZA()}}function nt(n,p){if(1&n&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("A-C Ratio 1:",t.maxSession,"")}}function st(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).enableChat("enable")}),e._uU(1,"Enable Chat"),e.qZA()}}function ot(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).enableChat("disable")}),e._uU(1,"Disable Chat"),e.qZA()}}function at(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).agentBreak("break")}),e._uU(1,"Break"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled","false"==t.chatStatus||null==t.chatStatus)}}function rt(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).agentBreak("resume")}),e._uU(1,"Resume"),e.qZA()}}function lt(n,p){if(1&n&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,st,2,0,"button",21),e.YNc(3,ot,2,0,"button",22),e.qZA(),e.TgZ(4,"div",20),e.YNc(5,at,2,1,"button",23),e.YNc(6,rt,2,0,"button",24),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","false"==t.chatStatus||null==t.chatStatus),e.xp6(1),e.Q6J("ngIf","true"==t.chatStatus),e.xp6(2),e.Q6J("ngIf",null==t.onBreak||"0"==t.onBreak),e.xp6(1),e.Q6J("ngIf","1"==t.onBreak)}}function ct(n,p){if(1&n&&(e.TgZ(0,"div",36),e._UZ(1,"i",37),e.TgZ(2,"span",38),e._uU(3),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.notification)}}const dt=function(n){return{userInfoWhite:n}};function pt(n,p){if(1&n&&(e.TgZ(0,"div",32)(1,"h4",33),e._uU(2),e.qZA(),e.TgZ(3,"p",34),e._uU(4),e.qZA(),e.YNc(5,ct,4,1,"div",35),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(4,dt,1==i.minimizeWindow)),e.xp6(2),e.Oqu(t.customer_num),e.xp6(2),e.Oqu(t.message),e.xp6(1),e.Q6J("ngIf",t.notification>0)}}function ht(n,p){1&n&&(e.TgZ(0,"button",39),e._UZ(1,"i",40),e.qZA())}const gt=function(n){return{liveBox:n}};function ut(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",29),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().openChat(o)}),e.YNc(1,pt,6,6,"div",30),e.YNc(2,ht,2,0,"button",31),e.qZA()}if(2&n){const t=p.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(3,gt,1==i.minimizeWindow)),e.xp6(1),e.Q6J("ngIf",i.userId!=t.customer_num),e.xp6(1),e.Q6J("ngIf",i.userId!=t.customer_num)}}function mt(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",62),e._uU(2,"Are you sure you want to end this chat?"),e.qZA(),e.TgZ(3,"div",63)(4,"button",64),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),o=s.index,d=s.$implicit;return e.oxw().endSessionNow(o,d)}),e._uU(5,"Yes"),e.qZA(),e.TgZ(6,"button",65),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index;return e.oxw().endSession(s)}),e._uU(7,"No"),e.qZA()()()}}function ft(n,p){if(1&n&&(e.TgZ(0,"div",19)(1,"div",69),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.msg_data)}}function vt(n,p){if(1&n&&e._UZ(0,"div",70),2&n){const t=e.oxw().$implicit;e.Q6J("innerHTML",t.msg_data,e.oJD)}}function _t(n,p){if(1&n&&e._UZ(0,"div",71),2&n){const t=e.oxw().$implicit;e.Q6J("innerHTML",t.msg_data,e.oJD)}}function xt(n,p){if(1&n&&e._UZ(0,"div",75),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngClass",1==t.response_by?"chatIcon bi bi-robot":"chatIcon bi bi-person")}}function bt(n,p){if(1&n&&e._UZ(0,"div",76),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.msg_data,e.oJD)}}function yt(n,p){if(1&n&&e._UZ(0,"div",80),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.msg_caption,e.oJD)}}function Ct(n,p){if(1&n&&(e.TgZ(0,"div",77),e._UZ(1,"img",78),e.YNc(2,yt,1,1,"div",79),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",t.msg_data,e.LSH),e.xp6(1),e.Q6J("ngIf",null!=t.msg_caption&&""!=t.msg_caption)}}function wt(n,p){if(1&n&&e._UZ(0,"div",80),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.msg_caption,e.oJD)}}function Mt(n,p){if(1&n&&(e.TgZ(0,"div",77)(1,"audio",81),e._UZ(2,"source",82),e.qZA(),e.YNc(3,wt,1,1,"div",79),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("src",t.msg_data,e.LSH),e.xp6(1),e.Q6J("ngIf",null!=t.msg_caption&&""!=t.msg_caption)}}function Tt(n,p){if(1&n&&e._UZ(0,"div",80),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.msg_caption,e.oJD)}}function St(n,p){if(1&n&&(e.TgZ(0,"div",77)(1,"video",83),e._UZ(2,"source",82),e.qZA(),e.YNc(3,Tt,1,1,"div",79),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("src",t.msg_data,e.LSH),e.xp6(1),e.Q6J("ngIf",null!=t.msg_caption&&""!=t.msg_caption)}}function Ot(n,p){if(1&n&&e._UZ(0,"div",80),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.msg_caption,e.oJD)}}function It(n,p){if(1&n&&(e.TgZ(0,"div",77),e._UZ(1,"object",84),e.TgZ(2,"div",85)(3,"a",86),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Document Please Download it from Above Link"),e.qZA()(),e.YNc(7,Ot,1,1,"div",79),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("data",t.msg_data,e.uOi)("title",t.name),e.xp6(2),e.Q6J("href",t.msg_data,e.LSH),e.xp6(1),e.Oqu(t.msg_data),e.xp6(3),e.Q6J("ngIf",null!=t.msg_caption&&""!=t.msg_caption)}}function Pt(n,p){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,xt,1,1,"div",72),e.YNc(2,bt,1,1,"div",73),e.YNc(3,Ct,3,2,"div",74),e.YNc(4,Mt,4,2,"div",74),e.YNc(5,St,4,2,"div",74),e.YNc(6,It,8,5,"div",74),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"msg"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"image"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"audio"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"video"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"doc"==t.msg_for)}}function Dt(n,p){if(1&n&&e._UZ(0,"div",75),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngClass",1==t.response_by?"chatIcon bi bi-robot":"chatIcon bi bi-person")}}function Lt(n,p){if(1&n&&e._UZ(0,"div",92),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.header,e.oJD)}}function Et(n,p){if(1&n&&e._UZ(0,"div",93),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.msg_data,e.oJD)}}function At(n,p){if(1&n&&e._UZ(0,"div",94),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.footer,e.oJD)}}function kt(n,p){if(1&n&&(e.TgZ(0,"div",99),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.description," ")}}function Nt(n,p){if(1&n&&(e.TgZ(0,"div")(1,"div",19)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div",96),e._UZ(5,"i",97),e.qZA()(),e.YNc(6,kt,2,1,"div",98),e.qZA()),2&n){const t=p.$implicit;e.xp6(3),e.Oqu(t.optionName),e.xp6(3),e.Q6J("ngIf",""!=t.description&&null!=t.description)}}function Ut(n,p){if(1&n&&(e.TgZ(0,"div")(1,"div",95),e._uU(2),e.qZA(),e.YNc(3,Nt,7,2,"div",91),e.qZA()),2&n){const t=p.$implicit,i=p.index,s=e.oxw(2).$implicit;e.xp6(2),e.Oqu(s.sectionNameList[i]),e.xp6(1),e.Q6J("ngForOf",t.sectionOptions)}}function Bt(n,p){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Dt,1,1,"div",72),e.YNc(2,Lt,1,1,"div",87),e.YNc(3,Et,1,1,"div",88),e.YNc(4,At,1,1,"div",89),e.TgZ(5,"div",90),e.YNc(6,Ut,4,2,"div",91),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"msg"==t.msg_for&&""!=t.header&&null!=t.header),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"msg"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&null!=t.footer&&""!=t.footer),e.xp6(2),e.Q6J("ngForOf",t.optionArray)}}function Ft(n,p){if(1&n&&e._UZ(0,"div",75),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngClass",1==t.response_by?"chatIcon bi bi-robot":"chatIcon bi bi-person")}}function Zt(n,p){if(1&n&&e._UZ(0,"div",92),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.header,e.oJD)}}function Jt(n,p){if(1&n&&e._UZ(0,"div",103),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.msg_data,e.oJD)}}function Ht(n,p){if(1&n&&e._UZ(0,"div",80),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.msg_caption,e.oJD)}}function jt(n,p){if(1&n&&(e.TgZ(0,"div",77),e._UZ(1,"img",78),e.YNc(2,Ht,1,1,"div",79),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",t.msg_data,e.LSH),e.xp6(1),e.Q6J("ngIf",null!=t.msg_caption&&""!=t.msg_caption)}}function Rt(n,p){if(1&n&&e._UZ(0,"div",80),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.msg_caption,e.oJD)}}function $t(n,p){if(1&n&&(e.TgZ(0,"div",77)(1,"audio",81),e._UZ(2,"source",82),e.qZA(),e.YNc(3,Rt,1,1,"div",79),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("src",t.msg_data,e.LSH),e.xp6(1),e.Q6J("ngIf",null!=t.msg_caption&&""!=t.msg_caption)}}function zt(n,p){if(1&n&&e._UZ(0,"div",80),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.msg_caption,e.oJD)}}function Vt(n,p){if(1&n&&(e.TgZ(0,"div",77)(1,"video",83),e._UZ(2,"source",82),e.qZA(),e.YNc(3,zt,1,1,"div",79),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("src",t.msg_data,e.LSH),e.xp6(1),e.Q6J("ngIf",null!=t.msg_caption&&""!=t.msg_caption)}}function Wt(n,p){if(1&n&&e._UZ(0,"div",80),2&n){const t=e.oxw(3).$implicit;e.Q6J("innerHTML",t.msg_caption,e.oJD)}}function Qt(n,p){if(1&n&&(e.TgZ(0,"div",77),e._UZ(1,"object",84),e.TgZ(2,"div",85)(3,"a",86),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Document Please Download it from Above Link"),e.qZA()(),e.YNc(7,Wt,1,1,"div",79),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("data",t.msg_data,e.uOi)("title",t.name),e.xp6(2),e.Q6J("href",t.msg_data,e.LSH),e.xp6(1),e.Oqu(t.msg_data),e.xp6(3),e.Q6J("ngIf",null!=t.msg_caption&&""!=t.msg_caption)}}function Yt(n,p){if(1&n&&e._UZ(0,"div",104),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.footer,e.oJD)}}function Kt(n,p){if(1&n&&(e.TgZ(0,"div",105)(1,"div",106),e._uU(2),e.qZA()()),2&n){const t=p.$implicit;e.xp6(2),e.Oqu(t.optionName)}}function qt(n,p){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ft,1,1,"div",72),e.YNc(2,Zt,1,1,"div",87),e.YNc(3,Jt,1,1,"div",100),e.YNc(4,jt,3,2,"div",74),e.YNc(5,$t,4,2,"div",74),e.YNc(6,Vt,4,2,"div",74),e.YNc(7,Qt,8,5,"div",74),e.YNc(8,Yt,1,1,"div",101),e.YNc(9,Kt,3,1,"div",102),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"msg"==t.msg_for&&""!=t.header&&null!=t.header),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"msg"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"image"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"audio"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"video"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&"doc"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_out"==t.msg_type&&null!=t.footer&&""!=t.footer),e.xp6(1),e.Q6J("ngForOf",t.optionArray)}}function Xt(n,p){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ft,3,1,"div",5),e.YNc(2,vt,1,1,"div",66),e.YNc(3,_t,1,1,"div",67),e.YNc(4,Pt,7,6,"div",68),e.YNc(5,Bt,7,5,"div",68),e.YNc(6,qt,10,9,"div",68),e.qZA()),2&n){const t=p.$implicit;e.xp6(1),e.Q6J("ngIf","msg_date"==t.msg_type),e.xp6(1),e.Q6J("ngIf","msg_in"==t.msg_type&&"msg"==t.msg_for),e.xp6(1),e.Q6J("ngIf","msg_in"==t.msg_type&&"doc"==t.msg_for),e.xp6(1),e.Q6J("ngIf","message"==t.node_type),e.xp6(1),e.Q6J("ngIf","list"==t.node_type),e.xp6(1),e.Q6J("ngIf","button"==t.node_type)}}function Gt(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",114)(2,"div",115),e._uU(3),e.qZA(),e._UZ(4,"div",116),e.qZA(),e.TgZ(5,"div",117)(6,"button",118),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2),w=d.index,y=d.$implicit;return e.oxw().sendQuick(o.content,w,y)}),e._UZ(7,"i",59),e.qZA()()()}if(2&n){const t=p.$implicit,i=e.oxw(3);e.xp6(3),e.Oqu(t.reply_name),e.xp6(1),e.Q6J("innerHTML",i.replaceFunciton(t.content),e.oJD)}}function ei(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",107)(1,"div",108)(2,"div",109),e._uU(3,"Quick Reply"),e.qZA(),e.TgZ(4,"div",110)(5,"i",111),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index;return e.oxw().closeQuick(s)}),e.qZA()()(),e.TgZ(6,"div",112),e.YNc(7,Gt,8,2,"div",113),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",t.quickReply)}}function ti(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",114)(2,"div",115),e._uU(3),e.qZA(),e._UZ(4,"div",116),e.qZA(),e.TgZ(5,"div",117)(6,"button",118),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2),w=d.index,y=d.$implicit;return e.oxw().sendSessionEnd(o.content,w,y)}),e._UZ(7,"i",59),e.qZA()()()}if(2&n){const t=p.$implicit,i=e.oxw(3);e.xp6(3),e.Oqu(t.reply_name),e.xp6(1),e.Q6J("innerHTML",i.replaceFunciton(t.content),e.oJD)}}function ii(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",107)(1,"div",108)(2,"div",109),e._uU(3,"Session End Reply"),e.qZA(),e.TgZ(4,"div",110)(5,"i",111),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),o=s.$implicit,d=s.index;return e.oxw().closeSessionEnd(o,d)}),e.qZA()()(),e.TgZ(6,"div",112),e.YNc(7,ti,8,2,"div",113),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(7),e.Q6J("ngForOf",t.sessionEndReply)}}function ni(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42)(2,"div",43)(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"div",44),e._uU(6),e.qZA(),e.TgZ(7,"div",45),e._uU(8),e.qZA()(),e.TgZ(9,"div",46)(10,"div",47),e.NdJ("click",function(){const o=e.CHM(t).index;return e.oxw().closeChat(o)}),e._UZ(11,"i",48),e.qZA(),e.TgZ(12,"div",49),e.NdJ("click",function(){const o=e.CHM(t).index;return e.oxw().endSession(o)}),e._UZ(13,"i",50),e.qZA()()(),e.YNc(14,mt,8,0,"div",51),e.TgZ(15,"div",52),e.YNc(16,Xt,7,6,"div",53),e.qZA(),e.TgZ(17,"div",54)(18,"custom-textarea",55),e.NdJ("messageData",function(s){const d=e.CHM(t).$implicit;return e.oxw().getMessage(s,d)}),e.qZA(),e.TgZ(19,"i",56),e.NdJ("click",function(){const s=e.CHM(t),o=s.$implicit,d=s.index;return e.oxw().fileHanler(o,d)}),e.qZA(),e.TgZ(20,"button",57),e.NdJ("click",function(){const o=e.CHM(t).index;return e.oxw().showQuick(o)}),e._uU(21,"Quick Reply"),e.qZA(),e.TgZ(22,"button",58),e.NdJ("click",function(){const s=e.CHM(t),o=s.index,d=s.$implicit;return e.oxw().replyMsg(o,d)}),e._UZ(23,"i",59),e.qZA()(),e.YNc(24,ei,8,1,"div",60),e.YNc(25,ii,8,1,"div",60),e.qZA()}if(2&n){const t=p.$implicit,i=e.oxw();e.ekj("height20",i.file),e.xp6(4),e.hij("Chat With ",t.customer_num,""),e.xp6(2),e.hij("Flow - ",t.flow_name,""),e.xp6(2),e.hij("Department - ",t.object_name,""),e.xp6(6),e.Q6J("ngIf",t.sessionCLose),e.xp6(1),e.Q6J("id","msgBody"+t.chat_id),e.xp6(1),e.Q6J("ngxtForOf",t.messages)("ngxtForItemsAtOnce",500)("ngxtForIntervalLength",20),e.xp6(1),e.ekj("heightInc",i.file),e.xp6(1),e.s9C("classOverride",t.chat_id),e.Q6J("model",t.reply)("emojiFlag",!0)("maxHeightFlag",!0)("arrangeButtonDiv",!0),e.xp6(4),e.Q6J("disabled",0==i.replays[t.chat_id].trim().length),e.xp6(2),e.Q6J("ngIf",1==t.quickBox),e.xp6(1),e.Q6J("ngIf",1==t.sessionEncBox)}}function si(n,p){1&n&&(e.TgZ(0,"small",127),e._uU(1,"just now"),e.qZA())}function oi(n,p){if(1&n&&(e.TgZ(0,"small",127),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.time," seconds ago")}}function ai(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",119)(1,"div",120),e._UZ(2,"i",121),e.TgZ(3,"strong",122),e._uU(4,"Warning"),e.qZA(),e.YNc(5,si,2,0,"small",123),e.YNc(6,oi,2,1,"small",123),e.TgZ(7,"button",124),e.NdJ("click",function(){const o=e.CHM(t).index;return e.oxw().removeNotification(o)}),e.TgZ(8,"span",125),e._uU(9,"\xd7"),e.qZA()()(),e.TgZ(10,"div",126),e._uU(11),e.qZA()()}if(2&n){const t=p.$implicit;e.xp6(5),e.Q6J("ngIf",0==t.time),e.xp6(1),e.Q6J("ngIf",t.time>0),e.xp6(5),e.hij(" ",t.notification," ")}}const ri=function(n){return{msgDivMin:n}};let li=(()=>{class n{constructor(t,i,s,o,d,w){this.manageservice=t,this.signInService=i,this.toastr=s,this.chatBotService=o,this.detecterRef=d,this.propertyService=w,this.users=[],this.btnClick=!1,this.messages=[],this.showEmojiPicker=!1,this.caretPos=0,this.sessionCLose=!1,this.minimizeWindow=!1,this.tempModel="chat",this.modelToPass="",this.quickReply=[],this.quickBox=!1,this.time="00:00:00",this.chatWindows=[],this.onBreak="0",this.chatStatus="false",this.userArrayIndexMap={},this.mainWindow=[],this.windowIndexMap={},this.chatObjectwithId={},this.replays={},this.dateArray=[],this.sortedDateArray=[],this.chatOpenFlag={},this.sessionEndReplys={},this.notificationCount={},this.notifications=[],this.flag=0,this.chatBotService.getQuickReplyWhenCreate.subscribe(y=>{this.fetchAgentReply()})}ngOnInit(){var t=this.signInService.decryptData(sessionStorage.getItem("agentStatus"));this.onBreak=this.signInService.decryptData(sessionStorage.getItem("onBreak")),this.chatStatus=this.signInService.decryptData(sessionStorage.getItem("chatEnableFlag")),this.maxSession=this.signInService.decryptData(sessionStorage.getItem("maxSession")),console.log(t,"status"),console.log(this.onBreak,"braek"),console.log(this.chatStatus,"chatStatus"),console.log(this.maxSession,"maxSession"),(null==this.chatStatus||"false"==this.chatStatus)&&("0"==t?(this.chatStatus="false",sessionStorage.setItem("chatEnableFlag",this.signInService.encryptData("false")),sessionStorage.setItem("onBreak",this.signInService.encryptData("0")),this.onBreak="0",this.getMessageListInterval&&clearInterval(this.getMessageListInterval)):"1"==t?(this.chatStatus="true",this.onBreak="0",sessionStorage.setItem("chatEnableFlag",this.signInService.encryptData("true")),sessionStorage.setItem("onBreak",this.signInService.encryptData("0")),this.getMessageListInterval=setInterval(()=>{this.fetchUserData()},2e3)):(this.chatStatus="true",this.onBreak="1",sessionStorage.setItem("chatEnableFlag",this.signInService.encryptData("true")),sessionStorage.setItem("onBreak",this.signInService.encryptData("1")))),"true"==this.chatStatus&&(this.getMessageListInterval=setInterval(()=>{this.fetchUserData()},2e3)),"1"==this.onBreak&&(this.getMessageListInterval&&clearInterval(this.getMessageListInterval),this.checkOnBreak());var i=this.manageservice.SelectedAccount;i&&(this.accountID=i.Value,this.fetchAgentReply(),this.fetchSessionEndReply()),this.manageservice.accountChanged.subscribe(s=>{s&&(this.accountID=s.Value,this.fetchAgentReply(),this.fetchSessionEndReply())}),this.healthUpdate=setInterval(()=>{},1e4),this.isLoggedIn=setInterval(()=>{},3e3),this.getSessionStorageDataToVariables()}ngAfterContentChecked(){this.detecterRef.detectChanges()}fetchUserData(){var t={acc_id:this.accountID,user_id:this.signInService.decryptData(sessionStorage.getItem("UserID"))};this.chatBotService.getUserData(t).subscribe(i=>{if(null!=i&&i.length>0){i.sort(this.idComparisson);var s=this.chatObjectwithId;i.map(o=>{if(this.notificationCount[o.chat_id]=this.notificationCount.hasOwnProperty(o.chat_id)?this.notificationCount[o.chat_id]+1:1,s.hasOwnProperty(o.chat_id)){var d={};if("TEXT"==o.message.Type.toUpperCase()||"INTERACTIVE"==o.message.Type.toUpperCase())d={msg_type:"msg_in",msg_for:"msg",node_type:"message",msg_data:this.replaceFunciton(o.message.Text),optionArray:[],msg_caption:"",header:"",footer:""};else if("LOCATION"==o.message.Type.toUpperCase())d={msg_type:"msg_in",msg_for:"msg",node_type:"message",msg_data:`<a href="https://maps.google.com/?q=${o.message.Location.latitude},${o.message.Location.longitude}" target="_blank">Open Map</a>`,optionArray:[],msg_caption:"",header:"",footer:""};else if("CONTACTS"==o.message.Type.toUpperCase()){var w='<div class="contactAgentChat">',y="";o.message.Contacts.map((R,W)=>{let Q="";Q=o.message.Contacts[W].phones.length>0?`<div class="row pb-1">\n                <div class="col">Phone</div>\n                <div class="col-7">${o.message.Contacts[W].phones[0].phone}</div>\n              </div>`:'<div class="row pb-1">\n                <div class="col">Phone</div>\n                <div class="col-7">    </div>\n              </div>',y+=`<div class="row justify-content-md-center">\n              <div class="ml-n2">Contact - ${W+1}</div>\n              </div>\n              <div class="row">\n                <div class="col">Name</div>\n                <div class="col-8">${o.message.Contacts[W].name.formatted_name} </div>\n              </div>\n              ${Q}\n      `}),d={msg_type:"msg_in",msg_for:"msg",node_type:"message",msg_data:w=w+y+"</div>",optionArray:[],msg_caption:"",header:"",footer:""}}else if("IMAGE"==o.message.Type.toUpperCase()||"VIDEO"==o.message.Type.toUpperCase()||"AUDIO"==o.message.Type.toUpperCase()||"DOCUMENT"==o.message.Type.toUpperCase()||"STICKER"==o.message.Type.toUpperCase()||"VOICE"==o.message.Type.toUpperCase()){var I=`<a href=${o.message.Id} target="_blank">Download Media</a>`;""!=o.message.Caption&&null!=o.message.Caption&&null!=o.message.Caption&&(I+=`<div\n              class="chatCaption" >${this.replaceFunciton(o.message.Caption)}</div>`),d={msg_type:"msg_in",msg_for:"doc",node_type:"message",msg_data:I,optionArray:[],msg_caption:o.message.Caption,header:"",footer:""}}this.chatObjectwithId[o.chat_id].push(d),null!=Object.keys(this.windowIndexMap).find(R=>this.windowIndexMap[R]===o.chat_id)&&(this.chatWindows[Object.keys(this.windowIndexMap).find(R=>this.windowIndexMap[R]===o.chat_id)].transation_id=o.transation_id),null!=document.getElementById(`msgBody${o.chat_id}`)&&this.scrollToBottom(o.chat_id)}}),this.makeUserArray(i),this.makeChatWindow()}})}idComparisson(t,i){return t.Id-i.Id}makeChatWindow(){this.chatWindows.map(t=>{t.messages=this.chatObjectwithId[t.chat_id]})}makeUserArray(t){var i=[...new Map(t.map(d=>[d.chat_id,d])).values()];if(this.signInService.decryptData(sessionStorage.getItem("users"))){var s=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("users"))),o=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("userArrayIndex")));i.map(d=>{Object.keys(o).includes(d.chat_id.toString())?s.splice(o[d.chat_id],1,d):s.push(d)}),s.map(d=>{d.notification=this.notificationCount[d.chat_id],d.message=this.getUserMessage(d.message)}),this.users=s,sessionStorage.setItem("users",this.signInService.encryptData(JSON.stringify(s))),this.setUserArrayIndex()}else i.map(d=>{d.notification=this.notificationCount[d.chat_id],d.message=this.getUserMessage(d.message)}),this.users=i,sessionStorage.setItem("users",this.signInService.encryptData(JSON.stringify(i))),this.setUserArrayIndex();sessionStorage.setItem("chatObjectwithId",this.signInService.encryptData(JSON.stringify(this.chatObjectwithId)))}setUserArrayIndex(){this.users.map((t,i)=>{this.userArrayIndexMap[t.chat_id]=i}),sessionStorage.setItem("userArrayIndex",this.signInService.encryptData(JSON.stringify(this.userArrayIndexMap)))}getSessionStorageDataToVariables(){this.signInService.decryptData(sessionStorage.getItem("users"))&&(this.users=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("users")))),this.signInService.decryptData(sessionStorage.getItem("userArrayIndex"))&&(this.userArrayIndexMap=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("userArrayIndex")))),this.signInService.decryptData(sessionStorage.getItem("windowIndexMap"))&&(this.windowIndexMap=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("windowIndexMap")))),this.signInService.decryptData(sessionStorage.getItem("chatObjectwithId"))&&(this.chatObjectwithId=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("chatObjectwithId")))),this.signInService.decryptData(sessionStorage.getItem("chatOpenFlag"))&&(this.chatOpenFlag=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("chatOpenFlag"))))}fetchAgentReply(){this.signInService.decryptData(sessionStorage.getItem("UserID"))}getCaretPos(t){(t.selectionStart||"0"==t.selectionStart)&&(this.caretPos=t.selectionStart)}replaceFunciton(t){if(null!=t&&null!=t)return t.toString().replaceAll("\\r\\n","<br/>").replaceAll("\n","<br/>").replace(/(?:\*)([^*<\n]+)(?:\*)/g,"<b>$1</b>").replace(/(?:_)([^_<\n]+)(?:_)/g,"<i>$1</i>").replace(/(?:~)([^~<\n]+)(?:~)/g,"<strike>$1</strike>")}textAreaReplaceFunction(t){return t.replace(/<b>[<br>]*<\/b>/g,"<br>").replace(/[a-z0-9]<div><br><\/div><div>/,"<br><br>").replace(/<div><br><\/div><div>/g,"<br>").replace(/<div><br><div>/g,"<br><br>").replace(/<div><br><\/div>/g,"<br>").replace(/<\/?span[^>]*>/g,"").replace(/<div>/g,"<br>").replace(/<\/div>/g,"").replace(/&nbsp;/g," ").replace(/<b>\s+/g," <b>").replace(/\s+<\/b>/g,"</b> ").replace(/<i>\s+/g," <i>").replace(/\s+<\/i>/g,"</i> ").replace(/<strike>\s+/g," <strike>").replace(/\s+<\/strike>/g,"</strike> ").replace(/\n/g,"<br>").replace(/&amp;/g,"&").replace(/\\"/g,'"').replace(/"/g,'\\"').replace(/\n/g,"<br>")}getMessage(t,i){this.replays[i.chat_id]=t}showQuick(t){this.chatWindows[t].quickBox=!this.chatWindows[t].quickBox}showSessionEnd(t){this.chatWindows[t].sessionEncBox=!this.chatWindows[t].sessionEncBox}sendQuick(t,i,s){this.replays[s.chat_id]=this.textAreaReplaceFunction(t),this.replyMsg(i,s),this.showQuick(i)}sendSessionEnd(t,i,s){this.replays[s.chat_id]=this.textAreaReplaceFunction(t),this.endSessionMessage(i,s)}closeQuick(t){this.chatWindows[t].quickBox=!1}closeSessionEnd(t,i){this.callEndSessionPrc(t,i)}handleChange(t,i){}endSession(t){this.chatWindows[t].sessionCLose=!this.chatWindows[t].sessionCLose,this.chatWindows[t].sessionEncBox=!1,this.sessionCLose=!0}agentBreak(t){this.signInService.decryptData(sessionStorage.getItem("UserID")),this.signInService.decryptData(sessionStorage.getItem("sessionId"))}minWindow(){this.minimizeWindow=!this.minimizeWindow,this.minimizeWindow?(document.getElementsByTagName("app-chat-bot")[0].classList.add("minWindow"),document.getElementById("insideDiv").style.width="73px"):(document.getElementsByTagName("app-chat-bot")[0].classList.remove("minWindow"),document.getElementById("insideDiv").style.width="96%")}endSessionNow(t,i){null!=i.sessionEndReply?this.showSessionEnd(t):this.callEndSessionPrc(i,t)}restoreSession(){this.sessionCLose=!1}scrollToBottom(t){setTimeout(()=>{const i=document.getElementById(`msgBody${t}`);i.scrollTop=i.scrollHeight})}getDetails(t){}checkOnBreak(){this.myInterval=setInterval(()=>{this.signInService.decryptData(sessionStorage.getItem("UserID")),this.signInService.decryptData(sessionStorage.getItem("sessionId"))},3e3)}closeChat(t){this.chatWindows.splice(t,1),this.generateWindowIndexMap()}generateWindowIndexMap(){this.windowIndexMap={},this.chatWindows.map((t,i)=>{this.windowIndexMap[i]=t.chat_id})}enableChat(t){"enable"==t?(this.chatStatus="true",this.signInService.decryptData(sessionStorage.getItem("UserID")),this.signInService.decryptData(sessionStorage.getItem("sessionId"))):(this.signInService.decryptData(sessionStorage.getItem("UserID")),this.signInService.decryptData(sessionStorage.getItem("sessionId")))}toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker}addEmoji(t){var i=t.emoji.native,s=this.caretPos,o=this.reply.slice(0,s),d=this.reply.slice(s);this.reply=(o+=i)+d}openChat(t){this.reply="",this.file="",this.files="",this.newfile="";var i=0;if(this.chatWindows.map(o=>{o.chat_id==t.chat_id&&(i+=1)}),0==i){t.quickBox=!1,this.replays[t.chat_id]="",t.reply="";var s=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("chatObjectwithId")));this.notificationCount[t.chat_id]=0,t.notification=0,s.hasOwnProperty(t.chat_id)&&1==this.chatOpenFlag[t.chat_id]?(this.chatObjectwithId=JSON.parse(this.signInService.decryptData(sessionStorage.getItem("chatObjectwithId"))),t.messages=this.chatObjectwithId[t.chat_id],t.sessionEndReply=this.sessionEndReplys[t.flow_id],this.assignChatToWindow(t),this.scrollToBottom(t.chat_id)):this.chatBotService.getSessionMessages(t.communication_id).subscribe(o=>{null!=o?this.chatBotService.chatOpen(t.chat_id).subscribe(d=>{if(0!=d){this.chatOpenFlag[t.chat_id]=!0,sessionStorage.setItem("chatOpenFlag",this.signInService.encryptData(JSON.stringify(this.chatOpenFlag))),this.chatDataOld=o;for(const w in this.chatDataOld)this.dateArray.push(w);this.sortedDateArray=this.dateArray.sort(this.dateComparison),setTimeout(()=>{this.getMessageList().then(w=>{this.chatObjectwithId[t.chat_id]=w,sessionStorage.setItem("chatObjectwithId",this.signInService.encryptData(JSON.stringify(this.chatObjectwithId))),t.messages=this.chatObjectwithId[t.chat_id],t.sessionEndReply=this.sessionEndReplys[t.flow_id],this.assignChatToWindow(t),this.scrollToBottom(t.chat_id)})})}else this.users.splice(this.userArrayIndexMap[t.chat_id],1),this.setUserArrayIndex(),sessionStorage.setItem("users",this.signInService.encryptData(JSON.stringify(this.users))),sessionStorage.setItem("userArrayIndex",this.signInService.encryptData(JSON.stringify(this.userArrayIndexMap))),this.toastr.warning("User already assigned to another Agent","Warning")}):this.toastr.warning("Something Went Wrong","Warning")})}}onKeydown(t){}getMessagelength(t){return 0!=t.replace(/&nbsp;/g," ").replace(/<br>/g,"").trim().length}replyMsg(t,i){if(this.replays[i.chat_id]=this.textAreaReplaceFunction(this.replays[i.chat_id]),this.getMessagelength(this.replays[i.chat_id])){document.getElementById("reply_button").style.pointerEvents="none";var s={msg_type:"msg_out",msg_for:"msg",msg_data:this.replays[i.chat_id],node_type:"message",msg_caption:"",optionArray:[],header:"",footer:""},o={service_id:i.service_id,acc_id:i.acc_id,flow_id:i.flow_id,comm_id:i.communication_id,trans_in_id:i.transation_id,data:{text:this.replays[i.chat_id]},business_num:i.business_num,content_type:"5",cus_num:i.customer_num};this.replays[i.chat_id]="",this.chatBotService.sentReply(o).subscribe(d=>{1==d?(this.notificationCount[i.chat_id]=0,this.users[this.userArrayIndexMap[i.chat_id]].notification=0,this.chatObjectwithId[i.chat_id].push(s),sessionStorage.setItem("chatObjectwithId",this.signInService.encryptData(JSON.stringify(this.chatObjectwithId))),this.propertyService.lengthChange.next("data"),this.scrollToBottom(i.chat_id),document.getElementById("reply_button").style.pointerEvents="auto"):9==d?(this.toastr.warning("Flow Deactivated","Warning"),this.callEndSessionPrc(i,t),document.getElementById("reply_button").style.pointerEvents="auto"):2==d?(this.toastr.warning("Communication Ended Or Flow Deactivated","Warning"),this.chatWindows.splice(t,1),this.users.splice(this.userArrayIndexMap[i.chat_id],1),this.setUserArrayIndex(),delete this.chatObjectwithId[i.chat_id],delete this.userArrayIndexMap[i.chat_id],delete this.chatOpenFlag[i.chat_id],sessionStorage.setItem("users",this.signInService.encryptData(JSON.stringify(this.users))),sessionStorage.setItem("chatObjectwithId",this.signInService.encryptData(JSON.stringify(this.chatObjectwithId))),sessionStorage.setItem("userArrayIndex",this.signInService.encryptData(JSON.stringify(this.userArrayIndexMap))),sessionStorage.setItem("chatOpenFlag",this.signInService.encryptData(JSON.stringify(this.chatOpenFlag)))):(this.toastr.warning("Something Went Wrong","Warning"),document.getElementById("reply_button").style.pointerEvents="auto")})}this.scrollToBottom(i.chat_id),document.getElementById(i.chat_id).innerHTML=""}deleteFile(){this.file="",this.files=""}remove_WithSpace(t){if(null!=t||null!=t)return t.replace(/-/g," ")}assignChatToWindow(t){-1==this.chatWindows.findIndex(s=>s.chat_id==t.chat_id)&&(this.chatWindows.length>2?(this.chatWindows.splice(0,1),this.chatWindows.push(t)):this.chatWindows.push(t),this.generateWindowIndexMap(),sessionStorage.setItem("windowIndexMap",this.signInService.encryptData(JSON.stringify(this.windowIndexMap))))}dateComparisonOnObject(t,i){return new Date(t.msg_in_time)-new Date(i.msg_in_time)}dateComparison(t,i){return new Date(t)-new Date(i)}fileHanler(t,i){t.index=i,this.chatBotService.fileHandler.next(t)}getMessageList(){return(0,J.mG)(this,void 0,void 0,function*(){this.chatList=[];for(let ye=0;ye<this.sortedDateArray.length;ye++){var t=this.chatDataOld[this.sortedDateArray[ye]];let Bi=this.remove_WithSpace(this.sortedDateArray[ye]);this.chatList.push({msg_type:"msg_date",msg_for:"date",node_type:"date",msg_data:Bi,optionArray:[],msg_caption:"",header:"",footer:""});for(let Ce=0;Ce<t.length;Ce++){var i=t[Ce].msg_in,s=t[Ce].message_out;if("TEXT"==i.Type.toUpperCase()||"INTERACTIVE"==i.Type.toUpperCase())this.chatList.push({msg_type:"msg_in",msg_for:"msg",node_type:"message",msg_data:this.replaceFunciton(i.Text),optionArray:[],msg_caption:"",header:"",footer:""});else if("LOCATION"==i.Type.toUpperCase())this.chatList.push({msg_type:"msg_in",msg_for:"msg",node_type:"message",msg_data:`<a href="https://maps.google.com/?q=${i.Location.latitude},${i.Location.longitude}" target="_blank">Open Map</a>`,optionArray:[],msg_caption:"",header:"",footer:""});else if("CONTACTS"==i.Type.toUpperCase()){var o='<div class="contactAgentChat">',d="";i.Contacts.map((we,pe)=>{let Ae="";Ae=i.Contacts[pe].phones.length>0?`<div class="row pb-1">\n              <div class="col">Phone</div>\n              <div class="col-7">${i.Contacts[pe].phones[0].phone}</div>\n            </div>`:'<div class="row pb-1">\n              <div class="col">Phone</div>\n              <div class="col-7">    </div>\n            </div>',d+=`<div class="row justify-content-md-center">\n            <div class="ml-n2">Contact - ${pe+1}</div>\n            </div>\n            <div class="row">\n              <div class="col">Name</div>\n              <div class="col-7">${i.Contacts[pe].name.formatted_name} </div>\n            </div>\n            ${Ae}\n    `}),this.chatList.push({msg_type:"msg_in",msg_for:"msg",node_type:"message",msg_data:o=o+d+"</div>",optionArray:[],msg_caption:"",header:"",footer:""})}else if("IMAGE"==i.Type.toUpperCase()||"VIDEO"==i.Type.toUpperCase()||"AUDIO"==i.Type.toUpperCase()||"DOCUMENT"==i.Type.toUpperCase()||"STICKER"==i.Type.toUpperCase()||"VOICE"==i.Type.toUpperCase()){var w=`<a href=${i.Id} target="_blank">Download Media</a>`;""!=i.Caption&&null!=i.Caption&&null!=i.Caption&&(w+=`<div\n            class="chatCaption" >${this.replaceFunciton(i.Caption)}</div>`),this.chatList.push({msg_type:"msg_in",msg_for:"doc",node_type:"message",msg_data:w,optionArray:[],msg_caption:i.Caption,header:"",footer:""})}for(let we=0;we<s.length;we++){var y=s[we],I=y.message;if(null==y.question_type||1==y.question_type||4==y.question_type)5==y.content_type?this.chatList.push({msg_type:"msg_out",msg_for:"msg",node_type:"message",msg_data:this.replaceFunciton(I.Content.Text),optionArray:[],msg_caption:"",header:"",footer:"",response_by:y.response_by}):1==y.content_type?this.chatList.push({msg_type:"msg_out",msg_for:"image",msg_data:I.Content.MediaUrl,node_type:"message",msg_caption:this.replaceFunciton(I.Content.Caption),optionArray:[],header:"",footer:"",response_by:y.response_by}):2==y.content_type?this.chatList.push({msg_type:"msg_out",msg_for:"audio",msg_data:I.Content.MediaUrl,node_type:"message",optionArray:[],header:"",footer:"",response_by:y.response_by}):3==y.content_type?this.chatList.push({msg_type:"msg_out",msg_for:"video",msg_data:I.Content.MediaUrl,node_type:"message",msg_caption:this.replaceFunciton(I.Content.Caption),optionArray:[],header:"",footer:"",response_by:y.response_by}):4==y.content_type?this.chatList.push({msg_type:"msg_out",msg_for:"doc",msg_data:I.Content.MediaUrl,node_type:"message",msg_caption:this.replaceFunciton(I.Content.Caption),optionArray:[],name:I.Content.FileName,header:"",footer:"",response_by:y.response_by}):7==y.content_type&&this.chatList.push({msg_type:"msg_out",msg_for:"image",msg_data:I.Content.MediaUrl,node_type:"message",optionArray:[],header:"",footer:"",response_by:y.response_by});else if(2==y.question_type){var R=[],W=I.Content.Action.Buttons;for(let pe=0;pe<W.length;pe++)R.push({optionName:W[pe].Reply.Title});K="Footer"in I.Content?I.Content.Footer:{Text:""},Q="Header"in I.Content?I.Content.Header:{Text:""},1==y.content_type?this.chatList.push({msg_type:"msg_out",msg_for:"image",node_type:"button",msg_data:Q.Image.MediaUrl,optionArray:R,msg_caption:this.replaceFunciton(I.Content.Body.Text),header:"",footer:this.replaceFunciton(K.Text),response_by:y.response_by}):3==y.content_type?this.chatList.push({msg_type:"msg_out",msg_for:"video",node_type:"button",msg_data:Q.Video.MediaUrl,optionArray:R,msg_caption:this.replaceFunciton(I.Content.Body.Text),header:"",footer:this.replaceFunciton(K.Text),response_by:y.response_by}):4==y.content_type?this.chatList.push({msg_type:"msg_out",msg_for:"doc",node_type:"button",msg_data:Q.Document.MediaUrl,optionArray:R,msg_caption:this.replaceFunciton(I.Content.Body.Text),header:"",name:Q.Document.FileName,footer:this.replaceFunciton(K.Text),response_by:y.response_by}):(5==y.content_type||-1==y.content_type)&&this.chatList.push({msg_type:"msg_out",msg_for:"msg",node_type:"button",msg_data:this.replaceFunciton(I.Content.Body.Text),optionArray:R,msg_caption:"",header:this.replaceFunciton(Q.Text),footer:this.replaceFunciton(K.Text),response_by:y.response_by})}else if(3==y.question_type){var Q,K,oe=[],ge=[],de=[],ce=I.Content.Action.Sections;for(let Me=0;Me<ce.length;Me++){de.push(ce[Me].Title);var ue=ce[Me].Rows;for(let Te=0;Te<ue.length;Te++)oe.push({optionName:ue[Te].Title,description:ue[Te].Description});ge.push({sectionOptions:oe}),oe=[]}K="Footer"in I.Content?I.Content.Footer:{Text:""},Q="Header"in I.Content?I.Content.Header:{Text:""},(5==y.content_type||-1==y.content_type)&&this.chatList.push({msg_type:"msg_out",msg_for:"msg",node_type:"list",msg_data:this.replaceFunciton(I.Content.Body.Text),optionArray:ge,sectionNameList:de,msg_caption:"",header:this.replaceFunciton(Q.Text),footer:this.replaceFunciton(K.Text),response_by:y.response_by})}}}}return this.dateArray=[],this.sortedDateArray=[],this.chatList})}getFileTransferData(t){this.chatBotService.sentReply(t.dbData).subscribe(i=>{1==i?(this.chatWindows[t.data.index].messages.push(t.messageData),sessionStorage.setItem("chatObjectwithId",this.signInService.encryptData(JSON.stringify(this.chatObjectwithId))),this.replays[t.data.chat_id]="",this.scrollToBottom(t.data.chat_id)):this.toastr.warning("Warning","Something Went Wrong")})}fetchSessionEndReply(){}autoRemove(){0==this.flag&&(this.flag+=1,this.timmer=setInterval(()=>{this.notifications.length>0?this.notifications.map(t=>{t.time+=1}):(this.flag=0,clearInterval(this.timmer))},1e3)),setTimeout(()=>{this.notifications.shift()},5e3)}endSessionMessage(t,i){""!=this.replays[i.chat_id]&&this.chatBotService.sentReply({service_id:i.service_id,acc_id:i.acc_id,flow_id:i.flow_id,comm_id:i.communication_id,trans_in_id:i.transation_id,data:{text:this.replays[i.chat_id]},business_num:i.business_num,content_type:"5",cus_num:i.customer_num}).subscribe(o=>{1==o?this.callEndSessionPrc(i,t):9==o?(this.toastr.warning("Flow Deactivated","Warning"),this.callEndSessionPrc(i,t)):this.toastr.warning("Something Went Wrong","Warning")}),this.scrollToBottom(i.chat_id),document.getElementById(i.chat_id).innerHTML=""}callEndSessionPrc(t,i){this.chatBotService.endSession({user_id:this.signInService.decryptData(sessionStorage.getItem("UserID")),chat_id:[t.chat_id]}).subscribe(s=>{1==s.status?(this.chatWindows.splice(i,1),this.users.splice(this.userArrayIndexMap[t.chat_id],1),this.setUserArrayIndex(),delete this.chatObjectwithId[t.chat_id],delete this.userArrayIndexMap[t.chat_id],delete this.chatOpenFlag[t.chat_id],sessionStorage.setItem("users",this.signInService.encryptData(JSON.stringify(this.users))),sessionStorage.setItem("chatObjectwithId",this.signInService.encryptData(JSON.stringify(this.chatObjectwithId))),sessionStorage.setItem("userArrayIndex",this.signInService.encryptData(JSON.stringify(this.userArrayIndexMap))),sessionStorage.setItem("chatOpenFlag",this.signInService.encryptData(JSON.stringify(this.chatOpenFlag)))):this.toastr.warning("Something Went Wrong","Warning")})}clearuserList(){var t=[];this.users.length>0&&(this.users.map(i=>{t.push(i.chat_id)}),this.chatBotService.endSession({user_id:this.signInService.decryptData(sessionStorage.getItem("UserID")),chat_id:t}).subscribe(i=>{1==i.status?(this.users=[],this.chatObjectwithId={},this.userArrayIndexMap={},this.chatOpenFlag={},this.chatWindows=[],sessionStorage.setItem("users",this.signInService.encryptData(JSON.stringify(this.users))),sessionStorage.setItem("chatObjectwithId",this.signInService.encryptData(JSON.stringify(this.chatObjectwithId))),sessionStorage.setItem("userArrayIndex",this.signInService.encryptData(JSON.stringify(this.userArrayIndexMap))),sessionStorage.setItem("chatOpenFlag",this.signInService.encryptData(JSON.stringify(this.chatOpenFlag)))):this.toastr.warning("Something Went Wrong","Warning")}))}getUserMessage(t){var i=t;try{if("TEXT"==i.Type.toUpperCase()||"INTERACTIVE"==i.Type.toUpperCase())return i.Text;if("LOCATION"==i.Type.toUpperCase())return"Location";if("CONTACTS"==i.Type.toUpperCase())return"Contact";if("IMAGE"==i.Type.toUpperCase()||"VIDEO"==i.Type.toUpperCase()||"AUDIO"==i.Type.toUpperCase()||"DOCUMENT"==i.Type.toUpperCase()||"STICKER"==i.Type.toUpperCase()||"VOICE"==i.Type.toUpperCase())return"Media"}catch(s){return i}}ngOnDestroy(){clearInterval(this.healthUpdate),clearInterval(this.isLoggedIn),clearInterval(this.getMessageListInterval)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.M),e.Y36(r.l),e.Y36($._W),e.Y36(j),e.Y36(e.sBO),e.Y36(se.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chat-bot"]],decls:20,vars:11,consts:[[1,"insideClass"],[1,"d-flex","header"],["class","bi bi-chevron-double-right ml-2","style","cursor: pointer;",3,"click",4,"ngIf"],["class","bi bi-chevron-double-left ml-2","style","cursor: pointer;",3,"click",4,"ngIf"],["class","ratioDiv",4,"ngIf"],["class","d-flex",4,"ngIf"],["id","insideDiv",1,"insideDiv"],[1,"headerDiv"],[2,"max-height","327px","overflow-y","auto","overflow-x","hidden"],["class","about mt-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","msgDiv",3,"ngClass"],["class","openBox","id","openBox",3,"height20",4,"ngFor","ngForOf"],[3,"fileHandlerId","dataTransfer"],["aria-live","polite","aria-live","assertive","aria-atomic","true",1,"noti",2,"position","relative","min-height","200px"],[2,"position","absolute","bottom","0px !important","right","0"],["class","toast show ","role","alert","aria-live","assertive","aria-atomic","true",4,"ngFor","ngForOf"],[1,"bi","bi-chevron-double-right","ml-2",2,"cursor","pointer",3,"click"],[1,"bi","bi-chevron-double-left","ml-2",2,"cursor","pointer",3,"click"],[1,"ratioDiv"],[1,"d-flex"],[1,"col-6"],["class","btn btn-sm btn-primary countBtn",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger countBtn",3,"click",4,"ngIf"],["class","btn btn-sm btn-primary countBtn","style","margin-left: -6px;",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger countBtn","style","margin-left: -6px;",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","countBtn",3,"click"],[1,"btn","btn-sm","btn-danger","countBtn",3,"click"],[1,"btn","btn-sm","btn-primary","countBtn",2,"margin-left","-6px",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","countBtn",2,"margin-left","-6px",3,"click"],[1,"about","mt-2",3,"ngClass","click"],["class","userInfo scroll-left",3,"ngClass",4,"ngIf"],["id","openBtn","class","openBtn ",4,"ngIf"],[1,"userInfo","scroll-left",3,"ngClass"],[1,"infos"],[2,"white-space","nowrap"],["class","bell blink_me",4,"ngIf"],[1,"bell","blink_me"],[1,"bi","bi-bell-fill"],[1,"badge","float-right"],["id","openBtn",1,"openBtn"],[1,"bi","bi-chat-left-fill"],["id","openBox",1,"openBox"],[1,"boxHead","d-flex"],[1,"headH2"],[1,"userDet","mt-2"],[1,"userDet"],[1,"closebtn"],["matTooltip","Minimize chat",3,"click"],[1,"minimize","font-x-large","fa","fa-thin","fa-angle-down"],["matTooltip","End Session",3,"click"],[1,"ml-2","font-x-large","text-danger","bi","bi-x"],["class","sessionCLose",4,"ngIf"],[1,"messageBody",3,"id"],[4,"ngxtFor","ngxtForOf","ngxtForItemsAtOnce","ngxtForIntervalLength"],[1,"bodyEnd"],["minHeight","73","maxLen","4000",3,"model","classOverride","emojiFlag","maxHeightFlag","arrangeButtonDiv","messageData"],[1,"emj","bi","bi-paperclip",2,"margin","-5px 5px 0px 5px","position","absolute",3,"click"],[1,"btn","btn-primary","btn-sm","quick",3,"click"],["id","reply_button",1,"openBt","col-4",3,"disabled","click"],[1,"bi","bi-send"],["class","quickBox",4,"ngIf"],[1,"sessionCLose"],[1,"headSession","d-flex","justify-content-center"],[1,"d-flex","justify-content-center"],[1,"sessionBtn","btn","btn-primary","mr-1",3,"click"],[1,"sessionBtn","btn","btn-primary",3,"click"],["class","message received",3,"innerHTML",4,"ngIf"],["class","message messageImage received",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"date","ml-auto","mr-auto","pl-1","pr-1"],[1,"message","received",3,"innerHTML"],[1,"message","messageImage","received",3,"innerHTML"],[3,"ngClass",4,"ngIf"],["class","message  sent",3,"innerHTML",4,"ngIf"],["class","message sent",4,"ngIf"],[3,"ngClass"],[1,"message","sent",3,"innerHTML"],[1,"message","sent"],["alt","image",1,"chatImage",2,"height","115px",3,"src"],["class","chatCaption",3,"innerHTML",4,"ngIf"],[1,"chatCaption",3,"innerHTML"],["controls","",2,"max-width","160px","height","30px"],[3,"src"],["controls","",2,"height","115px","max-width","160px"],["height","115",3,"data","title"],[2,"max-height","115px","width","160px","overflow-y","scroll","max-width","160px"],["target","_blank",3,"href"],["class","message sent headerMessage",3,"innerHTML",4,"ngIf"],["class","message message_list sent",3,"innerHTML",4,"ngIf"],["class","message sentD footerMessage footerMessageList",3,"innerHTML",4,"ngIf"],[1,"message","sentButton","message_list","listOptionsDiv"],[4,"ngFor","ngForOf"],[1,"message","sent","headerMessage",3,"innerHTML"],[1,"message","message_list","sent",3,"innerHTML"],[1,"message","sentD","footerMessage","footerMessageList",3,"innerHTML"],[1,"list-SectionName"],[1,"ml-auto"],[1,"bi","bi-circle"],["class","list-description",4,"ngIf"],[1,"list-description"],["class","buttonMessage sent",3,"innerHTML",4,"ngIf"],["class","message sentD footerMessage -mt-1",3,"innerHTML",4,"ngIf"],["class","",4,"ngFor","ngForOf"],[1,"buttonMessage","sent",3,"innerHTML"],[1,"message","sentD","footerMessage","-mt-1",3,"innerHTML"],[1,""],[1,"message","sentButton","messageButton"],[1,"quickBox"],[1,"d-flex","quickBoxHead"],[1,"col-10","quickHeading"],[1,"col-2",2,"margin-top","2px","margin-left","-3px"],[1,"bi","bi-x-circle-fill",2,"color","red","font-size","13px","cursor","pointer",3,"click"],[1,"insideQuick"],["class","d-flex",4,"ngFor","ngForOf"],[1,"quickMsg"],[1,"quickData"],[1,"MsgContent",3,"innerHTML"],[2,"display","flex","justify-content","center","align-items","center"],[1,"sendBt",3,"click"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","show"],[1,"toast-header"],[1,"bi","bi-exclamation-square-fill","mr-2"],[1,"mr-auto"],["class","text-muted",4,"ngIf"],["type","button","data-dismiss","toast","aria-label","Close",1,"ml-2","mb-1","close",3,"click"],["aria-hidden","true"],[1,"toast-body"],[1,"text-muted"]],template:function(t,i){1&t&&(e._UZ(0,"select-language"),e.TgZ(1,"div",0)(2,"div",1),e._uU(3,"Agent Chat "),e.YNc(4,tt,1,0,"i",2),e.YNc(5,it,1,0,"i",3),e.qZA(),e.YNc(6,nt,2,1,"div",4),e.TgZ(7,"div"),e.YNc(8,lt,7,4,"div",5),e.TgZ(9,"div",6)(10,"div",7),e._uU(11,"Live Chat"),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,ut,3,5,"div",9),e.qZA()()(),e.TgZ(14,"div",10),e.YNc(15,ni,26,20,"div",11),e.qZA()(),e.TgZ(16,"file-handler-chat",12),e.NdJ("dataTransfer",function(o){return i.getFileTransferData(o)}),e.qZA(),e.TgZ(17,"div",13)(18,"div",14),e.YNc(19,ai,12,3,"div",15),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.minimizeWindow),e.xp6(1),e.Q6J("ngIf",i.minimizeWindow),e.xp6(1),e.Q6J("ngIf",!i.minimizeWindow),e.xp6(2),e.Q6J("ngIf",!i.minimizeWindow),e.xp6(5),e.Q6J("ngForOf",i.users),e.xp6(1),e.Q6J("ngClass",e.VKq(9,ri,1==i.minimizeWindow)),e.xp6(1),e.Q6J("ngForOf",i.chatWindows),e.xp6(1),e.Q6J("fileHandlerId","file"),e.xp6(3),e.Q6J("ngForOf",i.notifications))},directives:[_e,x.O5,x.sg,x.mk,De.gM,Be,Ke,et],styles:['.openBtnEdit[_ngcontent-%COMP%]{background:linear-gradient(148.57deg,#253B82 13.28%,#2A9ED7 83.03%);border-radius:50px;border:0px;height:50px;width:50px;z-index:90;position:absolute;right:10px;padding:14px;margin-top:0}.timmer[_ngcontent-%COMP%]{border-radius:10px;border:1px solid var(--main-color);margin-top:5px;font-size:12px;align-items:center;text-align:center}.liveBox[_ngcontent-%COMP%]{margin-left:-188px!important}.userInfoWhite[_ngcontent-%COMP%]{background:white!important}.quickHeading[_ngcontent-%COMP%]{color:#fff;margin-top:2px;text-align:center;margin-left:12px}.msgDivMin[_ngcontent-%COMP%]{right:91px!important}.msgDiv[_ngcontent-%COMP%]{position:absolute;right:227px;bottom:0}.noti[_ngcontent-%COMP%]{z-index:10000!important;right:10px!important;position:absolute!important;min-height:200px;bottom:60px!important}.toast[_ngcontent-%COMP%]{min-width:310px;border:1px solid #a7a7a785}.toast-body[_ngcontent-%COMP%]{background-color:#8080802b!important}.bi-exclamation-square-fill[_ngcontent-%COMP%]{color:red;font-size:14px}.insideQuick[_ngcontent-%COMP%]{max-height:380px;overflow-y:auto;overflow-x:hidden}.insideClass[_ngcontent-%COMP%]{height:100%;padding:4px;border-radius:13px;background:white;position:relative}.quickBox[_ngcontent-%COMP%]{margin-left:-40px;bottom:55px;position:absolute;width:251px;background-color:#fff;border:2px solid var(--main-color);border-radius:9px;z-index:150}.sendBt[_ngcontent-%COMP%]{background:var(--main-sent-button-shade);box-shadow:#004dff80 0 4px 24px;border-radius:50px;border:0px;height:36px;width:36px;z-index:90;padding:3px 2px 0 0}.quickData[_ngcontent-%COMP%]{color:#fff}.MsgContent[_ngcontent-%COMP%]{border-radius:9px;background:white;padding:5px;font-size:11px;word-break:break-word}.quickMsg[_ngcontent-%COMP%]{background:var(--main-color);padding:5px;margin:6px;border-radius:9px;width:190px}.header[_ngcontent-%COMP%]{justify-content:center;font-size:14px;color:#000;font-weight:700;text-align:center}.backWhite[_ngcontent-%COMP%]{background-color:#fff!important}.videoFile[_ngcontent-%COMP%]{border-radius:6px;width:100%!important;margin-top:5px}.heightInc[_ngcontent-%COMP%]{height:74.09px!important}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#87a3aa}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.bi-paperclip[_ngcontent-%COMP%]{color:#000}.audioFile[_ngcontent-%COMP%]{width:100%!important;height:26px;margin-top:5px}.files[_ngcontent-%COMP%]{font-size:10px;background-color:#c9f3f7;margin-left:11px;border-radius:5px;width:75%;max-height:20px!important}.openBtn[_ngcontent-%COMP%]{color:#fff;background-color:#fff;border:3px var(--main-color) solid;isolation:linear-gradient(135deg,#2a27da,#00ccff);border-radius:50px;height:50px;width:50px;margin-left:-23px;z-index:90;padding:14px}.quick[_ngcontent-%COMP%]{right:5px;font-size:10px;bottom:4px;padding:3px;width:68px;position:relative;margin-top:-5px;z-index:100;margin-left:187px}.openBt[_ngcontent-%COMP%]{transform:rotate(42deg);color:#007dfc;background:var(--main-sent-button-shade);box-shadow:#004dff80 0 4px 24px;border-radius:50px;border:0px;height:36px;width:36px;z-index:90;padding:3px 2px 0 0;position:absolute;margin:-75px 0 0 210px}.about[_ngcontent-%COMP%]{cursor:pointer;display:flex}.userInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;color:#fff;font-family:Poppins;margin-top:-5px}.userInfoW[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;font-size:12px;font-family:Poppins;padding:0!important;margin:0!important}.userInfoW[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;color:#333;font-family:Poppins;margin-top:-5px}.userInfoW[_ngcontent-%COMP%]{margin-top:2px;border-top-left-radius:25px;border-bottom-left-radius:25px;padding:2px 90px 3px 13px;height:46px;border:2px #73D4FF solid;width:128px!important;background-color:#fff}.userInfo[_ngcontent-%COMP%]{margin-top:2px;border-top-left-radius:25px;border-bottom-left-radius:25px;padding:4px 90px 3px 13px;height:46px;width:87%;background:var(--main-shade)}.infos[_ngcontent-%COMP%]{font-size:12px;color:#fff;font-family:Poppins;padding:0!important;margin:0!important}.bi-chat-left-fill[_ngcontent-%COMP%]{color:var(--main-primaryDanger);font-size:15px}.bi-send[_ngcontent-%COMP%]{transform:rotate(-45deg);transition-duration:.5s;color:#fff;font-size:15px}.bi-x[_ngcontent-%COMP%]{cursor:pointer;font-size:17px}.closebtn[_ngcontent-%COMP%]{display:flex;margin-top:12px}.minimize[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer;font-size:17px}.userDet[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:500;font-size:10px;line-height:16px}textarea[_ngcontent-%COMP%]{line-height:12px;margin-top:8px;width:121px;font-size:10px;resize:none;border:none;overflow:auto;outline:none;box-shadow:none;height:26px}.headH2[_ngcontent-%COMP%]{margin-top:15px;width:200px}.reply[_ngcontent-%COMP%]{clear:both;margin-top:3.5px;display:flex;flex-direction:row;align-items:center;padding:7.65117px;gap:7.65px;width:104.06px;background:#73D4FF;border-radius:6.12093px 6.12093px 6.12093px 0;flex:none;order:1;flex-grow:0;font-family:Poppins;font-style:normal;font-weight:300;font-size:9.65117px;line-height:11px;color:#000}.attach[_ngcontent-%COMP%]{max-height:26px!important;background-color:#fff!important;border-radius:13px!important;padding:3px 6px!important;color:#00f!important}.bi-paperclip[_ngcontent-%COMP%]{cursor:pointer}.imageView[_ngcontent-%COMP%]{border-radius:20px;margin-top:5px;padding:0}.bi-emoji-smile[_ngcontent-%COMP%]{cursor:pointer}.bi-trash[_ngcontent-%COMP%]{color:red!important;cursor:pointer}.replyfile[_ngcontent-%COMP%]{color:#fff;width:104.06px;padding:7px 6px;border-radius:6.12093px 6.12093px 0;margin:2px 0;font-size:13px;line-height:20px;overflow-wrap:break-word;max-width:85%;clear:both;position:relative;transition:margin .28s ease-in-out 0s;background:#EEEEEE}.msg[_ngcontent-%COMP%]{margin-top:3.5px;clear:both;font-family:Poppins;font-style:normal;font-weight:300;font-size:9.65117px;line-height:11px;color:#000;display:flex;max-width:85%;transition:margin .28s ease-in-out 0s;flex-direction:row;align-items:center;padding:7.65117px;gap:7.65px;width:104.06px;overflow-x:hidden;overflow-wrap:break-word!important;background:#EEEEEE;border-radius:6.12093px 6.12093px 0;order:0;flex-grow:0}.emj[_ngcontent-%COMP%]{font-size:14px}.messageBody[_ngcontent-%COMP%]{padding:13px;overflow-y:auto;height:180px;width:250.47px;height:204.31px;margin-left:1px;top:65.21px;background:#FFFFFF;border-top-left-radius:9.1814px;border-top-right-radius:9.1814px;overflow-x:hidden}.timer[_ngcontent-%COMP%]{height:25px;border:1px solid grey;font-size:12px;width:79px;background:white;border-radius:5px;text-align:center}.countBtn[_ngcontent-%COMP%]{margin-top:5px;font-size:10px!important;width:83px;max-width:83px}.ratioDiv[_ngcontent-%COMP%]{margin-top:10px;font-size:12px;border:1px solid var(--main-color);align-items:center;text-align:center;border-radius:10px}.headerDiv[_ngcontent-%COMP%]{justify-content:center;font-size:12px;font-weight:700;text-align:center}.insideDiv[_ngcontent-%COMP%]{padding:5px;border:2px var(--main-color) solid;border-radius:15px;margin:10px 0 -2px;background:white;bottom:6px;width:97%;position:absolute}.bi-pencil[_ngcontent-%COMP%]{color:#fff;font-size:22px}.btn-primary[_ngcontent-%COMP%]:active{background-color:var(--main-color)}.btn-primary[_ngcontent-%COMP%]:focus{background-color:var(--main-color)}.bi-bell-fill[_ngcontent-%COMP%]{font-size:18px;z-index:99;color:var(--main-primaryDanger)}.bell[_ngcontent-%COMP%]{margin-top:-57px;z-index:99;position:absolute;right:17px}.height20[_ngcontent-%COMP%]{height:355px!important}.openBox[_ngcontent-%COMP%]{margin-left:5px;bottom:-2px;z-index:60;width:255.47px;height:370.52px;background:var(--main-shade);border:1.53023px solid var(--main-color);border-radius:9.1814px;flex:none;order:0;flex-grow:0}.quickBoxHead[_ngcontent-%COMP%]{height:25px;background:var(--main-color);border-top-left-radius:5px;border-top-right-radius:5px}.sessionCLose[_ngcontent-%COMP%]{font-size:10px;border-radius:6px;margin:3px 16px;padding:10px;background-color:#fff;border:1px #a3a3a3 solid;position:absolute;z-index:100}.sessionBtn[_ngcontent-%COMP%]{padding:1px!important;max-width:40px!important;width:36px;margin-top:7px;font-size:12px}.boxHead[_ngcontent-%COMP%]{height:72px;border-top-left-radius:9.1814px;border-top-right-radius:9.1814px;padding:0 13px;position:relative;color:#fff}.bodyEnd[_ngcontent-%COMP%]{border-bottom-left-radius:9.1814px;border-bottom-right-radius:9.1814px;width:251.34px;margin-left:1px;height:91.09px;top:276.6px;background:#FFFFFF;border-top:1px #afb5b7 solid}h3[_ngcontent-%COMP%]{margin:0;width:100%;font-family:Poppins;font-style:normal;font-weight:500;font-size:11.41628px;line-height:13px}.headImg[_ngcontent-%COMP%]{width:26.19px;height:41.19px;flex:none;order:0;flex-grow:0;padding-top:15px}.offline-message[_ngcontent-%COMP%]{color:#fff;width:100%;padding:3px 31px 12px;position:relative;background-size:100% calc(100% + 12px)}.online[_ngcontent-%COMP%]{display:flex}.wave[_ngcontent-%COMP%]{width:100%;position:absolute;margin-top:-14px;height:18px}.badge1[_ngcontent-%COMP%]{width:7px;background:#08ee4d;color:#fff;height:7px;border-radius:50%;margin-left:5px;margin-top:6px}.badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;background:white;color:#000;min-width:11px;height:11px;padding:1px;font-size:10px;line-height:12px;letter-spacing:0px;border-radius:50%;position:absolute;margin-top:-20px;border:.5px #3886ff solid;margin-left:7px}.blink_me[_ngcontent-%COMP%]{animation:blinker 1s linear infinite}@keyframes blinker{50%{opacity:0}}.chat[_ngcontent-%COMP%]{width:auto;max-height:350px;min-height:350px;overflow-y:auto;overflow-x:hidden;background:#ffffff;z-index:0;display:grid;margin:0 1px}.chat_end[_ngcontent-%COMP%]{min-height:20px;border-bottom-left-radius:13px;border-bottom-right-radius:13px;background:#ffffff;z-index:-1;margin:0 1px;border-bottom:1px solid var(--border-color)}.chat[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-transition:all .5s;transition:all .5s;width:8px;height:1px;z-index:10}.chat[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.chat[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#b3ada7;border-radius:10px}.message[_ngcontent-%COMP%]{color:#000;clear:both;line-height:15px;font-size:12px;padding:5px;position:relative;max-width:165px;word-wrap:break-word;z-index:99!important;margin-bottom:5px}.received[_ngcontent-%COMP%]{background:var(--main-color);border-radius:0 5px 5px;color:#fff;float:left;position:relative;left:10px}.received[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{border-width:0px 40px 40px 0;border-color:transparent #fff transparent transparent;top:0;left:-10px}.message.sent[_ngcontent-%COMP%]{background:#EEEEEE!important;border-radius:5px 0 5px 5px;float:right;margin-right:15px;margin-top:-20px;margin-bottom:12px}.buttonMessage.sent[_ngcontent-%COMP%], .message.sentButton[_ngcontent-%COMP%]{background:#EEEEEE!important;border-radius:5px 0 5px 5px;float:right;margin-right:15px}.message.sent[_ngcontent-%COMP%]:after{border-width:0px 0 10px 10px;border-color:transparent transparent transparent #EEEEEE;top:0;right:-10px;position:absolute;content:"";width:0;height:0;border-style:solid}.date[_ngcontent-%COMP%]{width:auto;background-color:#e2dfdc;margin:5px auto;text-align:center;font-size:10px}.dynamicDate[_ngcontent-%COMP%]{position:absolute;left:48%;right:26%;transform:translate(-50%,-30%);z-index:999!important;margin-top:7px}.chatImage[_ngcontent-%COMP%]{height:auto;width:-webkit-fill-available}.buttonMessage[_ngcontent-%COMP%]{min-width:165px!important;color:#000;clear:both;line-height:15px;font-size:12px;padding:5px;position:relative;max-width:165px;word-wrap:break-word;z-index:99!important;margin-bottom:5px;top:-14px}.headerMessage[_ngcontent-%COMP%]{font-weight:700;font-size:14px;min-width:165px;position:relative;margin-top:-8px}.footerMessage[_ngcontent-%COMP%]{font-size:10px;color:#3b3b3b;min-width:165px;position:relative;top:-8px;margin-bottom:-2px}.footerMessageList[_ngcontent-%COMP%]{top:-10px!important;margin-bottom:-10px!important}.messageButton[_ngcontent-%COMP%]{text-align:center;min-width:165px;color:#2020d3;margin-top:-3px;top:-15px}.tick[_ngcontent-%COMP%]{position:relative;top:5px}.time[_ngcontent-%COMP%]{position:relative;top:-2px!important;font-size:8px;color:#626468}.arrange_recievedTime[_ngcontent-%COMP%]{position:relative;top:-6px!important}.message_list[_ngcontent-%COMP%]{min-width:165px}.listOptionsDiv[_ngcontent-%COMP%]{position:relative;top:-4px}.list-description[_ngcontent-%COMP%]{margin-left:5px;font-size:10px}.list-SectionName[_ngcontent-%COMP%]{color:#3636e1;margin:5px 0}.chatIcon[_ngcontent-%COMP%]{position:relative;float:right;clear:both;line-height:15px;font-size:12px}.font-x-large[_ngcontent-%COMP%]{color:var(--main-chatBtn)!important;font-size:x-large}.message.sentD[_ngcontent-%COMP%]{background:#EEEEEE!important;border-radius:5px 0 5px 5px;float:right;margin-right:15px;margin-top:-5px;margin-bottom:12px}.-mt-1[_ngcontent-%COMP%]{margin-top:-12px}.messageButtonDiv[_ngcontent-%COMP%]{margin-top:-10px!important}']}),n})();function ci(n,p){if(1&n&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" << Flow : ",t.flowName,"")}}function di(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"strong"),e._uU(3),e.qZA()(),e._UZ(4,"div",20),e.TgZ(5,"a",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().logout()}),e._UZ(6,"i",22),e._uU(7," Logout"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.userName)}}function pi(n,p){1&n&&e._UZ(0,"app-chat-bot",23)}const hi=function(){return{src:"assets/img/logo/Etisalat Logo AI-01.png",height:50,width:50}};let Ne=(()=>{class n{constructor(t,i,s,o,d,w,y,I,R,W,Q){this.appService=t,this.http=i,this.Service=s,this.router=o,this.loginService=d,this.flowbuilder=w,this.service=y,this.location=I,this.authService=R,this.swpush=W,this.signInService=Q,this.publicKey="BDBOu5nMJjJwm5DTS-Ed2Yrxc6UhwNT7AhY0GZLoH9WEdcamHr5NZsQSwGwC5XslCLNoxZExTNNEHA3qeFSwPTQ",this.baseURL=h.X.Config.api.sms,this.httpOptions={headers:new D.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),responseType:"json"},this.sidebarMinimized=!1,this.navItems=[],this.usedPercent=0,this.modularSidebar="",this.accDisable=!1,this.agentWindow=!1,this.buildName="Acp",this.globalNav="",this.globalnavv_enduser="",t.defaultFlag=!1,sessionStorage.setItem("defaultFlag",this.signInService.encryptData("false"))}toggleMinimize(t){this.sidebarMinimized=t}unloadHandler(t){}ngOnInit(){this.globalNav=this.appService.navData,this.globalnavv_enduser=this.appService.navData_enduser,this.userName=this.signInService.decryptData(sessionStorage.getItem("UserName")),"5"==this.signInService.decryptData(sessionStorage.getItem("RoleID"))&&this.pushSubscription(),this.swpush.messages.subscribe(s=>{}),this.service.refresh.subscribe(s=>{if("close"==s){if(this.sidebarMinimized=!0,(o=document.getElementsByTagName("app-sidebar-nav"))[0].classList.add("displayNone"),(d=document.getElementById("body")).classList.contains("sidebar-minimized")&&d.classList.remove("sidebar-minimized"),d.classList.contains("sidebar-lg-show")){d.classList.remove("sidebar-lg-show");var w=document.getElementsByClassName("navbar-toggler-icon");setTimeout(()=>{w[1].classList.add("navbar-toggler-icon-rotate")},100)}}else if("open"==s){var o,d=document.getElementById("body");if(this.sidebarMinimized=!1,d.classList.contains("brand-minimized")&&d.classList.remove("brand-minimized"),!d.classList.contains("sidebar-lg-show")){d.classList.add("sidebar-lg-show");var y=document.getElementsByClassName("navbar-toggler-icon-rotate");setTimeout(()=>{y[0].classList.remove("navbar-toggler-icon-rotate")},100)}(o=document.getElementsByTagName("app-sidebar-nav"))[0].classList.contains("displayNone")&&o[0].classList.remove("displayNone")}}),this.flowbuilder.flowName.subscribe(s=>{this.flowName=s}),1==this.flowbuilder.reload&&(this.flowbuilder.reload=0,window.location.reload()),this.RoleID=this.signInService.decryptData(sessionStorage.getItem("RoleID")),this.modularSidebar=this.signInService.decryptData(sessionStorage.getItem("modularity")),this.flowbuilder.flowName.subscribe(s=>{this.flowName=s}),document.body.classList.contains("sidebar-lg-show"),this.preventBackButton(),this.appService.buildName==b.Z.Prutech?(this.brandMin={src:"assets/img/brandImg/MinimizedLogo.JPG",width:56,height:56},this.footerHref="https://prutech.in/",this.footerName="Prutech",this.headerStyle="background-color: #F7F8FC;",this.sidebarStyle="background-image: linear-gradient(to bottom, #54bbea, #4bb4e5, #42acdf, #38a5da, #2e9ed4, #2890c6, #2282b8, #1c74aa, #195d90, #154776, #0f325d, #071e44);"):this.appService.buildName==b.Z.Vil?(this.brandMin={src:"assets/img/brandImg/MinimizedLogo.jpg",width:50,height:48},this.footerHref="https://www.myvi.in/",this.footerName="Vi",this.headerStyle="background-color: #F7F8FC; border: 0px !important; background-color:#5F004B !important;",this.sidebarStyle="background-image: linear-gradient(to bottom, #5F004B,#570044,#4b003b,#420034,#38002c,#2c0023) !important;"):this.appService.buildName==b.Z.Etisalat?(this.footerHref="https://www.etisalat.ae/",this.footerName="Etisalat",this.headerStyle="background-color: #F7F8FC;",this.sidebarStyle="background: linear-gradient(to bottom, #94ce20 0%, #47630f 100%) !important;"):this.appService.buildName==b.Z.Banglalink?(this.brandMin={src:"assets/img/brandImg/MinimizedLogoSvg.svg",width:38,height:38},this.footerHref="https://www.banglalink.net/",this.footerName="Banglalink",this.headerStyle="background-color: #F7F8FC;",this.sidebarStyle="background: linear-gradient(#F58220,#5F1E00) !important;"):this.appService.buildName==b.Z.Airtel&&(this.brandMin={src:"assets/img/brandImg/MinimizedLogoSvg.svg",width:38,height:38},this.footerHref="https://www.airtel.co.ug/",this.footerName="Airtel",this.headerStyle="background-color: #F7F8FC;",this.sidebarStyle="background: linear-gradient(#FE0000,#B90000) !important;");let i=[];i=3==this.RoleID?this.globalnavv_enduser:this.globalNav,this.navItems=i}isHomeRoute(){return"/flow/flow"===this.router.url||"/flow/flowpreview"===this.router.url}pushSubscription(){!this.swpush.isEnabled||this.swpush.requestSubscription({serverPublicKey:this.publicKey}).then(t=>this.sendNotification(JSON.stringify(t)).subscribe(i=>{console.log(i,"res")})).catch(t=>console.log(t))}sendNotification(t){return this.http.post(this.baseURL+"api/webpush/webpush",t,this.httpOptions).pipe((0,C.X)(2))}preventBackButton(){history.pushState(null,null,location.href),this.location.onPopState(()=>{history.pushState(null,null,location.href)})}logout(){this.preventBackButton(),sessionStorage.setItem("IsLoggedIn","false");const t=h.X.Config.api.sms;var s=this.signInService.decryptData(sessionStorage.getItem("LoginID"));this.signInService.logout(s,0).subscribe(o=>{window.sessionStorage.clear(),sessionStorage.setItem("IsLoggedIn","false"),window.location.href=t},o=>{console.log("Logout 2: ",o),window.sessionStorage.clear(),sessionStorage.setItem("IsLoggedIn","false"),window.location.href=t})}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.z),e.Y36(D.eN),e.Y36(_),e.Y36(u.F0),e.Y36(U.r),e.Y36(A.i),e.Y36(E.M),e.Y36(x.S$),e.Y36(B.e),e.Y36(L.Mk),e.Y36(r.l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],hostBindings:function(t,i){1&t&&e.NdJ("unload",function(o){return i.unloadHandler(o)},!1,e.Jf7)},decls:27,vars:21,consts:[[3,"fixed","navbarBrandFull","navbarBrandMinimized","sidebarToggler","asideMenuToggler","mobileAsideMenuToggler","appAsideMenuToggler"],["class","flowName",4,"ngIf"],[1,"nav","navbar-nav","ml-auto"],["role","button",1,"nav-item","d-md-down-none","dropdown",2,"display","none"],["dropdown","","placement","bottom right",1,"nav-item","dropdown"],["data-toggle","dropdown","href","#","role","button","aria-haspopup","true","aria-expanded","false","dropdownToggle","",1,"nav-link",3,"click"],["src","assets/img/avatars/6.jpg","alt","Logo",1,"img-avatar","mr-4"],["class","dropdown-menu dropdown-menu-right","aria-labelledby","simple-dropdown",4,"dropdownMenu"],[1,"app-body"],[1,"ng-star-inserted","open",3,"fixed","display","minimized","minimizedChange"],["appSidebar",""],[3,"navItems"],["id","mainTag",1,"main",2,"background-color","#F7F8FC"],["id","container",1,"container-fluid",2,"padding-top","1.75rem"],["id","chatBotComp","class","chatBotWindow",4,"ngIf"],["target","_blank",3,"href"],[1,"ml-auto"],[1,"flowName"],["aria-labelledby","simple-dropdown",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-header","text-center"],[1,"divider"],[1,"dropdown-item",3,"click"],[1,"fa","fa-lock"],["id","chatBotComp",1,"chatBotWindow"]],template:function(t,i){1&t&&(e.TgZ(0,"app-header",0),e.YNc(1,ci,2,1,"div",1),e.TgZ(2,"ul",2)(3,"li",3),e._UZ(4,"app-manage-acc-service"),e.qZA(),e.TgZ(5,"li",4)(6,"a",5),e.NdJ("click",function(){return!1}),e._UZ(7,"img",6),e.qZA(),e.YNc(8,di,8,1,"div",7),e.qZA()()(),e.TgZ(9,"div",8)(10,"app-sidebar",9,10),e.NdJ("minimizedChange",function(o){return i.toggleMinimize(o)}),e._UZ(12,"app-sidebar-nav",11),e.qZA(),e.TgZ(13,"main",12)(14,"div",13),e._UZ(15,"router-outlet")(16,"app-verification"),e.qZA()(),e.YNc(17,pi,1,0,"app-chat-bot",14),e.qZA(),e.TgZ(18,"app-footer")(19,"span")(20,"a",15),e._uU(21,"IncomingSMS 1.00"),e.qZA(),e._uU(22," \xa9 2024."),e.qZA(),e.TgZ(23,"span",16),e._uU(24,"Powered by "),e.TgZ(25,"a",15),e._uU(26),e.qZA()()()),2&t&&(e.Akn(i.headerStyle),e.Q6J("fixed",!0)("navbarBrandFull",e.DdM(20,hi))("navbarBrandMinimized",i.brandMin)("sidebarToggler","lg")("asideMenuToggler",!1)("mobileAsideMenuToggler",!1)("appAsideMenuToggler",!1),e.xp6(1),e.Q6J("ngIf",i.isHomeRoute()),e.xp6(9),e.Akn(i.sidebarStyle),e.Q6J("fixed",!0)("display","lg")("minimized",i.sidebarMinimized),e.xp6(2),e.Q6J("navItems",i.navItems),e.xp6(5),e.Q6J("ngIf",i.agentWindow),e.xp6(3),e.s9C("href",i.footerHref,e.LSH),e.xp6(5),e.s9C("href",i.footerHref,e.LSH),e.xp6(1),e.Oqu(i.footerName))},directives:[T.Pj,T.mD,x.O5,G,ie.TO,ie.Mq,ie.Hz,T.ys,T.zH,u.lC,ae,li,T.qB],encapsulation:2}),n})();var xe=a(18042);let Ee=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:15,vars:0,consts:[[1,"mars"],["src","https://assets.codepen.io/1538474/404.svg",1,"logo-404"],["src","https://assets.codepen.io/1538474/meteor.svg",1,"meteor"],[1,"title"],[1,"subtitle",2,"margin-top","50px"],["align","center"],["href","#",1,"btn-back"],["src","https://assets.codepen.io/1538474/astronaut.svg",1,"astronaut"],["src","https://assets.codepen.io/1538474/spaceship.svg",1,"spaceship"]],template:function(t,i){1&t&&(e._UZ(0,"div",0)(1,"img",1)(2,"img",2),e.TgZ(3,"p",3),e._uU(4,"Oh no!!"),e.qZA(),e.TgZ(5,"div",4)(6,"p"),e._uU(7," You\u2019re either misspelling the URL "),e.qZA(),e.TgZ(8,"p"),e._uU(9,"or requesting a page that's no longer here. "),e.qZA()(),e.TgZ(10,"div",5)(11,"a",6),e._uU(12,"Back Home"),e.qZA()(),e._UZ(13,"img",7)(14,"img",8))},styles:['@import"https://fonts.googleapis.com/css?family=Nunito:400,600,700";@keyframes floating{0%{transform:translateY(0)}65%{transform:translateY(15px)}to{transform:translateY(0)}}html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{background-image:url(https://assets.codepen.io/1538474/star.svg),linear-gradient(to bottom,#05007A,#4D007D);height:100%;margin:0;background-attachment:fixed;overflow:hidden}.mars[_ngcontent-%COMP%]{left:0;right:0;bottom:0;position:absolute;height:27vmin;background:url(https://assets.codepen.io/1538474/mars.svg) no-repeat bottom center;background-size:cover}.logo-500[_ngcontent-%COMP%]{position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;top:16vmin;width:30vmin}@media (max-width: 480px) and (min-width: 320px){.logo-500[_ngcontent-%COMP%]{top:45vmin}}.meteor[_ngcontent-%COMP%]{position:absolute;right:2vmin;top:16vmin}.title[_ngcontent-%COMP%]{color:#05007a;font-family:Nunito,sans-serif;font-weight:600;text-align:center;font-size:5vmin;margin-top:31vmin}@media (max-width: 480px) and (min-width: 320px){.title[_ngcontent-%COMP%]{margin-top:65vmin}}.subtitle[_ngcontent-%COMP%]{color:#000;font-family:Nunito,sans-serif;font-weight:400;text-align:center;font-size:3.5vmin;margin-top:-1vmin;margin-bottom:9vmin}.btn-back[_ngcontent-%COMP%]{border:1px solid #e6900f;color:#250ef5;height:5vmin;padding:12px;font-family:Nunito,sans-serif;text-decoration:none;border-radius:5px}.btn-back[_ngcontent-%COMP%]:hover{background:white;color:#4d007d}@media (max-width: 480px) and (min-width: 320px){.btn-back[_ngcontent-%COMP%]{font-size:3.5vmin}}.astronaut[_ngcontent-%COMP%]{position:absolute;top:18vmin;left:10vmin;height:30vmin;animation:floating 3s infinite ease-in-out}@media (max-width: 480px) and (min-width: 320px){.astronaut[_ngcontent-%COMP%]{top:2vmin}}.spaceship[_ngcontent-%COMP%]{position:absolute;bottom:15vmin;right:24vmin}@media (max-width: 480px) and (min-width: 320px){.spaceship[_ngcontent-%COMP%]{width:45vmin;bottom:18vmin}}']}),n})();const mi=[{path:"",loadChildren:()=>a.e(922).then(a.bind(a,95922)).then(n=>n.SigninModule)},{path:"404",component:Ee,data:{title:"Page 404"}},{path:"*",component:Ee,data:{title:"Page 404"}},{path:"500",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:104,vars:0,consts:[[1,"main-error-page"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","auto","height","290","viewBox","0 0 470 290"],["id","prefix__a","d","M221.677 31.582c-55.54 19.895-112.156 36.51-167.848 55.993C33.02 94.854 8.92 106.19 5.062 129.52c-2.513 15.198 5.634 31.108 17.898 38.96 5.99 3.835 13.34 6.531 16.472 13.261 4.87 10.459-3.88 22.449-13.113 28.531-9.236 6.083-20.5 10.905-24.704 21.695-1.121 2.876-1.61 5.944-1.615 9.05v.082c.006 4.547 1.05 9.169 2.674 13.386 10.06 26.125 39.391 37.567 65.477 36.17 26.086-1.398 50.827-12.414 76.417-18.085 43.668-9.678 88.389-3.63 133.098 2.418 45.256 6.122 90.501 12.244 134.63 2.054 13.65-3.153 27.4-8.086 37.944-17.999 11.883-11.174 18.63-28.03 19.648-45.048.069-1.15.106-2.31.112-3.477v-.557c-.067-15.128-5.551-31.08-17.856-37.794-7.833-4.274-17.195-4.1-25.7-1.775-5.43 1.485-10.766 3.811-16.368 3.85-5.601.04-11.763-3-13.386-8.812-1.707-6.11 2.182-12.416 6.642-16.586 9.073-8.477 21.203-12.714 29.44-22.137 7.927-9.07 11.265-22.586 8.575-34.734-2.692-12.149-11.326-22.552-22.189-26.73-14.224-5.471-29.105-.465-44.051 4.542-14.139 4.736-28.34 9.474-42.1 5.336-2.1-.63-4.312-1.606-5.418-3.643-1.08-1.989-.835-4.511-.214-6.719 3.468-12.355 16.938-20.22 17.528-33.12.322-7.01-3.504-13.572-8.325-18.26C327.188 4.247 316.599.782 305.483.782c-28.103 0-59.605 22.132-83.806 30.8z"],["id","prefix__c","d","M39.89.625c-2.162 6.638-7.77 12.79-13.571 16.612-9.236 6.082-20.5 10.904-24.704 21.694C.494 41.807.005 44.875 0 47.98v.082c.006 4.547 1.05 9.17 2.674 13.386 10.06 26.126 39.391 37.568 65.477 36.17 26.086-1.397 50.827-12.414 76.417-18.085 43.668-9.678 88.389-3.629 133.098 2.419 45.256 6.122 90.501 12.244 134.63 2.054 13.65-3.154 27.4-8.086 37.944-18 11.883-11.174 18.63-28.03 19.648-45.048.069-1.15.106-2.31.112-3.477v-.557c-.025-5.484-.761-11.079-2.277-16.3H39.89z"],["id","prefix__e","d","M.99 2.778v5.157c0 1.457 1.467 2.638 3.277 2.638s3.278-1.181 3.278-2.638V2.778c0-1.457-1.467-2.637-3.278-2.637C2.457.141.99 1.321.99 2.778z"],["id","prefix__g","d","M.577 2.778v5.157c0 1.457 1.468 2.638 3.279 2.638 1.81 0 3.278-1.181 3.278-2.638V2.778c0-1.457-1.468-2.637-3.278-2.637S.576 1.321.576 2.778z"],["id","prefix__i","d","M.39 2.037c0 1.08.88 1.956 1.966 1.956 1.087 0 1.968-.877 1.968-1.956 0-1.08-.88-1.956-1.968-1.956C1.27.081.39.957.39 2.037z"],["id","prefix__k","d","M.39 2.466c0 1.08.88 1.956 1.966 1.956 1.087 0 1.968-.875 1.968-1.956 0-1.079-.88-1.954-1.968-1.954C1.27.512.39 1.387.39 2.466z"],["id","prefix__m","d","M1.963.022C.893.022.026.898.026 1.977c0 1.08.867 1.956 1.937 1.956H16.45c1.068 0 1.935-.876 1.935-1.956 0-1.079-.867-1.955-1.935-1.955H1.963z"],["id","prefix__o","d","M5.214 5.34c-.85 3.38 1.072 5.145 5.14 11.15L.464 55.893l44.419 11.492 9.888-39.401c6.384-3.286 8.919-3.909 9.77-7.295.793-3.159-1.093-6.383-4.206-7.189L12.294 1.071c-.48-.125-.962-.185-1.437-.185-2.598 0-4.972 1.783-5.643 4.453z"],["id","prefix__q","d","M5 6.465c-1.055 4.052 1.213 6.332 4.666 11.2l-9.2 35.38 2.075.52 9.442-36.306c-3.886-5.53-5.717-7.165-4.909-10.276.758-2.91 3.791-4.675 6.762-3.933l45.868 11.453c2.971.742 4.772 3.714 4.015 6.624-.81 3.118-3.222 3.687-9.328 6.72L44.95 64.154l2.076.518 9.2-35.38c5.404-2.654 8.514-3.59 9.57-7.646 1.047-4.032-1.447-8.15-5.563-9.177L14.365 1.016c-.635-.159-1.273-.234-1.9-.234-3.44 0-6.58 2.274-7.465 5.683z"],["id","prefix__s","d","M5.916.737C2.89.737.428 3.265.428 6.37c0 3.326 2.16 4.498 7.25 9.07v32.236h43.2V15.44c5.077-4.56 7.25-5.74 7.25-9.07 0-3.105-2.462-5.633-5.488-5.633H5.916z"],["id","prefix__u","d","M7.721.63C3.638.63.314 4.073.314 8.3c0 4.249 2.667 5.935 7.065 9.878v30.697h2.058V17.21C4.476 12.72 2.375 11.562 2.375 8.3c0-3.05 2.398-5.535 5.346-5.535h45.511c2.949 0 5.347 2.484 5.347 5.534 0 3.269-2.108 4.422-7.062 8.911v31.665h2.06V18.178c4.389-3.939 7.061-5.626 7.061-9.879 0-4.227-3.32-7.668-7.406-7.668H7.722z"],["id","prefix__w","d","M4.278.171C2.09.171.314 1.931.314 4.097v43c0 2.168 1.776 3.926 3.964 3.926H69.79c2.187 0 3.963-1.758 3.963-3.926v-43C73.753 1.93 71.977.17 69.79.17H4.278z"],["id","prefix__y","d","M.102 2.593C-.017 3.898.95 5.053 2.26 5.177c1.308.122 2.469-.835 2.591-2.138C4.97 1.735 4.007.58 2.696.456 2.62.448 2.544.445 2.47.445 1.253.445.217 1.367.102 2.593z"],["id","prefix__A","d","M.007 2.613c-.119 1.303.844 2.459 2.155 2.582 1.311.122 2.472-.834 2.593-2.138.12-1.304-.843-2.46-2.154-2.582-.077-.009-.153-.011-.227-.011-1.216 0-2.253.92-2.367 2.149z"],["id","prefix__C","d","M.79 3.73c-.144.275.15.627.337.37C3.783.462 7.604.373 9.772 4.237c.244.43.852-.108.639-.557C9.353 1.496 7.533.36 5.676.36 3.852.36 1.994 1.456.79 3.73z"],["id","prefix__E","d","M8.699 4.235L2.878 2.667c-.528-.144-1.074.182-1.219.725-.143.547.167 1.102.693 1.243l5.821 1.572-1.076 4.048-5.821-1.572c-.528-.141-1.073.183-1.217.729-.145.544.164 1.1.692 1.24l5.822 1.573-.9 3.377 7.313 1.973c4.037 1.088 8.21-1.407 9.32-5.573.753-2.832-.102-5.71-1.996-7.605-.893-.891-2.014-1.564-3.307-1.914L9.69.511 8.7 4.235z"],["id","prefix__G","d","M1.203 6.693c-1.123 4.183 1.356 8.479 5.536 9.596l7.57 2.024 1.534-5.714 2.531-9.428-7.569-2.025C10.128.966 9.445.88 8.775.88c-3.462 0-6.632 2.31-7.572 5.814z"],["fill","none","fill-rule","evenodd"],["fill","#FFF","d","M0 0H1366V800H0z","transform","translate(-448 -158)"],["transform","translate(-448 -158) translate(448 157) translate(0 .61)"],["id","prefix__b","fill","#fff"],[0,"xlink","href","#prefix__a"],["fill","#F6F6F7","d","M-5.995 296.763L475.995 296.763 475.995 -5.213 -5.995 -5.213z","mask","url(#prefix__b)"],["transform","translate(-448 -158) translate(448 157) translate(0 193.645)"],["id","prefix__d","fill","#fff"],[0,"xlink","href","#prefix__c"],["fill","#EDEDF0","d","M-20.194 115.101L487.354 115.101 487.354 36.101 -20.194 36.101z","mask","url(#prefix__d)"],["stroke","#2D3F5B","stroke-linecap","round","stroke-width","4","d","M42.92 106.015c1.69-.15 3.386-.39 5.08-.454 1.496-.056 3.045.109 4.354.832 2.559 1.415 3.61 4.459 6.173 5.892 3.477 1.945 7.237 2.323 11.14 2.395 4.592.085 9.185.091 13.777.069 9.192-.045 18.386-.2 27.579.004 1.455.032 2.97.052 4.292-.562 2.606-1.208 2.6-4.556-.086-5.63-1.088-.434-2.291-.441-3.463-.441l-32.929-.022c-2.27-.001-5.629.548-5.724 3.443-.215 6.553.078 15.199.713 21.722.17 1.76.492 3.722 1.92 4.769.896.657 2.057.81 3.166.904 6.696.573 13.43-.22 20.15-.185 6.721.034 13.7.992 19.326 4.657 10.875 7.087 11.581 26.256-1.336 31.914-6.591 2.887-14.242 2.35-21.267 2.257-7.79-.103-12.714.024-20.504-.132-1.647-.034-3.648-.288-4.304-1.797-.574-1.324.355-2.913 1.64-3.573 1.285-.663 2.802-.642 4.248-.603 32.437.865 62.03 4.399 94.49 2.362 15.62-.979 26.11-9.971 29.058-25.472 2.41-12.67-.035-28.363-10.01-37.409-1.853-1.68-3.952-3.08-6.24-4.098-9.326-4.147-21.037-3.107-28.714 3.924-3.952 3.619-6.283 8.75-7.291 14.006-1.948 10.149-2.077 21.397 1.549 31.197 4.503 12.17 15.295 17.937 27.852 19.106 22.936 2.138 46.167 2.247 68.908-1.419 6.817-1.1 14.77-3.416 19.496-8.795 11.362-12.935 9.584-40.905-1.435-53.582-9.245-10.635-26.641-9.576-36.17.345-4.034 4.198-6.308 9.85-7.244 15.591-2.07 12.71-.474 27.655 8.267 37.863 5.498 6.42 14.934 9.316 22.9 11.018 5.7 1.217 11.59 1.935 17.404 1.17 5.668-.749 11.264-3.322 17.003-1.433 3.896 1.282 7.194 5.378 6.09 9.328-1.146 4.102-6.015 5.773-10.238 6.335-17.139 2.28-34.126-2.651-51.125 1.61-3.002.753-5.983 1.835-8.431 3.728-2.449 1.894-4.32 4.697-4.543 7.785-.835 11.582 23.435 6.912 30.629 10.509","transform","translate(-448 -158) translate(448 157)",1,"fio-500"],["transform","translate(-448 -158) translate(448 157) translate(389.862 231.813)"],["id","prefix__n","fill","#fff"],[0,"xlink","href","#prefix__m"],["fill","#4B4B62","d","M-5.969 9.929L24.38 9.929 24.38 -5.973 -5.969 -5.973z","mask","url(#prefix__n)",1,"fio"],["stroke","#2D3F5B","stroke-linecap","round","stroke-width","4","d","M332.999 253.51c-7.766-.244-14.938 4.491-22.688 4.744-2.34.077-4.8.01-6.847-1.128-2.662-1.483-3.966-4.531-3.511-7.501.564-3.683 3.808-5.906 6.02-8.612 3.643-4.453 2.47-9.05-2.76-11.169-5.66-2.293-11.803-3.685-17.833-4.585","transform","translate(-448 -158) translate(448 157)",1,"fio"],[1,"full-torradeira"],["transform","translate(-448 -158) translate(448 157) translate(332.51 262.987)"],["id","prefix__f","fill","#fff"],[0,"xlink","href","#prefix__e"],["fill","#4B4B62","d","M-5.006 16.566L13.541 16.566 13.541 -5.855 -5.006 -5.855z","mask","url(#prefix__f)"],["transform","translate(-448 -158) translate(448 157) translate(384.066 262.987)"],["id","prefix__h","fill","#fff"],[0,"xlink","href","#prefix__g"],["fill","#4B4B62","d","M-5.418 16.566L13.129 16.566 13.129 -5.855 -5.418 -5.855z","mask","url(#prefix__h)"],["transform","translate(-448 -158) translate(448 157) translate(396.056 247.4)"],["id","prefix__j","fill","#fff"],[0,"xlink","href","#prefix__i"],["fill","#4B4B62","d","M-5.605 9.989L10.318 9.989 10.318 -5.913 -5.605 -5.913z","mask","url(#prefix__j)"],["transform","translate(-448 -158) translate(448 157) translate(396.056 254.793)"],["id","prefix__l","fill","#fff"],[0,"xlink","href","#prefix__k"],["fill","#4B4B62","d","M-5.605 10.418L10.318 10.418 10.318 -5.483 -5.605 -5.483z","mask","url(#prefix__l)"],[1,"pao-atras"],["transform","translate(-448 -158) translate(448 157) translate(340.903 169.665)"],["id","prefix__p","fill","#fff"],[0,"xlink","href","#prefix__o"],["fill","#FFDA7F","d","M-5.53 73.379L70.718 73.379 70.718 -5.109 -5.53 -5.109z","mask","url(#prefix__p)"],["transform","translate(-448 -158) translate(448 157) translate(340.903 168.466)"],["id","prefix__r","fill","#fff"],[0,"xlink","href","#prefix__q"],["fill","#E6A95F","d","M-5.53 70.667L72.03 70.667 72.03 -5.213 -5.53 -5.213z","mask","url(#prefix__r)"],[1,"pao-frente"],["transform","translate(-448 -158) translate(448 157) translate(326.515 182.854)"],["id","prefix__t","fill","#fff"],[0,"xlink","href","#prefix__s"],["fill","#FFDA7F","d","M-5.568 53.67L64.123 53.67 64.123 -5.259 -5.568 -5.259z","mask","url(#prefix__t)"],["transform","translate(-448 -158) translate(448 157) translate(325.316 181.655)"],["id","prefix__v","fill","#fff"],[0,"xlink","href","#prefix__u"],["fill","#E6A95F","d","M-5.68 54.87L66.634 54.87 66.634 -5.363 -5.68 -5.363z","mask","url(#prefix__v)"],["transform","translate(-448 -158) translate(448 157) translate(344.301 197.242)"],["id","prefix__z","fill","#fff"],[0,"xlink","href","#prefix__y"],["fill","#633","d","M-4.153 -6.995L12.298 -3.797 9.107 12.627 -7.346 9.429z","mask","url(#prefix__z)",1,"olho-esq"],["transform","translate(-448 -158) translate(448 157) translate(361.087 197.242)"],["id","prefix__B","fill","#fff"],[0,"xlink","href","#prefix__A"],["fill","#633","d","M-4.248 -6.976L12.203 -3.778 9.011 12.645 -7.441 9.448z","mask","url(#prefix__B)",1,"olho-dir"],["transform","translate(-448 -158) translate(448 157) translate(350.495 206.834)"],["id","prefix__D","fill","#fff"],[0,"xlink","href","#prefix__C"],["fill","#633","d","M-3.14 -7.546L17.993 -3.438 14.8 12.985 -6.333 8.878z","mask","url(#prefix__D)",1,"boca"],["transform","translate(-448 -158) translate(448 157) translate(325.316 218.624)",1,"torradeira"],["id","prefix__x","fill","#fff"],[0,"xlink","href","#prefix__w"],["fill","#C81414","d","M-5.68 57.017L79.748 57.017 79.748 -5.823 -5.68 -5.823z","mask","url(#prefix__x)"],["stroke","#fdba55","stroke-linecap","round","stroke-width","1.8",1,"raios"],["d","M18.393 5.769L21.35 2.82M9.304 4.452L7.306.783M14.502 3.516L14.981.207M3.272 28.271L.229 31.133M12.317 29.853L14.208 33.577M7.095 30.637L6.52 33.93","transform","translate(-448 -158) translate(448 157) translate(260.571 203.237)"],["transform","translate(-448 -158) translate(448 157) translate(272.561 215.226)"],["id","prefix__F","fill","#fff"],[0,"xlink","href","#prefix__E"],["fill","#2D3F5B","d","M10.383 -14.007L34.351 9.962 12.875 31.438 -11.095 7.469z","mask","url(#prefix__F)",1,"tomada"],["transform","translate(-448 -158) translate(448 157) translate(246.184 208.033)"],["id","prefix__H","fill","#fff"],[0,"xlink","href","#prefix__G"],["fill","#2D3F5B","d","M10.807 -12.875L32.391 8.709 10.793 30.309 -10.793 8.724z","mask","url(#prefix__H)",1,"tomada"],[1,"error-title"],[1,"error-subtitle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1)(2,"defs"),e._UZ(3,"path",2)(4,"path",3)(5,"path",4)(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13)(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18),e.qZA(),e.TgZ(20,"g",19),e._UZ(21,"path",20),e.TgZ(22,"g")(23,"g",21)(24,"mask",22),e._UZ(25,"use",23),e.qZA(),e._UZ(26,"path",24),e.qZA(),e.TgZ(27,"g",25)(28,"mask",26),e._UZ(29,"use",27),e.qZA(),e._UZ(30,"path",28),e.qZA(),e._UZ(31,"path",29),e.TgZ(32,"g",30)(33,"mask",31),e._UZ(34,"use",32),e.qZA(),e._UZ(35,"path",33),e.qZA(),e._UZ(36,"path",34),e.TgZ(37,"g",35)(38,"g",36)(39,"mask",37),e._UZ(40,"use",38),e.qZA(),e._UZ(41,"path",39),e.qZA(),e.TgZ(42,"g",40)(43,"mask",41),e._UZ(44,"use",42),e.qZA(),e._UZ(45,"path",43),e.qZA(),e.TgZ(46,"g",44)(47,"mask",45),e._UZ(48,"use",46),e.qZA(),e._UZ(49,"path",47),e.qZA(),e.TgZ(50,"g",48)(51,"mask",49),e._UZ(52,"use",50),e.qZA(),e._UZ(53,"path",51),e.qZA(),e.TgZ(54,"g",52)(55,"g",53)(56,"mask",54),e._UZ(57,"use",55),e.qZA(),e._UZ(58,"path",56),e.qZA(),e.TgZ(59,"g",57)(60,"mask",58),e._UZ(61,"use",59),e.qZA(),e._UZ(62,"path",60),e.qZA()(),e.TgZ(63,"g",61)(64,"g",62)(65,"mask",63),e._UZ(66,"use",64),e.qZA(),e._UZ(67,"path",65),e.qZA(),e.TgZ(68,"g",66)(69,"mask",67),e._UZ(70,"use",68),e.qZA(),e._UZ(71,"path",69),e.qZA(),e.TgZ(72,"g",70)(73,"mask",71),e._UZ(74,"use",72),e.qZA(),e._UZ(75,"path",73),e.qZA(),e.TgZ(76,"g",74)(77,"mask",75),e._UZ(78,"use",76),e.qZA(),e._UZ(79,"path",77),e.qZA(),e.TgZ(80,"g",78)(81,"mask",79),e._UZ(82,"use",80),e.qZA(),e._UZ(83,"path",81),e.qZA()(),e.TgZ(84,"g",82)(85,"mask",83),e._UZ(86,"use",84),e.qZA(),e._UZ(87,"path",85),e.qZA()(),e.TgZ(88,"g",86),e._UZ(89,"path",87),e.qZA(),e.TgZ(90,"g",88)(91,"mask",89),e._UZ(92,"use",90),e.qZA(),e._UZ(93,"path",91),e.qZA(),e.TgZ(94,"g",92)(95,"mask",93),e._UZ(96,"use",94),e.qZA(),e._UZ(97,"path",95),e.qZA()()()(),e.kcU(),e.TgZ(98,"h1",96),e._uU(99," Woops! "),e._UZ(100,"br"),e._uU(101,"Something went wrong :( "),e.qZA(),e.TgZ(102,"h2",97),e._uU(103," Please Try Again "),e.qZA()())},styles:['@import"https://fonts.googleapis.com/css2?family=Roboto&display=swap";.main-error-page[_ngcontent-%COMP%]{min-height:600px;margin:0 auto;width:auto;max-width:560px;display:flex;align-items:center;justify-content:center;flex-direction:column}.error-title[_ngcontent-%COMP%]{max-width:529px;font-family:Roboto;font-size:38px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;text-align:center;color:#4b4b62;margin-bottom:16px}.error-subtitle[_ngcontent-%COMP%]{max-width:568px;font-family:Roboto;font-size:16px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.31;letter-spacing:normal;text-align:center;color:#4b4b62;margin-bottom:24px}svg[_ngcontent-%COMP%]{margin-bottom:16px}.pao-atras[_ngcontent-%COMP%]{animation:leftright 1s alternate infinite;transform-origin:center}.pao-frente[_ngcontent-%COMP%]{animation:leftright 1s .3s alternate infinite;transform-origin:center}.olho-esq[_ngcontent-%COMP%], .olho-dir[_ngcontent-%COMP%], .boca[_ngcontent-%COMP%]{animation:sad 2s alternate infinite;transform-origin:center}.raios[_ngcontent-%COMP%]{animation:flicker-4 4s linear infinite both}.tomada[_ngcontent-%COMP%], .fio-500[_ngcontent-%COMP%], .fio[_ngcontent-%COMP%]{animation:vibrate-1 3s linear infinite both}@keyframes scales{0%{transform:scale(.98)}to{transform:scale(1)}}@keyframes flicker-4{0%,to{opacity:1}31.98%{opacity:1}32%{opacity:0}32.8%{opacity:0}32.82%{opacity:1}34.98%{opacity:1}35%{opacity:0}35.7%{opacity:0}35.72%{opacity:1}36.98%{opacity:1}37%{opacity:0}37.6%{opacity:0}37.62%{opacity:1}67.98%{opacity:1}68%{opacity:0}68.4%{opacity:0}68.42%{opacity:1}95.98%{opacity:1}96%{opacity:0}96.7%{opacity:0}96.72%{opacity:1}98.98%{opacity:1}99%{opacity:0}99.6%{opacity:0}99.62%{opacity:1}}@keyframes vibrate-1{0%{transform:translate(0)}20%{transform:translate(-2px,2px)}40%{transform:translate(-2px,-2px)}60%{transform:translate(2px,2px)}80%{transform:translate(2px,-2px)}to{transform:translate(0)}}@keyframes sad{0%{transform:rotateX(0) rotateY(0)}to{transform:rotateX(10deg) rotateY(5deg)}}@keyframes leftright{0%{transform:rotate(0)}to{transform:rotate(-15deg)}}']}),n})(),data:{title:"Page 500"}},{path:"",component:Ne,children:[{path:"dashboard",canActivate:[xe.i],loadChildren:()=>a.e(677).then(a.bind(a,33677)).then(n=>n.DashboardModule)},{path:"EndUser",canActivate:[xe.i],loadChildren:()=>Promise.all([a.e(811),a.e(837)]).then(a.bind(a,17635)).then(n=>n.EndUserModule)},{path:"ManageVMN",canActivate:[xe.i],loadChildren:()=>Promise.all([a.e(592),a.e(643)]).then(a.bind(a,87643)).then(n=>n.ManageVMNModule)},{path:"Configuration",canActivate:[xe.i],loadChildren:()=>Promise.all([a.e(592),a.e(294)]).then(a.bind(a,38429)).then(n=>n.ConfigurarionModule)},{path:"Report",canActivate:[xe.i],loadChildren:()=>Promise.all([a.e(811),a.e(317)]).then(a.bind(a,34317)).then(n=>n.ReportModule)},{path:"errorcodes",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-errorcodes"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," errorcodes works!\n"),e.qZA())},styles:[""]}),n})()}]},{path:"**",component:Ee}];let fi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forRoot(mi,{relativeLinkResolution:"legacy"})],u.Bz]}),n})();var vi=a(52485),_i=a(89215),le=a(7206);let xi=(()=>{class n{constructor(){this.key=le.enc.Utf8.parse("bf3c199c2470cb477d907b1e0917c17b"),this.iv=le.enc.Utf8.parse("5183666c72eec9e4")}encryptUsingAES256(t){return le.AES.encrypt(le.enc.Utf8.parse(t),this.key,{keySize:16,iv:this.iv,mode:le.mode.CBC,padding:le.pad.Pkcs7}).toString()}decryptUsingAES256(t){return le.AES.decrypt(t,this.key,{keySize:16,iv:this.iv,mode:le.mode.CBC,padding:le.pad.Pkcs7}).toString(le.enc.Utf8)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bi=(()=>{class n{constructor(t){this.encryptDecryptService=t,this.ExcludeURLList=[]}intercept(t,i){let s=this.ExcludeURLList.filter(o=>t.url.includes(o));if(!(s&&s.length>0)){if("GET"==t.method){if(t.url.indexOf("?")>0){let o=t.url.substr(0,t.url.indexOf("?")+1)+this.encryptDecryptService.encryptUsingAES256(t.url.substr(t.url.indexOf("?")+1,t.url.length));const d=t.clone({url:o});return i.handle(d)}return i.handle(t)}if("POST"==t.method){if(t.body||t.body.length>0){const d=t.clone({body:this.encryptDecryptService.encryptUsingAES256(t.body)});return i.handle(d)}return i.handle(t)}}return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(xi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var yi=a(61737),Ci=a(27221);let wi=(()=>{class n{constructor(t){this.toastr=t}intercept(t,i){return i.handle(t).pipe((0,Ci.K)(s=>{let o="";return o=s.error?`Error: ${s.error.message}`:`Error Status: ${s.status}\nMessage: ${s.message}`,(0,yi._)(o)}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG($._W))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Mi=a(591);let Ti=(()=>{class n{constructor(){this.isLoading=new Mi.X(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Si=(()=>{class n{constructor(t){this.loaderService=t,this.requests=[]}removeRequest(t){const i=this.requests.indexOf(t);i>=0&&this.requests.splice(i,1),this.loaderService.isLoading.next(this.requests.length>0)}intercept(t,i){return this.requests.push(t),this.loaderService.isLoading.next(!0),k.y.create(s=>{const o=i.handle(t).subscribe(d=>{d instanceof D.Zn&&(this.removeRequest(t),s.next(d))},d=>{this.removeRequest(t),s.error(d)},()=>{this.removeRequest(t),s.complete()});return()=>{this.removeRequest(t),o.unsubscribe()}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ti))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Oi=a(63806);let Ii=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[E.M],imports:[[x.ez,Oi.q,c.u5]]}),n})();var Pi=a(47907),Di=a(19109),Li=a(11761),Ei=a(81759),Ue=a(92340),Ai=a(25914);function ki(n){return()=>n.load()}let Ni=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n,bootstrap:[f]}),n.\u0275inj=e.cJS({providers:[{provide:x.S$,useClass:x.Do},g.d,h.X,{provide:e.ip1,useFactory:ki,deps:[h.X],multi:!0},P.uk,{provide:D.TP,useClass:bi,multi:!0},{provide:D.TP,useClass:wi,multi:!0},{provide:D.TP,useClass:Si,multi:!0}],imports:[[ke.bd,Di.J7,De.AV,S.b2,Li.sF.withComponents([]),Ai.o,F.PW,fi,T.kI,T.so.forRoot(),T.JM,T.k3,T.el,O.Xd,ie.mr.forRoot(),vi.P4.forRoot(),_i.m9,P.QX,N.Ps,D.JF,Ii,P.Eb.forRoot(),Pi.x.forRoot({preserveScrollPosition:!0}),$.Rh.forRoot({timeOut:5e3,positionClass:"toast-bottom-right",closeButton:!0}),c.u5,c.UX,Ei.ne,L.Wr.register("ngsw-worker.js",{enabled:Ue.N.production}),x.ez]]}),n})();Ue.N.production&&(0,e.G48)(),S.q6().bootstrapModule(Ni,{useJit:!0,preserveWhitespaces:!0}).catch(n=>console.log(n))},46700:(ee,z,a)=>{var S={"./af":27088,"./af.js":27088,"./ar":17038,"./ar-dz":52502,"./ar-dz.js":52502,"./ar-kw":30128,"./ar-kw.js":30128,"./ar-ly":84519,"./ar-ly.js":84519,"./ar-ma":65443,"./ar-ma.js":65443,"./ar-ps":14523,"./ar-ps.js":14523,"./ar-sa":17642,"./ar-sa.js":17642,"./ar-tn":68592,"./ar-tn.js":68592,"./ar.js":17038,"./az":51213,"./az.js":51213,"./be":69191,"./be.js":69191,"./bg":90322,"./bg.js":90322,"./bm":28042,"./bm.js":28042,"./bn":59620,"./bn-bd":65903,"./bn-bd.js":65903,"./bn.js":59620,"./bo":69645,"./bo.js":69645,"./br":45020,"./br.js":45020,"./bs":64792,"./bs.js":64792,"./ca":47980,"./ca.js":47980,"./cs":47322,"./cs.js":47322,"./cv":90365,"./cv.js":90365,"./cy":32092,"./cy.js":32092,"./da":77387,"./da.js":77387,"./de":54307,"./de-at":29459,"./de-at.js":29459,"./de-ch":73694,"./de-ch.js":73694,"./de.js":54307,"./dv":39659,"./dv.js":39659,"./el":3460,"./el.js":3460,"./en-au":94369,"./en-au.js":94369,"./en-ca":60530,"./en-ca.js":60530,"./en-gb":9998,"./en-gb.js":9998,"./en-ie":13391,"./en-ie.js":13391,"./en-il":75414,"./en-il.js":75414,"./en-in":19615,"./en-in.js":19615,"./en-nz":21248,"./en-nz.js":21248,"./en-sg":13767,"./en-sg.js":13767,"./eo":84530,"./eo.js":84530,"./es":86866,"./es-do":18944,"./es-do.js":18944,"./es-mx":29116,"./es-mx.js":29116,"./es-us":83609,"./es-us.js":83609,"./es.js":86866,"./et":96725,"./et.js":96725,"./eu":67931,"./eu.js":67931,"./fa":56417,"./fa.js":56417,"./fi":20944,"./fi.js":20944,"./fil":61766,"./fil.js":61766,"./fo":95867,"./fo.js":95867,"./fr":1636,"./fr-ca":16848,"./fr-ca.js":16848,"./fr-ch":77773,"./fr-ch.js":77773,"./fr.js":1636,"./fy":14940,"./fy.js":14940,"./ga":91402,"./ga.js":91402,"./gd":46924,"./gd.js":46924,"./gl":16398,"./gl.js":16398,"./gom-deva":72457,"./gom-deva.js":72457,"./gom-latn":52545,"./gom-latn.js":52545,"./gu":42641,"./gu.js":42641,"./he":7536,"./he.js":7536,"./hi":96335,"./hi.js":96335,"./hr":7458,"./hr.js":7458,"./hu":56540,"./hu.js":56540,"./hy-am":65283,"./hy-am.js":65283,"./id":98780,"./id.js":98780,"./is":14205,"./is.js":14205,"./it":34211,"./it-ch":29985,"./it-ch.js":29985,"./it.js":34211,"./ja":31003,"./ja.js":31003,"./jv":60420,"./jv.js":60420,"./ka":40851,"./ka.js":40851,"./kk":16074,"./kk.js":16074,"./km":53343,"./km.js":53343,"./kn":44799,"./kn.js":44799,"./ko":13549,"./ko.js":13549,"./ku":91037,"./ku-kmr":63775,"./ku-kmr.js":63775,"./ku.js":91037,"./ky":93125,"./ky.js":93125,"./lb":69586,"./lb.js":69586,"./lo":32349,"./lo.js":32349,"./lt":92400,"./lt.js":92400,"./lv":39991,"./lv.js":39991,"./me":28477,"./me.js":28477,"./mi":55118,"./mi.js":55118,"./mk":15943,"./mk.js":15943,"./ml":13849,"./ml.js":13849,"./mn":31977,"./mn.js":31977,"./mr":66184,"./mr.js":66184,"./ms":70485,"./ms-my":64524,"./ms-my.js":64524,"./ms.js":70485,"./mt":36681,"./mt.js":36681,"./my":52024,"./my.js":52024,"./nb":42688,"./nb.js":42688,"./ne":68914,"./ne.js":68914,"./nl":11758,"./nl-be":52272,"./nl-be.js":52272,"./nl.js":11758,"./nn":41510,"./nn.js":41510,"./oc-lnc":52797,"./oc-lnc.js":52797,"./pa-in":37944,"./pa-in.js":37944,"./pl":1605,"./pl.js":1605,"./pt":54225,"./pt-br":73840,"./pt-br.js":73840,"./pt.js":54225,"./ro":45128,"./ro.js":45128,"./ru":35127,"./ru.js":35127,"./sd":32525,"./sd.js":32525,"./se":59893,"./se.js":59893,"./si":33123,"./si.js":33123,"./sk":59635,"./sk.js":59635,"./sl":78106,"./sl.js":78106,"./sq":88799,"./sq.js":88799,"./sr":97949,"./sr-cyrl":52872,"./sr-cyrl.js":52872,"./sr.js":97949,"./ss":86167,"./ss.js":86167,"./sv":39713,"./sv.js":39713,"./sw":41982,"./sw.js":41982,"./ta":22732,"./ta.js":22732,"./te":43636,"./te.js":43636,"./tet":2115,"./tet.js":2115,"./tg":69801,"./tg.js":69801,"./th":2868,"./th.js":2868,"./tk":31310,"./tk.js":31310,"./tl-ph":22360,"./tl-ph.js":22360,"./tlh":66645,"./tlh.js":66645,"./tr":98374,"./tr.js":98374,"./tzl":256,"./tzl.js":256,"./tzm":61595,"./tzm-latn":61631,"./tzm-latn.js":61631,"./tzm.js":61595,"./ug-cn":6050,"./ug-cn.js":6050,"./uk":65610,"./uk.js":65610,"./ur":86077,"./ur.js":86077,"./uz":22862,"./uz-latn":12207,"./uz-latn.js":12207,"./uz.js":22862,"./vi":48093,"./vi.js":48093,"./x-pseudo":25590,"./x-pseudo.js":25590,"./yo":9058,"./yo.js":9058,"./zh-cn":77908,"./zh-cn.js":77908,"./zh-hk":8867,"./zh-hk.js":8867,"./zh-mo":31133,"./zh-mo.js":31133,"./zh-tw":83291,"./zh-tw.js":83291};function e(F){var O=x(F);return a(O)}function x(F){if(!a.o(S,F)){var O=new Error("Cannot find module '"+F+"'");throw O.code="MODULE_NOT_FOUND",O}return S[F]}e.keys=function(){return Object.keys(S)},e.resolve=x,ee.exports=e,e.id=46700},42480:()=>{}},ee=>{ee.O(0,[736],()=>ee(ee.s=97715)),ee.O()}]);